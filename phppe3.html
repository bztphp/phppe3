<!DOCTYPE HTML>
<html>
<head>
<title>PHP Portal Engine 3</title>
<meta http-equiv='Content-Type' content='text/html;charset=utf-8'/>
<meta name='viewport' content='width=device-width,initial-scale=1.0'/>
<link rel='shortcut icon' href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABX1BMVEUAAAABAAA4AAwRAAQAAAAAAAAAAAACAAAEAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAEAAABAAAAAAAEAABqABoAAABZABZRABRJABEAAAABAAAAAAAAAAAAAAAAAAABAAACAAACAAAEAAACAAAEAAAHAAJlABlbABYAAABfABcAAABYABZjABkAAAAAAAAZAAUzAAw/AA4AAAAOAAJmABkBAAAKAAEAAAAAAAAAAAABAABlABkBAAABAAAAAABlABlVABVTABRAAA9OABNrABtRABQ0AA1tABxUABQlAAgAAABKABNmABprABtqABsrAAprABsYAAUAAAAlAAlUABUyAAxdABdeABhgABgXAAUZAAUQAANoABoWAAUkAAkNAAI9AA8qAApoABpKABNmABoBAAADAAABAABjABkGAAFwABwBAABpABqdACgAAABvABxtABtqABpzABxnABlhABcEO3+uAAAAbnRSTlMAEgQGa15UIhbiqII/+76HclFFJfz29fPo1MagkYxoYk8sKR0QDPzy8vDu7efn29nT0Le2tLKcnJR9dm9aVjg3/fny7+7t7enf3dza19TR0c/MzMvHxcLAurmzpqOJhHt4cGVlUUxIQj8zMhoYD/Q5AO0AAAF2SURBVDjL3dHlbutAEAXgY3ZshzkNQxlv4ZZ7mW+ZmbmztpP3V9dtlUptlQfo92s1Gp3Z2cX7I1UEtKRQFi2NU+HNujYTVotXIhAg8yxSAfSwqoZnxWbDR/IYEHzE9RUhk2dUx5N+MpVgN51blFbkDAXRRsFps48UPLrx+6rgRTlEJjBBci3tF7zcyaeGCAUk4AOpBhUx1dvxbz45KGBuPdE74m0t8ok5wCJfedlfwohtO47LDk++8cMvtQouS4HQWDdNa3GfcLfo/AgMfGJdPezz762dPI/wwuPxznQBF50Grn82BoKZL65Tt+s9e5Eon82X86uzZX7QLQ2nrDEsZzpYzG5PDR2Uxcc7/kHTlJ3Y3v/L2lN2fWEsFIUn3D+Bpl3HZq4bGxzuYszdLD0kSLXnN7397yS+JlMrRuho9XtyLa/jhbmYs2SM58xCtGZNZnPKq98/Zo3RfEmrVHmwrkV1CS9cbgy1WSJaEGYUDa2Ikoj36B5oQEN9Fb1CSAAAAABJRU5ErkJggg=='/>
<style type='text/css'>
body {padding-top:30px;}
body,td,div{font-family:sans-serif;font-size:14px;}
pre {border: dotted 1px #000000;background:#F0F0F0;padding:3px 3px 3px 3px;}
#header {position:fixed;z-index:6;top:0px;left:0px;width:100%;padding: 0px 2px 0px 2px;background:linear-gradient(rgba(136,146,191,0.4),rgba(136,146,191,0.6),rgba(136,146,191,0.8),rgba(136,146,191,0.9),rgba(136,146,191,1) 90%,rgba(0,0,0,1));height:31px;}
#header DIV.title {position:fixed;top:4px;width:80%;text-align:center;font-family:sans-serif;line-height:20px;font-size:20px;font-weight:bold;text-shadow:2px 2px 2px #FFFFFF;}
#header DIV.back {position:fixed;top:8px;left:70px;font-weight:bold;}
#infobox {position:fixed;bottom:0px;right:0px;width:200px;font-family:fixed;color:#808080;font-size:12px;opacity:0.8;cursor:pointer;}
.back A { text-decoration:none;color:#000000;cursor:pointer;z-index:10;text-shadow:2px 2px 2px #FFFFFF;margin-left:40px;}
#header DIV.dock {position:fixed;top:0px;right:168px;font-size:24px;line-height:24px;}
#header IMG {border:0px;}
.toc {position:fixed;top:34px;right:2px;width:220px;border-left:1px solid #000000;padding-left:4px;display:none;z-index:5;}
.toc A {text-decoration:none;color:#000000;}
.tab { padding-bottom:64px;}
.dlbox { float:left;display:block;width:280px;background:#F0F0F0;color:#808080; margin:5px;padding:8px;}
.dlbox A { margin-top:5px; clear:both; width:100%; text-align:center; display:block;background:#D0D0D0; text-decoration:none;color:#000;cursor:pointer;padding:3px;}
.dlbox SPAN { margin-top:5px; clear:right; text-align:center; background:#D0D0D0; text-decoration:none;color:#000;cursor:pointer;padding:3px;}
.dlbox B { color:#000;}
#content {padding-right:224px;}
TABLE.parameters TD {border:dotted 1px #808080;padding: 5px;}
#installpreview PRE { background: #ffffff !important; border: solid 0px !important; }
PRE[class] { margin: 0px 0px 0px 0px; font-size: 14px; line-height: 16px; padding: 0px 0px 0px 36px; background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAgCAIAAABch4VNAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wLEREfNbBQdOUAAAAidEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVAgb24gYSBNYWOHqHdDAAAAGElEQVQI12N4+/YtEwMDA9n4xYsXlOgHABagBb6SY4hyAAAAAElFTkSuQmCC"); }
PRE.lineno { margin: 0px 0px 0px 0px; border-right: solid 0px; padding: 0px 0px 0px 0px; background:#F2F2F2; color:#C0C0C0; width:32px !important; float:left; text-align: right; }
PRE SPAN.comment	{ color:#808080; }
PRE SPAN.stringconst	{ color:blue; }
PRE SPAN.number		{ color:darkblue; }
PRE SPAN.type		{ color:green; }
PRE SPAN.keyword	{ color:brown; }
PRE SPAN.control	{ color:#000000; }
PRE SPAN.condition	{ color:brown; }
PRE SPAN.let		{ color:brown; }
PRE SPAN.separator	{ color:#808080; }
PRE SPAN.operator	{ color:green; }
PRE SPAN.index		{ color:green; }
PRE SPAN.variable	{ color:#6495ED; }
PRE SPAN.function	{ color:darkgreen; }
</style>
<script type='text/javascript'>
var highlight_loaded="";
var highlight_types=new Array();
highlight_types["php"]={
	"stringconst": "\'\"",
    	"index": [ "[", "]" ],
	"comment": [ "\/\/","\/\*","\*\/" ],
	"keywords": [ "var","new","function","case","global","static","private","public","return","class","extends","throw","include","include_once","require","require_once","unset" ],
	"types": [ "stdclass","array","exception" ],
	"controls": [ ";","(",")","foreach","for","if","elseif","else","break","try","catch","switch","while","empty","isset","is_array","is_object","method_exists","class_exists","function_exists" ],
	"separators": [ ".","->","-&gt;","::",":","=>","=&gt;" ],
	"operators": [ "|","-","+","%%","%","**","*","/","?" ],
	"conditions": [ "||","&&","&amp;&amp;","&","&amp;","===","!==","==","!=","<","&lt;",">","&gt;","<=","&lt;=",">=","&gt;=" ],
	"lets": [ "+=","-=","*=","/=","%=","=",".set" ],
	"variables": [ "[a-zA-Z0-9\_$]+","$" ]
};

function highlight_init(width,height){
    var i,obj=document.getElementsByTagName("pre");
    for(i=0;i<obj.length;i++){
	var j,txt="",hl="",cls=obj[i].getAttribute("class");
	if(cls==null || cls=="lineno" || cls.indexOf("nohl")>-1) continue;
	var pre=document.createElement('pre');pre.innerHTML="";
	var pre2=document.createElement('pre');pre2.innerHTML="";
	if(cls!=null && cls!="init" && cls!="dohl" && cls!="skiphl") hl=highlight_dohl(cls,obj[i]);
obj[i].innerHTML=hl;
continue;
//hl=obj[i].innerHTML.replace(/<br\/?>/g,"\n");
	if(hl==undefined || hl==null || hl=="") continue;
	var numlines=hl.split("\n").length+(hl.substr(-1)=='\n'?-1:0);
	for(j=0;j<numlines;j++) txt+=(j+1)+"\n";
	pre.setAttribute("class","lineno");
	pre.appendChild(document.createTextNode(txt));
	pre2.setAttribute("class","skiphl");
	pre2.innerHTML=hl;
	var div=document.createElement("div");
	div.setAttribute("style","overflow:auto;"+(obj[i].title&&obj[i].title!=""?obj[i].title+";":("width:"+(width!=''?width:obj[i].offsetWidth)+"px;height:"+(height>0&&height<obj[i].offsetHeight+16?height:obj[i].offsetHeight+16)+"px;")));
	div.appendChild(pre);
	div.appendChild(pre2);
	obj[i].parentNode.replaceChild(div,obj[i]);
	i++;
    }
}

function highlight_dohl(cls,obj) {
	var i,j,k,txt=obj.innerHTML,ret="";
	var c=highlight_types[cls];
	if(c==null) return;
	var reg=(c.variables!=null?new RegExp(c.variables[0]):null);
	for(i=0;i<txt.length;i++) {
		if(txt.substr(i,4)=="<b"+"r>") {
			i+=3;
			ret+="\n";
		} else
		if(txt.substr(i,5)=="<b"+"r/>") {
			i+=4;
			ret+="\n";
		} else
		if(txt.substr(i,1)=="&") {
			if(txt.substr(i,2)=="&&") { ret+="<span class='condition'>&amp;&amp;</span>"; i++; } else
			if(txt.substr(i,10)=="&amp;&amp;") { ret+="<span class='condition'>&amp;&amp;</span>"; i+=9; } else
			{
			    j=i;
			    while(i<txt.length&&txt.substr(i,1)!=";")i++;
			    ret+=txt.substr(j,i-j);
			}
		} else
		if(txt.substr(i,2)=="||") {
			ret+="<span class='condition'>||</span>"; i++;
		} else
		if(txt.substr(i,c.comment[0].length)==c.comment[0]) {
			j=i;
			while(i<txt.length&&txt.substr(i,1)!="\n"&&txt.substr(i,3)!="<br")i++;
			ret+="<span class='comment'>"+txt.substr(j,i-j)+"</span>";
			i--;
		} else
		if(c.comment[2] && txt.substr(i,c.comment[0].length)==c.comment[1]) {
			j=i;
			while(i<txt.length&&txt.substr(i,c.comment[2].length)!=c.comment[2])i++;
			ret+="<span class='comment'>"+txt.substr(j,i-j)+c.comment[2]+"</span>";
			i+=c.comment[2].length; i--;
		} else
		if(c.stringconst.length && c.stringconst.indexOf(txt.substr(i,1))>-1) {
			var term=txt.substr(i,1);
			j=i++;
			while(i<txt.length&&txt.substr(i,1)!=term) { if(txt.substr(i,1)=="\\") i++; i++; }
			ret+="<span class='stringconst'>"+txt.substr(j,i-j)+term+"</span>";
		} else
		if(txt.substr(i,1).match(/[0-9]+/)) {
			j=i;
			while(i<txt.length&&txt.substr(i,1).match(/[0-9\.\+\-a-fA-F]+/))i++;
			if(i!=j) { ret+="<span class='number'>"+txt.substr(j,i-j)+"</span>";i--; }
		} else
/*
		if(c.index[1] && txt.substr(i,c.index[0].length)==c.index[0]) {
			i+=c.index[0].length;
			j=i;
			while(i<txt.length&&txt.substr(i,c.index[1].length)!=c.index[1])i++;
			while(i+1<txt.length&&txt.substr(i+1,c.index[1].length)==c.index[1])i++;
			ret+="<span class='type'>"+c.index[0]+"</span><span class='index'>"+txt.substr(j,i-j)+"</span><span class='type'>"+c.index[1]+"</span>";
		} else
		if(c.index[1] && txt.substr(i,c.index[1].length)==c.index[1]) {
			ret+="</span>"+c.index[1];
		} else
*/
		if(c.index[0] && txt.substr(i,c.index[0].length)==c.index[0]) {
			ret+="<span class='index'>"+c.index[0]+"</span>";
		} else
		if(c.index[1] && txt.substr(i,c.index[1].length)==c.index[1]) {
			ret+="<span class='index'>"+c.index[1]+"</span>";
		} else
		if(txt.substr(i,1)=='$') {
			j=i++; while(txt.substr(i,1).match(/[a-zA-Z0-9_]/))i++;
			if(txt.substr(i,2)=="->"){i+=2;while(txt.substr(i,1).match(/[a-zA-Z0-9_]/))i++;}
			ret+="<span class='"+(txt.substr(i,1)=="("?"function":"variable")+"'>"+txt.substr(j,i-j)+"</span>";i--;
		} else
		if(txt.substr(i,64).match(/^[a-zA-Z\_][a-zA-Z0-9\_]*[\(]/)) {
			var k,g,kw="function",groups=new Array("keyword","type","control");
			j=i; while(txt.substr(i,1)!="(")i++;
			for(g=0;g<groups.length;g++)
				if(g>=0&&g<groups.length&&c[groups[g]+"s"]!=null)
				  for(k=0;k<c[groups[g]+"s"].length;k++)
					if(c[groups[g]+"s"][k].length==i-j && txt.substr(j,i-j).toLowerCase()==c[groups[g]+"s"][k]) { kw=groups[g]; break; }
			ret+="<span class='"+kw+"'>"+txt.substr(j,i-j)+"</span>";i--;
		} else
		{
			var was=0,groups=new Array("keyword","type","control","separator","condition","let","operator");
			for(j=0;j<groups.length;j++) {
				if(j>=0&&j<groups.length&&c[groups[j]+"s"]!=null)
				  for(k=0;k<c[groups[j]+"s"].length;k++) {
					if(c[groups[j]+"s"][k].length>0 && txt.substr(i,c[groups[j]+"s"][k].length).toLowerCase()==c[groups[j]+"s"][k]) {
						ret+="<span class='"+groups[j]+"'>"+c[groups[j]+"s"][k]+"</span>";
						i+=c[groups[j]+"s"][k].length;
						j=groups.length; was=1; i--; break;
					}
				}
			}
			if(!was&&reg!=null&&((c.variables[1]&&txt.substr(i,c.variables[1].length)==c.variables[1])&&txt.substr(i,1).match(reg))) {
			    j=i;i++;
			    while(i<txt.length&&(txt.substr(i,c.variables[1].length)==c.variables[1]||txt.substr(i,1).match(reg)))i++;
			    if(i!=j) { ret+="<span class='"+(txt.substr(i,1)=='('||txt.substr(i,1)==':'?"function":"variable")+"'>"+txt.substr(j,i-j)+"</span>"; was=1; i--; }
			}
			if(!was)
			    ret+=txt.substr(i,1);
		}
	}
	return ret.replace(/<br[\/]?>/g,"\n");
}

var tab_current="introduction",tab_history=new Array();
var tab_tmr=null, tab_close=null, tab_scroll=0, tab_skip=0, tab_mod=0;

function tab_switch(name,skiphist)
{
    var i,obj=document.getElementsByTagName("div"),d=name.split(":");
    for(i=0;i<obj.length;i++){
	var j,txt="",cls=obj[i].getAttribute("class");
	if(obj[i]==null || obj[i]==undefined || cls==null || cls.indexOf("tab")==-1) continue;
	obj[i].setAttribute('style','display:none;');
	if(obj[i].id!=null && obj[i].id==d[0]) {
	    obj[i].style.display="block";
	    var h=obj[i].getElementsByTagName("h2"),t=h[0].innerHTML;
	    //document.getElementById('title').innerHTML='Documentation - '+h[0].innerHTML;
	    document.title="PHPPE - "+t.replace("&gt;",">");
	}
    }
    if(skiphist==null && tab_history[tab_history.length-1]!=tab_current){
	tab_history.push(tab_current+':'+tab_scroll);
	}
    tab_current=d[0];
    tab_scroll=d[1]>0?d[1]:0;
    window.scrollTo(0,tab_scroll);
    document.getElementById('back').style.display=(tab_history.length>1?"block":"none");
    tab_getscroll();
}

function tab_back()
{
	var d=tab_history.pop();
	var d2=d.split(":"),name,offs;
	name=d2[0]; offs=d2[1]==''||d2[1]==null||d2[1]==undefined?0:d2[1];
	if(name=='' || name==null || name==undefined) name="introduction";
	tab_switch(name,true);
	if(offs>0)
	    window.scrollBy(0,offs);
}
function tab_getscroll()
{
    var o=document.getElementById('infobox');
    tab_scroll=window.pageYOffset || document.documentElement.scrollTop;
    var t='#'+tab_current+' :'+tab_scroll;
    if(o!=null&&o!=undefined) o.innerHTML=t;
}
function tab_permalink()
{
	var d=document.location.href.split("#")[0];
	document.location.href=d+'#'+tab_current+(tab_scroll>30?':'+tab_scroll:'');
}
function div_switch(name)
{
	var obj=document.getElementById(name),toc=document.getElementById('toc');
	if(obj==null || obj==undefined) return;
	obj.style.display=(obj.style.display=='block'?'none':'block');
	toc.style.position=window.innerHeight>toc.clientHeight?'fixed':'absolute';
}

function tab_search(obj)
{
	if(tab_tmr!=null) clearTimeout(tab_tmr);
	tab_tmr=setTimeout('tab_dosearch("'+obj.value+'");',100);
}
function tab_activatesearch(e)
{
	if(!e)e=window.event;
	var c=e.keyCode>0?e.keyCode:e.which,s;
	if(tab_skip && c>=33 && c<=40){tab_closesearch();tab_skip=0;return true;}
	tab_skip=0;
	if(c==37) tab_back();
	if(c==27) {tab_closesearch();return false;}
	if(c==17||c==18||c==224) tab_mod=1;
	if(c<20||(c>=33&&c<=40)||c==46||c==116||c==224)return true;
	if(tab_mod==1) { tab_mod=0; return true; }
	s=String.fromCharCode(c);
	if(document.activeElement.id!='search')
	    document.getElementById('search').focus();
	return true;
}
function tab_dosearch(str)
{
	var nr=0,fr="",r="",res=document.getElementById('results');
	document.getElementById('toc').style.display='none';
	res.style.display='block';
	res.style.position=(str!=""?"fixed":"absolute");
	var i,txt="<i style='color:#808080;'>"+(str!=""?"Search results":"Keyword index")+"</i><br>",obj=document.getElementsByTagName("div");
	for(i=0;i<obj.length;i++){
		var j,cls=obj[i].getAttribute("class"),id=obj[i].getAttribute("id"),rel=obj[i].getAttribute("rel");
		if(cls==null || cls.indexOf("tab")==-1 || id==null || (id.indexOf(str)==-1 && (rel==null || rel==undefined || rel.indexOf(str)==-1))||id=='loading') continue;
		r=id; nr++;
		if(id==str) fr=id;
		if(id.indexOf(str)>-1)
			txt+="&nbsp;&nbsp;<a href='javascript:tab_switch(\""+id+"\");');'>"+id.replace(str,"<b>"+str+"</b>")+'</a><br>';
		if(rel!=null && rel!=undefined) {
			var aliases=rel.split(",");
			for(j=0;j<aliases.length;j++)
			   if(aliases[j].indexOf(str)>-1)
				txt+="&nbsp;&nbsp;<a href='javascript:tab_switch(\""+id+"\");');'>"+aliases[j].replace(str,"<b>"+str+"</b>")+'</a><br>';
		}
	}
	res.innerHTML=txt;
	if(nr==1 || fr!='') {
		tab_switch(fr!=''?fr:r);
		tab_skip=1;
	}
}
function tab_closes()
{
	if(tab_close!=null) clearTimeout(tab_close);
	tab_close=setTimeout('tab_closesearch();',3000);
}
function tab_closesearch()
{
	document.getElementById('search').blur();
	document.getElementById('toc').style.display='block';
	document.getElementById('results').style.display='none';
	document.getElementById('search').value='';
	if(tab_tmr!=null) clearTimeout(tab_tmr); tab_tmr=null;
	if(tab_close!=null) clearTimeout(tab_close); tab_close=null;
}
function init()
{
	window.scrollBy(0,-10000);
	window.scrollTo(0,0);
	tab_scroll=0;
	highlight_init('100%',300);
	document.body.onkeydown=tab_activatesearch;
	window.onscroll=tab_getscroll;
	document.getElementById('toc').style.display='block';
	var d=document.location.href.split("#");
	if(d[1]!=undefined && d[1]!=null && d[1]!="")
		tab_switch(d[1]);
	else
		tab_switch("introduction");
	tab_getscroll();
}
</script>
</head>
<body onload='init();'>
<div id='header'><a href='https://github.com/bztsrc/phppe3/'><img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAYCAMAAAC7r5/PAAABd1BMVEUAAAAAAAAXAAUAAAALAAMAAAAAAAADAABqABsAAAABAAAAAAAAAAAAAAAAAAAEAAEaAAZnABoAAAAAAAAAAAAAAAABAAAAAAACAAAAAAAAAABqABtbABdVABYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAABjABloABtfABgAAAACAAAAAAAqAAoAAAABAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABqABtYABdqABsAAAAWAAVqABsCAAACAAAAAAAAAABnABoAAABMABNbABdUABU8AA85AA5qABsXAAVIABJlABocAAYLAAIYAAUAAAAmAAkxAAxCABEDAABoABoAAABkABkAAABaABc/ABAzAA0lAAllABoXAAVjABouAAwxAAxdABgNAANeABhfABkcAAcaAAY6AA5WABVRABUmAAlnABooAAlqABtMABRqABtpABsAAAAgAAhpABs0AA1pABtZABclAAlpABprABwAAAAF8BXSAAAAe3RSTlMA9AH8BE8GEf4dCd/55yYYDvzabTgjsH5VLCr87eXj076tpY5hUj/59/Tv0c3Mqp6ThXl1cFlIRTLy39zEu7i3TTUxIxX49PDj18/Mw8G/uraWlZOMimEMCgj79vHq6ebg4NfV1c7NycXDwa+upaWSf3ZyaVxTRD0wHRaUCwYlAAACPElEQVQ4y42TZXPbQBBAT2ChBZYtU8wUx0yxA+Y41DAnZWbm9vbH92RNG7fjafK+aEf39u52dw79y3w070HXIwmKeU01Bm3pP8uig9DPmBxCvAwxh6MVuECIzli/W0N9Uq1RFkq0xqGhE5wUlTPKPNINipCTe8FLk44BZcgKkdLIDYwsR5wAfjSgIGLIFAOlyxvpCnh13nRTUObiYGgjscrAPHIzjEfXWgWIqn/UBYrxkY+qQGlkQImEKQaatBdkHqGzEhhBmv7dSqfTb2Xk4CDgJFnsh6fh8E53aaMj0ez3V+GlnTc8Z1/VxyhW1+vApP0M5Uc/b+AxM/e/aqfLMyR6khHHqpSAqInoQASiPMkaoJVl7FoLzRHl5fEixrOh0Iu6PcFRGyKVSk8BuSmVoWCiL4t4Ne/N3yZWWBBW7/USB42FsWrKYMEU0pwWAy9Pf8ziW7Fk4Q7GggsLN9e3G36PNlY9DMSrvpRHJ7NyVx0s+w67HiQa+U2iWrZrez5gl2V1fYAmOO9iV7HifnwX43WM17b2K6mAZHcrATlpUtWX8Wzx7fHSDJ57KODZzddHn0XOXmpH4miSb1k8Rpgr7oUEK3hvntm7BgPiX+qpbbrCRW/y6BFpa/bQQbadRhfjja3nux1voppe6B/u73bKn9Sp6jmZ1bN40lerpzKiLmZS9Zq7qbHT1BVSzl6yPwyqIs/RHC+qQVW7QFPVxWwo3lAljmWtWmiWtYKpsD/8JydpcuLV0FKw2VKnPMVfJ0hwIWgJ4pEAAAAASUVORK5CYII=' alt='PHPPE' style='margin:3px 32px -3px 40px;height:24px !important;' width='42' height='24'></a>
<div id='title' class='title'>PHP Portal Engine Documentation <small data-ver>v3.0.0</small></div>
<div id='back' class='back' style='display:none;'><a href='javascript:tab_back();'>⇚ back</a></div>
<div id='infobox' onclick='tab_permalink();'></div>
<div class='dock'>
⌕<input id='search' type='text' style='height:12px;' onkeyup='tab_search(this);' onfocus='tab_search(this);' onblur='tab_closes();'>
<a href='javascript:phppe_download();'><img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAYCAMAAAA2wtibAAAAV1BMVEVwlQTY9Kl5ngiErR/D44PM7Jiivlvq+9Tm8qOSwTTKycCm1T+68Vnu9N75/Pe42nTB1oNiiAHU5bGmyVePrD/j98Govmna5MDC1Jaz1Gesvnx/nTJLaADFeY/RAAACGElEQVRIx7WTW5KjMAxFjXl1ukeKMH4C+1/nXBkaMpPfcJIg+9rSqUoqhil83UggNhTGWwlkvkJzK+HrX0Xf97co+ouq+SyqaLq+7/TVOWJmClh1ur3K+/o9eqevcxtVPGvw7BzvkNRkTytX6X53x9F5Z69nwzUACumLhqVUA+0OjWoqLoS+lNI5lKcTBF3pc86l5KbDHneeTWjwLBlHT21AelJ6MSJzRQjzl20lInbzL5nrVmopWCWWmRKeDyJh7X1qI5W51D6nN/N8IVDMbUWIVLFVhQZH2trMM5FHGZxrcfhgwaDW0cyxfbSOvR3QIpQIu2St1pP5VTGOu2Ik549zqwpPmG7blkQopkwDDY445uT32NkWU21yus+phdAjP/BQeFuRcXTLum1LxgLZkZKFwvFgrCXxjDmUEsZlIig0hsJC0RIJOyisUcXJqUCOP3vctm11UJhXRWafUASNxGISO5OcIXZVYRxyz0tkSsSqsI7sfwpT8QFENYRR0LlTf+dl8szE2WC8nzJHQwlR0pRkTThLK9E0rZwzIly4UMUxbYoBLDmA9bywxmXxOET1E+5HjVYTkeGDw2VA5xIngxTZsCLC6sKKOY2ThKYJAW80nExA6172h9b6mZTj7Dg/ogsIoj2nxUaRdTKfRBW/4OsY4oDvw34UKNoXILXth4HicTNQ/NxMNOnnz638JPO9DLeyfJvv2/kL4axPC3WGj5kAAAAASUVORK5CYII=' alt='Download' style='position:fixed;right:32px;top:3px;'></a>
</div>
</div>

<div id='results' class='toc' onclick='tab_closesearch();'></div>
<div id='toc' class='toc'>
<i style='color:#808080;'>Table of Contents</i><br>
<a href='javascript:div_switch("introdiv");'>1. Introduction</a><br>
<div id='introdiv' style='display:none;'>
<a href='javascript:tab_switch("introduction");'>&nbsp;&nbsp;1.1. Features<br>&nbsp;&nbsp;1.2. License</a><br>
<a href='javascript:tab_switch("introduction:1024");'>&nbsp;&nbsp;1.3. Brief history<br>&nbsp;&nbsp;1.4. Migration guide</a><br>
</div>
<a href='javascript:tab_switch("install");'>2. Installation</a><br>
<a href='javascript:tab_switch("usage");'>3. Usage</a><br>
<a href='javascript:tab_switch("monitoring");'>4. Monitoring</a><br>
<a href='javascript:tab_switch("security");'>5. Security</a><br>
<a href='javascript:tab_switch("directory");'>6. Directory structure</a><br>
<a href='javascript:tab_switch("configuration");'>7. Configuration</a></a><br>
<a href='javascript:tab_switch("bootstrap");'>8. Bootstrap process</a><br>
<a href='javascript:tab_switch("routing");'>9. URL Routing</a><br>
<a href='javascript:tab_switch("filters");'>10. URL Filtering</a><br>
<a href='javascript:div_switch("reference");'>11. Library reference</a><br>
<div id='reference' style='display:none;'>
<a href='javascript:tab_switch("phppe");'><b>PHPPE\Core</b></a><br>
<a href='javascript:div_switch("multilang");'>&nbsp;<i>Multilanguage (1-2)</i></a><br>
<div id='multilang' style='display:none;'>
<a href='javascript:tab_switch("LANG_INIT");'>&nbsp;&nbsp;11.1. LANG_INIT</a><br>
<a href='javascript:tab_switch("L");'>&nbsp;&nbsp;11.2. L</a><br>
</div>
<a href='javascript:div_switch("syscommon");'>&nbsp;<i>System (3-13)</i></a><br>
<div id='syscommon' style='display:none;'>
<a href='javascript:tab_switch("run");'>&nbsp;&nbsp;11.3. run</a><br>
<a href='javascript:tab_switch("log");'>&nbsp;&nbsp;11.4. log</a><br>
<a href='javascript:tab_switch("lib");'>&nbsp;&nbsp;11.5. lib</a><br>
<a href='javascript:tab_switch("addon");'>&nbsp;&nbsp;11.6. addon</a><br>
<a href='javascript:tab_switch("isinst");'>&nbsp;&nbsp;11.7. isInst</a><br>
<a href='javascript:tab_switch("e");'>&nbsp;&nbsp;11.8. e</a><br>
<a href='javascript:tab_switch("error");'>&nbsp;&nbsp;11.9. error</a><br>
<a href='javascript:tab_switch("iserror");'>&nbsp;&nbsp;11.10. isError</a><br>
<a href='javascript:tab_switch("route");'>&nbsp;&nbsp;11.11. route</a><br>
<a href='javascript:tab_switch("isTry");'>&nbsp;&nbsp;11.12. isTry</a><br>
<a href='javascript:tab_switch("mc");'>&nbsp;&nbsp;11.13. mc</a><br>
</div>
<a href='javascript:div_switch("httphlp");'>&nbsp;<i>HTTP helpers (14-16)</i></a><br>
<div id='httphlp' style='display:none;'>
<a href='javascript:tab_switch("url");'>&nbsp;&nbsp;11.14. url</a><br>
<a href='javascript:tab_switch("redirect");'>&nbsp;&nbsp;11.15. redirect</a><br>
<a href='javascript:tab_switch("get");'>&nbsp;&nbsp;11.16. get</a><br>
</div>
<a href='javascript:div_switch("datalayer");'>&nbsp;<i>Data Layer (17-34)</i></a><br>
<div id='datalayer' style='display:none;'>
<a href='javascript:tab_switch("si");'>&nbsp;&nbsp;11.17. si</a><br>
<a href='javascript:tab_switch("validate");'>&nbsp;&nbsp;11.18. validate</a><br>
<a href='javascript:tab_switch("req2obj");'>&nbsp;&nbsp;11.19. req2arr<br>&nbsp;&nbsp;11.20. req2obj</a><br>
<a href='javascript:tab_switch("obj2str");'>&nbsp;&nbsp;11.21. arr2str<br>&nbsp;&nbsp;11.22. obj2str</a><br>
<a href='javascript:tab_switch("val2arr");'>&nbsp;&nbsp;11.23. val2arr</a><br>
<a href='javascript:tab_switch("tre2arr");'>&nbsp;&nbsp;11.24. tre2arr</a><br>
<a href='javascript:tab_switch("dbInit");'>&nbsp;&nbsp;11.25. dbInit</a><br>
<a href='javascript:tab_switch("dbClose");'>&nbsp;&nbsp;11.26. dbClose</a><br>
<a href='javascript:tab_switch("ds");'>&nbsp;&nbsp;11.27. ds</a><br>
<a href='javascript:tab_switch("db");'>&nbsp;&nbsp;11.28. db</a><br>
<a href='javascript:tab_switch("like");'>&nbsp;&nbsp;11.29. like</a><br>
<a href='javascript:tab_switch("exec");'>&nbsp;&nbsp;11.30. exec</a><br>
<a href='javascript:tab_switch("query");'>&nbsp;&nbsp;11.31. query</a><br>
<a href='javascript:tab_switch("fetch");'>&nbsp;&nbsp;11.32. fetch</a><br>
<a href='javascript:tab_switch("field");'>&nbsp;&nbsp;11.33. field</a><br>
<a href='javascript:tab_switch("tree");'>&nbsp;&nbsp;11.34. tree</a><br>
</div>
<a href='javascript:div_switch("views");'>&nbsp;<i>Views (35-42)</i></a><br>
<div id='views' style='display:none;'>
<a href='javascript:tab_switch("css");'>&nbsp;&nbsp;11.35. css</a><br>
<a href='javascript:tab_switch("jslib");'>&nbsp;&nbsp;11.36. jslib</a><br>
<a href='javascript:tab_switch("js");'>&nbsp;&nbsp;11.37. js</a><br>
<a href='javascript:tab_switch("menu");'>&nbsp;&nbsp;11.38. menu</a><br>
<a href='javascript:tab_switch("picture");'>&nbsp;&nbsp;11.39. picture</a><br>
<a href='javascript:tab_switch("template");'>&nbsp;&nbsp;11.40. template</a><br>
<a href='javascript:tab_switch("getval");'>&nbsp;&nbsp;11.41. getval</a><br>
<a href='javascript:tab_switch("assign");'>&nbsp;&nbsp;11.42. assign</a><br>
</div>
<a href='javascript:tab_switch("phppe_model");'><b>PHPPE\Model</b></a><br>
<a href='javascript:tab_switch("find");'>&nbsp;&nbsp;11.43. find</a><br>
<a href='javascript:tab_switch("load");'>&nbsp;&nbsp;11.44. load</a><br>
<a href='javascript:tab_switch("save");'>&nbsp;&nbsp;11.45. save</a><br>
<a href='javascript:tab_switch("phppe_client");'><b>PHPPE\Client</b></a><br>
<a href='javascript:tab_switch("phppe_user");'><b>PHPPE\User</b></a><br>
<a href='javascript:tab_switch("has");'>&nbsp;&nbsp;11.46. has</a><br>
<a href='javascript:tab_switch("grant");'>&nbsp;&nbsp;11.47. grant</a><br>
<a href='javascript:tab_switch("clear");'>&nbsp;&nbsp;11.48. clear</a><br>
<a href='javascript:tab_switch("phppe_addon");'><b>PHPPE\AddOn</b></a><br>
<a href='javascript:tab_switch("init");'>&nbsp;&nbsp;11.49. init</a><br>
<a href='javascript:tab_switch("show");'>&nbsp;&nbsp;11.50. show</a><br>
<a href='javascript:tab_switch("edit");'>&nbsp;&nbsp;11.51. edit</a><br>
<a href='javascript:tab_switch("addonvalidate");'>&nbsp;&nbsp;11.52. validate</a><br>
<a href='javascript:tab_switch("phppe_app");'><b>PHPPE\App</b></a><br>
<a href='javascript:tab_switch("constructor");'>&nbsp;&nbsp;11.53. constructor</a><br>
<a href='javascript:tab_switch("action");'>&nbsp;&nbsp;11.54. action</a><br>
<a href='javascript:tab_switch("phppe_db");'><b>PHPPE\DB<sup><small>Pack</small></sup></b></a><br>
<a href='javascript:tab_switch("phppe_email");'><b>PHPPE\Email<sup><small>Pack</small></sup></b></a><br>
<a href='javascript:tab_switch("phppe_registry");'><b>PHPPE\Registry<sup><small>Pack</small></sup></b></a><br>
<a href='javascript:tab_switch("phppe_users");'><b>PHPPE\Users<sup><small>Pack</small></sup></b></a><br>
<a href='javascript:tab_switch("phppe_js");'><b>JavaScript<sup><small>Pack</small></sup></b></a><br>
</div>
<a href='javascript:tab_switch("cache");'>12. Cache Management</a><br>
<a href='javascript:div_switch("templater");'>13. Templater</a><br>
<div id='templater' style='display:none;'>
<a href='javascript:tab_switch("flow");'>&nbsp;&nbsp;13.1. Flow</a><br>
<a href='javascript:tab_switch("format");'>&nbsp;&nbsp;13.2. Formating</a><br>
<a href='javascript:tab_switch("addonstemp");'>&nbsp;&nbsp;13.3. Add-Ons</a><br>
</div>
<a href='javascript:tab_switch("assets");'>14. Assets</a><br>
<a href='javascript:tab_switch("contents");'>15. Contents</a><br>
<a href='javascript:tab_switch("hooks");'>16. Event hooks</a><br>
<a href='javascript:tab_switch("extensions");'>17. Extensions</a><br>
<a href='javascript:div_switch("tutorials");'>18. Tutorials</a><br>
<div id='tutorials' style='display:none;'>
<a href='javascript:tab_switch("coding");'>&nbsp;&nbsp;18.1. Coding standards</a><br>
<a href='javascript:tab_switch("helloworld");'>&nbsp;&nbsp;18.2. Hello World Tutorial</a><br>
<a href='javascript:tab_switch("cron");'>&nbsp;&nbsp;18.3. Background job</a><br>
<a href='javascript:tab_switch("routetut");'>&nbsp;&nbsp;18.4. Routing example</a><br>
<a href='javascript:tab_switch("apptutorial");'>&nbsp;&nbsp;18.5. Application</a><br>
<a href='javascript:tab_switch("module");'>&nbsp;&nbsp;18.6. Module extension</a><br>
<a href='javascript:tab_switch("fieldtut");'>&nbsp;&nbsp;18.7. Field Add-On</a><br>
<a href='javascript:tab_switch("widget");'>&nbsp;&nbsp;18.8. Widget Add-On</a><br>
<a href='javascript:tab_switch("webserver");'>&nbsp;&nbsp;18.9. Webserver examples</a><br>
<a href='javascript:tab_switch("repository");'>&nbsp;&nbsp;18.10. Repository know-how</a><br>
<a href='javascript:tab_switch("raspberry");'>&nbsp;&nbsp;18.11. Running on Raspberry Pi</a><br>
</div>
<a href='javascript:tab_switch("glossary");'>19. Glossary</a><br>
<a href='javascript:tab_switch("downloads");'>20. Downloads</a><br>

</div>

<div id='loading' class='tab' style='display:block;width:100%;padding-top:256px;text-align:center;font-size:64px;color:#E0E0E0;'><i>Loading...</i></div>
<script type='text/javascript'>document.getElementById('loading').style.height=window.innerHeight+'px';document.getElementById('loading').style.paddingTop=Math.floor(window.innerHeight/2-64)+'px';</script>

<div id='content'>


<div id='introduction' class='tab' rel='welcome,features,license,lgpl'>
<h2>Welcome to PHPPE3!</h2>
PHPPE is a minimalistic, yet feature-full micro-framework and CMS. The framework's core is a single file and only 64k in size, so small, that it fits on your clipboard!
It contains 7 bit ASCII characters only and as such it's safe to paste over ssh terminals for easy installation. As a matter of fact this single html file you're reading is
enough to set up a working PHPPE environment, internet connection is NOT required at all!<br><br>
Unlike other existing OpenSource PHP frameworks, PHPPE was written with <a href='javascript:tab_switch("security");'>security</a>, <a href='http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller' target='_new'>MVC</a>, <a href='http://en.wikipedia.org/wiki/KISS_principle' target='_new'>KISS principle</a> and no dependency at all in mind.
As being a micro-framework, it won't solve all of your web-development oriented tasks, but will definitely solve the most common ones and makes your life easier. It's not bloated, and with simplicity cames stability and high performance.<br><br>

Of course one single file is very limited, so here's the <a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_pack.tgz' target='_new'>PHPPE Pack</a> (~80KiB) to save the day and give you an easy start (also available via PHP Composer, just type <tt>composer update</tt>).<br>
PHPPE Pack includes normalize.css and JQuery2 to standardize views; eye candies like image zoomer, pop-up divs; SQL Query Builder, CSV and RSS output, Raspberry Pi interface and even more!<br><br>

For full CMS capability install the Content Editor too with <a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_cms.tgz' target='_new'>PHPPE CMS</a> (~40KiB), because Core on it's own only serves contents (also available via PHP Composer, <tt>composer require "phppe/CMS"</tt>).<br><br>

<h2>Features</h2>
This 64k bytes of php code will give you:<ul>
<li>Stand alone environment, optional dependencies only. Single file deployment.</li>
<li>Extremely small footprint, can run on a <a href='https://www.raspberrypi.org/' target='_new'>Raspberry Pi</a></li>
<li><a href='https://getcomposer.org/' target='_new'>PHP Composer</a> compatibilty</li>
<li>Can be used as <a href='javascript:tab_switch("usage");'>CGI</a> (<a href='http://www.apache.org' target='_new'>Apache</a> and <a href='http://nginx.com' target='_new'>nginx</a>), from <a href='javascript:tab_switch("usage");'>CLI</a> and also as a <a href='javascript:tab_switch("usage");'>library</a> just out-of-the-box</li>
<li>Has modular, easy to expand <a href='javascript:tab_switch("directory");'>structure</a></li>
<li>Self consistency check and diagnostics (even fix!)</li>
<li><a href='javascript:tab_switch("phppe");'>Environment</a> auto-detection (like base url, browser's language, timezone and screen size)</li>
<li>Clever, regular expression capable and filterable, standard URL to class::method <a href='javascript:tab_switch("routing");'>routing</a> mechanism</li>
<li>PDO driven <a href='javascript:tab_switch("exec");'>Database</a> abstraction layer with transparent on demand scheme installation</li>
<li>Very cheap Model <a href='javascript:tab_switch("module");'>autoloader</a> included, with composer fallback</li>
<li>Convient and easy to use <a href='javascript:tab_switch("phppe_app");'>controller interface</a></li>
<li>Fast and safe <a href='javascript:tab_switch("template");'>templater</a> system for views</li>
<li>Powerful <a href='javascript:tab_switch("cache");'>caching</a> with integrated <a href='http://memcached.org/' target='_new'>memcached</a> support (can use others as well with Extensions)</li>
<li>Automatic form data <a href='javascript:tab_switch("addonvalidate");'>validation</a> and <a href='javascript:tab_switch("isTry");'>security checks</a></li>
<li><a href='javascript:tab_switch("has");'>Access control</a> lists</li>
<li><a href='javascript:tab_switch("L");'>Multilanguage</a> support</li>
<li><a href='javascript:tab_switch("log");'>Logging</a> to files as well as to syslog</li>
<li>Library for common tasks with exactly 42 functions :-)</li>
<li><a href='javascript:tab_switch("monitoring");'>Monitoring</a> support (tools like nagios can get status and benchmark data easily from it's output)</li>
<li>Thumbnail generation and <a href='javascript:tab_switch("picture");'>image manipulation</a> support (with libGD)</li>
<li>Built-in <a href='javascript:tab_switch("contents");'>Content Server</a> for CMS support</li>
<li>WYSIWYG web-based interface (editor available as an Extension)</li>
<li>Uses View layer to detect Models (flexibility you've never seen)</li>
</ul>
<h2>Requirements</h2>
At least PHP 5.5 (5.6 recommended). If you also install Pack and CMS Extensions, no more than 256k disk space needed.
<h2>License</h2>
PHPPE Core, PHPPE Pack as well as PHPPE CMS are free and OpenSource softwares, licensed under <a href='http://www.gnu.org/licenses/' target='_new'>LGPL-3.0+</a>. See <tt>vendor/phppe/LICENSE</tt> for details.
<pre>
   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU Lesser General Public License as published
   by the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU Lesser General Public License for more details.

   You should have received a copy of the GNU Lesser General Public License
   along with this program.  If not, see &lt;<a href='http://www.gnu.org/licenses/' target='_new'>http://www.gnu.org/licenses/</a>>.
</pre>
Although the framework is free, keep in mind that extensions may or may not use different licenses. PHPPE's licensing allows you to implement a closed source application on top of it.
<h2>Glossary</h2>
The <a href='javascript:tab_switch("glossary");'>glossary</a> is helpful for learning common phrases and terms used in PHPPE documentation and tutorials.
<h2>Brief history</h2>
<ul>
<li>PHPPE 1.0.0 - basic concepts were there, used a strange mixture of functional programming and MVC. Approx. 2000 - 2006.</li>
<li>PHPPE 2.0.0 - refactored 1.0.0; self check, diagnostics and single file deployment appeared. Available in <a href='javascript:phppe_archive();'>archive</a> <small>(32k)</small>. In 2011 - 2013.</li>
<li>PHPPE 3.0.0 - complete rewrite of the same concept in OOP, and fixed features that previous versions lacked. In 2014 - 2015.<br>
</li>
<li>future: there'll be no new feature release of PHPPE, only bugfixes. New features will be implemented in extensions, PHPPE Core expected to be stable and unchanged.</li>
</ul>
<h2>Quick and dirty 2 to 3 migration guide</h2>
<table>
<tr><th>Files</th><th>Library</th><th>Templater</th></tr>
<tr><td valign='top' width='33%'>
<ul>
<li>index.php &rarr; <a href='javascript:tab_switch("directory");'>public/index.php</a></li>
<li>skins/ &rarr; <a href='javascript:tab_switch("directory");'>vendor/phppe/*/css/</a></li>
<li>js/ &rarr; <a href='javascript:tab_switch("directory");'>vendor/phppe/*/js/</a></li>
<li>images/ &rarr; <a href='javascript:tab_switch("directory");'>vendor/phppe/*/images/</a></li>
<li>engine &rarr; <a href='javascript:tab_switch("directory");'>vendor/phppe/core, phppe</a></li>
<li>engine/mode &rarr; <a href='javascript:tab_switch("directory");'>vendor/phppe/*/ctrl</a></li>
<li>engine/init/00_sys.php &rarr;<br>&nbsp;&nbsp;phppe/00_core.php</li>
<li>engine/libs/field_*.php &rarr;<br>&nbsp;&nbsp;vendor/phppe/*/addons/*.php</li>
<li>design/*.xml &rarr; <a href='javascript:tab_switch("directory");'>vendor/phppe/*/views/*.tpl</a></li>
<li>config.php &rarr; <a href='javascript:tab_switch("configuration");'>vendor/phppe/*/config.php</a></li>
</ul>
</td><td valign='top' width='33%'>
<ul>
<li>$sys &rarr; <a href='javascript:tab_switch("phppe");'>PHPPE::$core</a></li>
<li>$user &rarr; <a href='javascript:tab_switch("phppe_user");'>PHPPE::$user</a></li>
<li><i>&Oslash;</i> &rarr; <a href='javascript:tab_switch("phppe_client");'>PHPPE::$client</a></li>
<li>sys_*() &rarr; PHPPE::*()</li>
<li>$sys-><b>log</b>level &rarr; PHPPE::$core-><b>run</b>level</li>
<li>$sys->mode &rarr; PHPPE::$core->app</li>
<li>$sys->page &rarr; PHPPE::$core->action</li>
<li>$sys-&gt;try &rarr; <a href='javascript:tab_switch("isTry");'>PHPPE::isTry()</a></li>
<li>sys_init() &rarr; <a href='javascript:tab_switch("lib");'>PHPPE::lib()</a></li>
<li>$sys->modules&nbsp;&rarr;&nbsp;PHPPE::$core->libs</li>
<li>sys_field() &rarr; <a href='javascript:tab_switch("addon");'>PHPPE::addon()</a></li>
<li>$sys->fields&nbsp;&rarr;&nbsp;PHPPE::$core->addons</li>
<li>$db &rarr; <a href='javascript:tab_switch("db");'>PHPPE::db()</a></li>
<li>db_init() &rarr; <a href='javascript:tab_switch("dbInit");'>PHPPE::dbInit()</a></li>
<li>db_like() &rarr; <a href='javascript:tab_switch("like");'>PHPPE::like()</a></li>
<li>db_fetch() &rarr; <a href='javascript:tab_switch("fetch");'>PHPPE::fetch()</a></li>
<li>db_array() &rarr; <a href='javascript:tab_switch("query");'>PHPPE::query()</a></li>
<li>db_q(), db_exec() &rarr; <a href='javascript:tab_switch("exec");'>PHPPE::exec()</a></li>
</ul>
</td><td valign='top'>
<ul>
<li>field_*() &rarr; *-&gt;edit()</li>
<li>show_*() &rarr; *-&gt;show()</li>
<li>valid_*() &rarr; *::validate()</li>
<li>&lt;!template&gt; &rarr; &lt;!include&gt;</li>
<li><i>&Oslash;</i> &rarr; &lt;!template&gt;...&lt;!/template&gt;</li>
<li>&lt;!mode&gt; &rarr; &lt;!app&gt;</li>
</ul>
</td></tr></table>
<br><br>
</div>

<div id='glossary' class='tab' rel='phrases'>
<h2>Glossary</h2>
<h3>Access Control Entry (ACE)</h3>
Specifies which user can do what, optionally on which object. It can be granted to <a href='javascript:tab_switch("phppe_user");'>PHPPE\Users</a> object like <a href='javascript:tab_switch("grant");'>PHPPE::$user->grant("editgroup")</a>. If you want to limit access to a specific object, you
can append it's id to the ACE: PHPPE::$user->grant("editgroup:13").
<h3>Access Control List (ACL)</h3>
A list of ACEs. In Menu, <A href='javascript:tab_switch("filters");'>URL filters</a> as well in Templates you can refer to an ACE with "@" prefix, like "@loggedin". For a list, use pipe to concatenate ACEs (like "@siteeditor|siteadmin") or in php you can use an array.
<h3>Add-On</h3>
Kind of Extension that expands Templater's functionality on <tt>&lt;!var</tt>, <tt>&lt;!field</tt> and <tt>&lt;!widget</tt> tags. They have to be inherited from <a href='javascript:tab_switch("phppe_addon");'>PHPPE\AddOn</a>.
<h3>Application</h3>
This is the main part that generates the page. Usually has one or more controllers. Your main application resides in app folder, and it's controllers in app/ctrl, models in app/libs and views in app/views. Otherwise every Module can provide controllers, models, views and therefore act as an application. Also, your application is symlinked as a Module in vendor/phppe/app. The PHPPE environment is a set of
applications, each responsible for different urls. All applications (and indirectly all controllers) have to be inherited from <a href='javascript:tab_switch("phppe_app");'>PHPPE\App</a>.
<h3>Client</h3>
End user's application that interacts with PHPPE. It's a webbrowser or a shell running in a terminal. <a href='javascript:tab_switch("phppe_client");'>PHPPE\Client</a> class holds every information you'll ever need about it.
<h3>Core</h3>
This is the heart of the single file framework, <tt>public/index.php</tt>. Also the very basic extension, PHPPE Pack ships files under <tt>vendor/phppe/core</tt>. If the latter not installed, the Core
will create the <a href='javascript:tab_switch("directory");'>directory structure</a> for it when executed in diagnostics mode.
<h3>Diagnostics mode</h3>
This can be invoked only from CLI by passing the argument "--diag". In this mode Core will examine the ProjectRoot's directory structure, will fix missing files and if run with root
privileges it will fix file permissions as well.
<h3>Dock</h3>
Right corner of Panel, populated by Modules with their dock() hook methods.
<h3>DocumentRoot</h3>
The base folder where the webserver will look up files. It's the folder named <tt>public</tt> under your ProjectRoot.
<h3>Extension</h3>
Any Add-On or Module that can be added to or removed from your PHPPE environment. One Extension can add several Add-Ons and Modules at once to the system.
<h3>Frame</h3>
This is the main template that frames every application views. Within frame template, use &lt;!app> tag to mark the place of your application, in other words this tag separates frame header and footer. Header usually contains a page menu and a navigation bar, while footer has a sitemap and an impressum line.
<h3>Maintenance mode</h3>
This can be turned on in <tt>phppe/config.php</tt> with <tt>$core->maintenance=true</tt>. In this mode controllers are skipped and only a view displayed with a template called "maintenance". This is
used to temporarily put your site down until you finish with delicate upgrades.
<h3>Menu</h3>
Left side of Panel, populated by Modules with <a href='javascript:tab_switch("menu");'>PHPPE::menu()</a> calls during their initialization.
<h3>Model/View/Controller</h3>
PHPPE uses MVC design pattern. <a href='javascript:tab_switch("routing");'>Routing</a> desides which controller's method to run, which in turn finds out which models to call to get data for the view.
<h3>Module</h3>
Is an Extension that adds service (in form of a php class) or JS libraries, skins even controllers to the PHPPE environment. Basicly everything that's not an Add-On is considered to be a Module.
<h3>Object Relational Mapper</h3>
Model that's inherited from <a href='javascript:tab_switch("phppe_model");'>PHPPE\Model</a> has the ability to be mapped directly to database tables.
<h3>Panel</h3>
If the user is logged in and has "panel" ACE, a nice panel will be shown on top of the page at fixed position. This panel holds the Menu and the Dock icons for Modules as well as the language selector dropdown and the user menu with profile and logout links.
<h3>ProjectRoot</h3>
The main directory of your project. It has the main <tt>composer.json</tt> and the folders <tt>app</tt>, <tt>public</tt>, <tt>vendor</tt> etc.
<h3>Runlevel</h3>
This can be set in <tt>phppe/config.php</tt> with <tt>$core->runlevel=X</tt>. This modifies how PHPPE behaves and the verbose level of <a href='javascript:tab_switch("log");'>logs</a> it generates.<br>
0 - production<br>
1 - verbose / testing<br>
2 - development<br>
3 - debug
<h3>Template or Layout</h3>
It's an (usually, but not necessairly) xml with placeholders for application properties and tags for <a href='javascript:tab_switch("flow");'>control structures</a> and <a href='javascript:tab_switch("addonstemp");'>Add-Ons</a>. Views are generated using templates.
</div>

<div id='install' class='tab' rel='diagnostics,sudo'>
<h2>Requirements</h2>
<ul>
<li>at least php 5.5 installed (5.6 recommended)</li>
<li>SSH terminal access (use ssh utility or PuTTY)</li>
<li>http (or https) access for output (Apache or nginx on server side, any HTML5 compatible browser on client side)</li>
<li>at top 256k free space</li>
</ul>
<h4>Optional</h4>
<ul>
<li>PHP POSIX extension and sudo (for automatic permission and file owner fixes in diagnostic mode)</li>
<li>PHP Composer for <a href='javascript:tab_switch("extensions");'>extension management</a></li>
<li>a cron implementation (crond, vixie-cron etc.) for <a href='javascript:tab_switch("cron");'>background jobs</a></li>
</ul>
<h2>Installation</h2>
All-in-one commands for installing PHPPE Core and PHPPE Pack:<br><br>
<b>From this documentation</b><br>
<pre>
mkdir public
cat >public/index.php
     <i><a href='javascript:phppe_download();'>copy this</a>, paste here and press ^D</i>
curl https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_pack.tgz | tar -xz -C vendor/phppe
sudo php public/index.php --diag
$EDITOR phppe/config.php
</pre>

<b>Without Packagist</b><br>
<pre>
mkdir public
curl https://raw.githubusercontent.com/bztsrc/phppe3/master/public/index.php >public/index.php
sudo php public/index.php --diag
composer update
$EDITOR phppe/config.php
</pre>
<br><b>With Packagist</b><br>
<pre>
composer create-project bztsrc/phppe
mv phppe <i style='color:red;'>(yourproject)</i> && cd <i style='color:red;'>(yourproject)</i>
composer require phppe
$EDITOR phppe/config.php
</pre>
See steps breaked down (and more alternatives) below.
<h3>1. Get the single file framework</h3>
To get it on your clipboard, <a href='javascript:phppe_download();'>click here</a>. Select all and copy.<br><br>
Open up a terminal, and ssh to your server (or use a windowed ssh client).
Change working directory to your DocumentRoot without the last "public" directory (that will be your ProjectRoot), then type
<pre>
$ mkdir public
$ cat >public/index.php
</pre>
Paste the code from clipboard then press ^D.<br><br>
Alternatively you can save the file on your computer, create "public" directory with a windowed scp tool and upload downloaded image.<br><br>
<b>From server</b><br>
Also, you can use this to download it directly from github without using git command:
<pre>
$ mkdir public
$ curl https://raw.githubusercontent.com/bztsrc/phppe3/master/public/index.php >public/index.php
</pre>
<b>With git</b><br>
<pre>
$ git clone --branch 3.0 https://github.com/bztsrc/phppe3.git
$ mv phppe3 <i style='color:red;'>(yourproject)</i> && cd <i style='color:red;'>(yourproject)</i>
</pre>
<b>With Packagist</b><br>
<pre>
$ composer create-project bztsrc/phppe
$ mv phppe <i style='color:red;'>(yourproject)</i> && cd <i style='color:red;'>(yourproject)</i>
</pre>
<b>NOTE</b> you can skip the following when using Packagist and installing Pack as well (go to step 4)
<h3>2. Run diagnostics</h3>
Now framework is in place, it's time to run diagnostics to create directory structure and missing files.
Without the "sudo", file ownerships and permissions may be left incorrect.
<pre>$ sudo php public/index.php --diag</pre>
If you failed to copy'n'paste the code, you'll see this:
<pre>
PHPPE-C: Corrupted index.php
LOG-C: unable to write vendor/phppe/core/log/phppe.log
</pre>
Root privilege is only needed for setting up file permissions, if you run it as a normal user, chown and chgrp may fail. In this case you'll see a warning:
<pre>
DIAG-W: not root or no php-posix, chown/chgrp may fail!
</pre>
If your webserver's group cannot be autodetected, or you run your vhosts under different users with setuid and setgid, you can specify the desired group id like:
<pre>$ sudo php public/index.php --diag --gid=33</pre>
If everything went well, you should see this message:
<pre>
DIAG-I: OK
</pre>
<b>NOTE</b> that "--diag" argument is not required on the first run, because PHPPE will automatically fallback to diagnostics if configuration file is not found.<br>
<h3>3. Check it in a browser</h3>
Check your site in a browser. You should see something like this:<br><br>
<div id='installpreview' style='border:solid 2px black;padding:5px 5px 5px 5px;font-family:times new roman;'>

<h1>PHPPE works!</h1>Next step: install <a href='http://phppe.org/phppe3.html#install:1956' target='_new'>PHPPE Pack</a>.<div style='font-weight:bold;background:#F0F0F0;padding:3px;'>Test form</div><form name="obj" action='http://localhost/phppe3_test/public/' method='post' enctype='multipart/form-data'>
<input type='hidden' name='MAX_FILE_SIZE' value='2097152'>
<input type='hidden' name='pe_s' value='f4699db4b3acaacbcb7f49c6f9e5cf36f86f9d4e'>
<input type='hidden' name='pe_f' value='obj'>
Text<input class='input' name='obj_f0' size='6' type='text' onfocus='this.style.background="";' value=""> Pass<input class='input' name='obj_f1' type='password' value="" onfocus='this.style.background="";'> Num(100..999)<input class='reqinput' name='obj_f2' size='6' maxlength='6' style='text-align:right;' type='text' onkeypress='return pe_on(event);' onkeyup='this.value=this.value.replace(",",".");' onfocus='this.style.background="";this.select();' onblur='if(this.value<100)this.value=100;if(this.value>999)this.value=999;' value=""><input class='input' name='obj_f3' id='obj.f3' type='checkbox' value="1"><label for='obj.f3'>Check</label>  File<input class='input' name='obj_f4' type='file'>&nbsp;(2Mb) <input class='button' name='pe_cancel' type='submit' value="Cancel">  <input class='button' name='pe_try1' type='submit' value="OK"></form><table width='100%'><tr><td valign='top' width='50%'><tt>_REQUEST:</tt><pre style='margin:0px 0px 0px 0px;'>
<b>array</b> <i>(size=1)</i>
  'pe_sid' <font color='#888a85'>=&gt;</font> <small>string</small> <font color='#cc0000'>'e707cd0d8edc79c8027e5b1919e3e7b7'</font> <i>(length=32)</i>
</pre><tt>_FILES:</tt><pre style='margin:0px 0px 0px 0px;'>
<b>array</b> <i>(size=0)</i>
  <i><font color='#888a85'>empty</font></i>
</pre></td><td valign='top'><tt>core.req2arr('obj'):</tt><pre style='margin:0px 0px 0px 0px;'>
<b>array</b> <i>(size=0)</i>
  <i><font color='#888a85'>empty</font></i>
</pre></td></tr></table>

</div>
<br>
<div style='border:red 2px solid;background:#fff0f0;margin:10px;padding:5px;'>
<b>At this point the framework is fully functional</b>, although it will suffer low resolution logo and missing features. To help that, you'll need to install Extensions.
</div>
<h3>4. Install PHPPE Pack (optional)</h3>
The diagnostics mode has already created missing files, among others composer.json. So you can use PHP Composer to install PHPPE Pack with just like that:<br><br>
<b>Without Packagist</b><br>
<pre>
$ composer update
</pre>
<b>With Packagist</b><br>
When PHPPE installed with create-project, nothing left to do. Pack is already installed for you.<br>
<b>Without Composer</b><br>
<pre>
$ curl https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_pack.tgz | tar -xz -C vendor/phppe && sudo php public/index.php --diag
</pre>
<b>Over web</b><br>
Alternatively if you already have a running PHPPE environment, you can use <a href='javascript:tab_switch("extensions");'>PHPPE Extension Manager</a> to
bootstrap the environment and install PHPPE Pack to a fresh new, empty directory on a remote server with key based authentication.
<pre>
$ composer require phppe/Extensions
</pre>
<pre>
$ mkdir vendor/phppe/extensions && curl https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_extmgr.tgz | tar -xz -C vendor/phppe/extensions
</pre>
You'll find the configuration in <a href='javascript:tab_switch("extensions");'><tt>vendor/phppe/Extensions/config.php</tt></a>.
This gives you a nice web configuration interface too. This is the recommended way.
<h3>5. Configure your site</h3>
Open phppe/config.php with your favourite editor over a terminal, and <a href='javascript:tab_switch("configuration");'>set up framework</a> parameters.<br>
<pre>
$ nano phppe/config.php
$ vim phppe/config.php
</pre>
It's very likely that you have an $EDITOR environment variable holding default editor's name.
<h3>6. Install PHPPE CMS (optional)</h3>
Full Content Management capability can only be achieved with this package:<br><br>
<b>With Composer</b><br>
<pre>
$ composer require phppe/CMS
</pre>
<b>Without Composer</b><br>
<pre>
$ mkdir vendor/phppe/cms && curl https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_cms.tgz | tar -xz -C vendor/phppe/cms
</pre>
</div>

<div id='security' class='tab' rel='permissions'>
<h2>Security</h2>
Unlike any other OpenSource PHP framework, being secure is one of the main concerns of PHPPE.
It uses different methods at several levels, which all together provide a decent security for your application. If you found any leakage in PHPPE Core or PHPPE Pack, please send it to me right away (bzt<script type='text/javascript'>document.write("&#64;");</script>phppe.org). Thank you.<br><br>
As with any other framework, it can be only secure if you pay attention on your configuration and if you take the recommendations below into consideration. A badly configured webserver will be vurnelable no matter what.
<h3>File access</h3>
PHPPE has a concept of UNIX style file permissions, and requires that<ul>
<li>owner is a user who is allowed to modify the code (webmaster or deployment system's dedicated user)</li>
<li>group belongs to the webserver that only executes the code, never allowed to modify it</li>
<li>others are not allowed to even read directories and files by default</li>
</ul>
With it's built-in diagnostic feature, PHPPE will check these (and if run with root privilege, also fix issues on it's own).<br>
The file owner can belong to webserver's group, but it strictly forbidden to set webserver as owner.<br><br>
NOTE: owner and group MUST BE different.
<h3>Websever access</h3>
Webserver can access the files with group permissions. It's only allowed to read and execute code, except
a few directory (namely ".tmp", "data" and "phppe/log") that must be writeable, but CGI execution must be disabled in these directories in <a href='javascript:tab_switch("webserver");'>webserver's</a> configuration.<br><br>
It's strongly advised to follow webserver's and PHP tickets on CVE, upgrade security patches, and keep all the unused features turned off.
Also, webserver configuration should limit vhost's file access to it's ProjectRoot (that is PHP's open_basedir restricted to DocumentRoot/..).

<h3>User access</h3>
The framework has a built-in access control. Access control entries can be granted to PHPPE\User instances. Calling actions and displaying view blocks may require specific access entries depending on view templates.<br>
You can group access control entries into role groups and grant them to users at once.
See <a href='javascript:tab_switch("has");'>(PHPPE\User)-&gt;has()</a>.

<h3>Templater expressions</h3>
Function calls inside view templates can be limited to those listed in <a href='javascript:tab_switch("configuration");'>$core->allowed</a> array.

<h3>Form tokens and validation</h3>
PHPPE will generate a unique security token for each and every form. This avoids retransmissions and hand-made POST requests.<br>
It also keeps track of the field types on a form, and upon submit it will call the appropirate validator on each form field's value. If it's not enough (for example you'll need a more complex business logic) you can do further checks in your <a href='javascript:tab_switch("controller");'>application's controller</a>.

<h3>Form fields access</h3>
In templates, you can require access control entries for every field and widgets. If the user does not have the appropriate ACE, it will fall back to displaying the value.

<h3>Use AppArmour</h3>
PHPPE applications supposed to be run through AppArmour or other similar security module. This is pain in the ass for the first time, but pays out on the long run.
<br><br><br>
</div>

<div id='directory' class='tab' rel='documentroot,projectroot,data,vendor/bin'>
<h2>Directory structure</h2>
PHPPE has a very comfortable build-up. The PHPPE Core, the application as well as all extensions share the same directory structure (save a few files limited to Core only).<br>
<h3>ProjectRoot</h3>
This is the working directory of PHPPE. When you specify any path within PHPPE, you'll have to use paths relative to this directory. In your webserver, when you set DocumentRoot, you'll enter "<i>ProjectRoot</i>/public".<br><br>
<table class='parameters'>
<tr><td><b>app/</b></td><td>your application, follows PHPPE Module structure. In next chapter replace "vendor/phppe/<i>module</i>" with "app" for application.</td></tr>
<tr><td><b>public/</b></td><td>used by the webserver, index.php and static files goes here</td></tr>
<tr><td><b>.tmp/</b></td><td>directory where the webserver temporarily saves uploaded files</td></tr>
<tr><td><b>data/</b></td><td>permanent, local file storage (subdirectories are unspecified, as you like, but using separate subdirectory for each model and application is strongly advised)</td></tr>
<tr><td><b>vendor/</b></td><td>main code directory. All directory beneath vendor/phppe shares the same PHPPE Module structure</td></tr>
<tr><td><b>phppe/</b></td><td>symlink to vendor/phppe/core</td></tr>
<tr><td><b>composer.json</b></td><td>PHP Composer metadata of your project</td></tr>
</table>
<br><i>Other important files</i><br>
<table class='parameters'>
<tr><td><b>public/.htaccess</b></td><td>permissions and url rewrite directives (used by Apache webserver. Not needed with nginx)</td></tr>
<tr><td><b>public/favicon.ico</b></td><td>your project's logo</td></tr>
<tr><td><b>public/index.php</b></td><td>the framework itself (don't touch)</td></tr>
<tr><td><b>app/config.php</b></td><td>your project's configuration</td></tr>
<tr><td><b>app/99_app.php</b></td><td>your project's initialization code, like <a href='javascript:tab_switch("routetut");'>url routing</a> goes here</td></tr>
<tr><td><b>app/css/</b></td><td>your project's stylesheets. One for each theme</td></tr>
<tr><td><b>app/images/</b></td><td>images used by your project's face (no content specific imagery allowed here)</td></tr>
<tr><td><b>app/js/</b></td><td>javascript libraries required by your project</td></tr>
<tr><td><b>vendor/bin/</b></td><td>if you need shell or other non-php scripts (like a special nagios plugin) for your project, it should be placed here.</td></tr>
<tr><td><b>phppe/config.php</b></td><td>the framework's global <a href='javascript:tab_switch("configuration");'>configuration</a></td></tr>
<tr><td><b>phppe/log/<i>module</i>.log<br>phppe/log/<i>application</i>.log</b></td><td>logs are generated here. The files php.log, phppe.log, diag.log and validate.log are handled by the Core iself</td></tr>
</table>

<table class='parameters'>
</table>

<h3>Subdirectories of a PHPPE Module (Application, Core or any Extension)</h3>
<i>Model</i><br>
<table class='parameters'>
<tr><td><b>vendor/phppe/<i>module</i>/config.php</b></td><td>configuration file for module</td></tr>
<tr><td><b>vendor/phppe/<i>module</i>/<i>[0-9][0-9]</i>_<i>module</i>.php</b></td><td>SysV init like module initialization file. These will be included automatically for every page</td></tr>
<tr><td><nobr><b>vendor/phppe/<i>module</i>/libs/<i>classname</i>.php</b></nobr></td><td>model libraries, included by applications or other libraries. Also business logic goes here.</td></tr>
<tr><td><nobr><b>vendor/phppe/<i>module</i>/sql/<i>table(.engine)</i>.sql</b></nobr></td><td>database schemes for tables used by models. It's highly recommended to prefix table names with module name, like users, users_history, forum_topics, forum_posts etc. You can also use engine specific extensions, like ".sqlite3.sql".</td></tr>
</table>
<br><i>Controller</i><br>
<table class='parameters'>
<tr><td><b>vendor/phppe/<i>module</i>/ctrl/<i>application</i>.php<br>vendor/phppe/<i>module</i>/ctrl/<i>application</i>_<i>action</i>.php</b></td><td>page handler logic goes here. First holds code for common code, second is for action specific code.</td></tr>
</table>
<br><i>View</i><br>
<table class='parameters'>
<tr><td><b>vendor/phppe/<i>module</i>/views/<i>application</i>_<i>action</i>.tpl<br>vendor/phppe/<i>module</i>/views/<i>application</i>.tpl</b></td><td>view templates. If action specific template found, it will be used.</td></tr>
<tr><td><b>vendor/phppe/<i>module</i>/css/</b></td><td>module specific stylesheets</td></tr>
<tr><td><b>vendor/phppe/<i>module</i>/images/</b></td><td>images used by the module</td></tr>
<tr><td><b>vendor/phppe/<i>module</i>/js/</b></td><td>javascript libraries provided by the module</td></tr>
<tr><td><b>vendor/phppe/<i>module</i>/lang/<i>lang</i>.php</b></td><td>language specific text definitons for each module</td></tr>
<tr><td><b>vendor/phppe/<i>module</i>/out/<i>format</i>_header.php<br>vendor/phppe/<i>module</i>/out/<i>format</i>_footer.php</b></td><td>for formats other than HTML (like RSS), their header and footer generating code goes there</td></tr>
</table>
<h3>Optional files to expand Core functionality</h3>
<table class='parameters'>
<tr><td><b>vendor/phppe/core/sql/_init.<i>engine</i>.sql</b></td><td>connection initialization commands per db driver, like "_init.sqlite3.sql" or "_init.mysql.sql".</td></tr>
<tr><td><b>vendor/phppe/core/00_core.php</b></td><td>this file contains includes to core extensions.</td></tr>
<tr><td><b>vendor/phppe/core/libs/minify.php</b></td><td>this file must define <tt>\PHPPE\minify($text,$type)</tt> function that minifies code, type of "css" or "js".</td></tr>
<tr><td><b>vendor/phppe/core/libs/cache.php</b></td><td>this file must return a <a href='javascript:tab_switch("cache");'>cache instance</a> to override default memcache implementation.</td></tr>
<tr><td><b>vendor/phppe/core/libs/pass.php</b></td><td>this file must define a <tt>\PHPPE\pass()</tt> validator function to override default password validator.</td></tr>
<tr><td><b>app/libs/pass.php</b></td><td>application provided password validator, defines the same function as above but precedes PHPPE's.</td></tr>
</table>
<h2>Symbolic links</h2>
It's very important that your working directory is <i>ProjectRoot</i>. Therefore all paths should be relative in PHPPE. This saves you a lot of typing in your code and ease the migration across servers.
<table class='parameters'>
<tr><th>File</th><th>Link to</th><th>Purpose</th></tr>
<tr><td><b>phppe</b></td><td>vendor/phppe/core</td><td>This link is merely a shortcut in <i>ProjectRoot</i>.</td></tr>
<tr><td><b>vendor/phppe/app</b></td><td>app</td><td>This link points in opposite direction on purpose: we don't want composer to accidently overwrite our files.</td></tr>
<tr><td><b>app/css</b></td><td>public/css</td><td rowspan='3'>Your application's assets. The symlink points to a subdirectory in "public/", which means they will be served by the webserver as static files without php interpretation. This does not mean you cannot use dynamic assets in "app/".</td></tr>
<tr><td><b>app/js</b></td><td>public/js</td></tr>
<tr><td><b>app/images</b></td><td>public/images</td></tr>
</table>
</div>

<div id='usage' class='tab' rel='cgi,cli'>
<h2>Usage</h2>
PHPPE has a concept of <i>application</i> that has several <i>actions</i>, each operating on a specific <i>item</i>.
<h3>As a web CGI</h3>
If no <a href='javascript:tab_switch("routing");'>URL Routing</a> rules applies to the queried url, it will fallback to default routing, which parses the url as<br>
(base) / <i>application</i> / <i>action</i> / <i>item</i><br>
<pre>
https://my.domain/some/path/users/modify/joesmith
</pre>
which will include "vendor/phppe/*/ctrl/users.php", and will call <tt>action_modify("joesmith")</tt> method of a class that extends PHPPE\App and specified in that php file.
See routing section of this documentation if you want more sophisticated control on which method with which arguments to be called.
<h3>As a CLI script</h3>
Some projects requires <a href='javascript:tab_switch("cron");'>cron jobs</a> or administration tools. For these PHPPE has CLI support, so that you can access and use your models and classes from a command line script as well. You can specify the application, action and item triumvirate as command line arguments.<br>
<pre>
php public/index.php users sendnotifymails
php public/index.php users delete joesmith
php public/index.php scripts dailytasks
php public/index.php --version
php public/index.php --help
php public/index.php --diag
</pre>
<h3>As a library</h3>
If you want to access PHPPE environment from another framework or single php, just simply include it:
<p><pre class='lineno'>1<br></pre>
<pre id='bs1' class='php'>
include("public/index.php");
</pre></p>
This will bootstrap the basic <a href='javascript:tab_switch("phppe");'>PHPPE environment</a>, autoloads classes but does nothing more. If you also want to load an application, <a href='javascript:tab_switch("run");'>run a controller</a> in it and <a href='javascript:tab_switch("template");'>generate a view</a> for it, you'll also need
<p><pre class='lineno'>1<br>2<br>3</pre>
<pre id='bs2' class='php'>
use PHPPE\Core as PHPPE;
include("public/index.php");
PHPPE::$core->run();
</pre></p>
Note that the latter is quite uncommon and discouraged. It's clearer to create a wrapper application or module. This call is only needed by unit testing.
</div>

<div id='configuration' class='tab' rel='config.php,environment'>
<h2>Configuration</h2>
PHPPE Core is configured in <tt>phppe/config.php</tt> (or <tt>vendor/phppe/core/config.php</tt>, they're symlinked together), with
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
(PHPPE\Core)->property = "value";
</pre></p>
lines. Available properties:
<table class='parameters'>
<tr><td style='vertical-align:top'><b>$core->db</b></td><td>specifies primary <a href='javascript:tab_switch("dbInit");'>database connection</a></td></tr>
<tr><td><b>$core->site</b></td><td>name of the site (page title)</td></tr>
<tr><td><b>$core->runlevel</b></td><td>select production (0), verbose/testing (1), developer (2) or debug (3) mode</td></tr>
<tr><td><b>$core->syslog</b></td><td>set it to true to log everything only to syslog, not just audit and critical messages</td></tr>
<tr><td><b>$core->masterpasswd</b></td><td>salted password hash for admin user (also works if Users module not installed)</td></tr>
<tr><td><b>$core->sessionvar</b></td><td>Override session variable name (defaults to "pe_sid")</td></tr>
<tr><td><b>$core->secsession</b></td><td>Only use session on secure channel (https only cookie)</td></tr>
<tr><td><b>$core->timeout</b></td><td>session timeout in secs (defaults to 1 week)</td></tr>
<tr><td><b>$core->cache</b></td><td>memcache location, "(hostname)[:(port)]" or "unix:(path)", "apc" or "files", see <a href='javascript:tab_switch("cache");'>caching</a> for details.</td></tr>
<tr><td><b>$core->nocache</b></td><td>Set it to true to disable view output and asset caching</td></tr>
<tr><td><b>$core->cachettl</b></td><td>View output and asset cache time to live in sec (defaults to 10 minutes)</td></tr>
<tr><td><b>$core->noaggr</b></td><td>set it to true to turn static css and js content aggregation off in html header</td></tr>
<tr><td><b>$core->nominify</b></td><td>set it to true to turn css and js minifier off</td></tr>
<tr><td><b>$core->noctrl</b></td><td>if set, then dynamic Content Controller will be turned off (to avoid eval)</td></tr>
<tr><td><b>$core->allowed</b></td><td>list of allowed functions in an array, leave it unset for no restrictions.</td></tr>
<tr><td><b>$core->maintenance</b></td><td>if set to true, will bypass all routing and controller, and only displays mainteance.tpl</td></tr>
<tr><td><b>$core->mailer</b></td><td>Email backend, used by PHPPE Pack's Email sender, like "smtp://[(user)[:(pass)@]](server)[:(port)][/(sender email address)]"</td></tr>
<tr><td><b>$core->realmailer</b></td><td>If Email backend is a queue in database ($core->mailer = "db"), sendmail script uses this backend when consuming mails from queue.</td></tr>
<tr><td><b>$core->repos</b></td><td>array of third-party repository urls. For details, see <a href='javascript:tab_switch("extensions");'>Extensions</a></td></tr>
</table>
<br>NOTE: this file is only for configuring the framework itself, module and application configuration located in separate files!
<h2>Application configuration</h2>
Your application's configuration resides in <tt>app/config.php</tt>. Your <a href='javascript:tab_switch("constructor");'>application's constructor</a> will receive it as it's only argument.
<h2>Extension configuration</h2>
Every extension has it's own configuration file, named <tt>vendor/phppe/*/config.php</tt>.<br><br>
Configuration files for Extensions (and for Application as well) required to return associative arrays, in opposite to Core's syntax.
<p><pre class='lineno'>1<br>2<br>3<br>4</pre>
<pre class='php'>
&lt;?php
return array(
	"key" =&gt; "value"
);
</pre></p>
</div>

<div id='bootstrap' class='tab'>
<h2>Bootstrap process</h2>
<h3>Constructor</h3>
The framework has three key methods that handle the bootstrap process. PHPPE constructor controls which one of these should be called. The $islib boolean variable is set if the framework was included
from another php file as a library.<br><br>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br></pre>
<pre class='php'>
//if no configuration found or explicitly requested, run diagnostics
if( ( !file_exists( "vendor/phppe/core/config.php" ) && !$islib ) ||
    ( !empty( $_SERVER[ 'argv' ][ 1 ] ) && $_SERVER[ 'argv' ][ 1 ] == "--diag" ) )
	$this->bootdiag();
else
{
	//do normal bootstrap, set up environment
	$this->bootstrap();
	//if not included, also load application, call it's action and generate output
	if( !$islib )
		$this->run();
}
</pre></p>
<br>The PHPPE constructor and the bootstrap() method will process these files in order:
<table class='parameters'>
<tr><td><b>public/index.php</b></td><td>called by webserver directly or via rewrite mechanism</td></tr>
<tr><td><b>vendor/phppe/core/config.php</b></td><td>configuration loaded in PHPPE constructor</td></tr>
<tr><td><b>vendor/autoload.php</b></td><td>if found, PHPPE will include PHP Composer autoloader</td></tr>
<tr><td><b>vendor/phppe/*/99_*.php</b></td><td>init script for modules, all of them included in a SysV init style</td></tr>
<tr><td><b>vendor/phppe/*/config.php</b></td><td>configurations for loaded modules</td></tr>
<tr><td><b>vendor/phppe/*/lang/?</b></td><td>language dictionaries for loaded modules</td></tr>
<tr><td><b>vendor/phppe/*/libs/?</b></td><td>other libraries referenced by loaded modules</td></tr>
</table>
<h3>Run Application</h3>
The <a href='javascript:tab_switch("routing");'>URL routing</a> mechanism chooses one application to run. To do that,
<a href='javascript:tab_switch("run");'>PHPPE::run()</a> method will process these:
<table class='parameters'>
<tr><td><b>app/ctrl/<i>application</i>.php</b></td><td>allow your application to overwrite main application</td></tr>
<tr><td><b>app/ctrl/<i>application_action</i>.php</b></td><td>allow your application to overwrite one action handlers with specific controller</td></tr>
<tr><td><b>vendor/phppe/<i>application</i>/ctrl/<i>application</i>.php</b></td><td>main application, always loaded regardless to the action</td></tr>
<tr><td><b>vendor/phppe/<i>application</i>/ctrl/<i>application_action</i>.php</b></td><td>controller class (if found)</td></tr>
</table>
<h3>Generating output</h3>
Finally <a href='javascript:tab_switch("template");'>templater</a> will be called to generate output for the specified view. On CLI it's skipped by default, but you can set a template explicitly in your action handler.
<table class='parameters'>
<tr><td><b>vendor/phppe/core/out/<i>format</i>_header.php</b></td><td>only if format is not 'html'</td></tr>
<tr><td><b>vendor/phppe/core/views/frame.tpl</b></td><td>if $core->needframe is true, application's output will be wrapped in this frame template</td></tr>
<tr><td><b>vendor/phppe/<i>application</i>/views/<i>application_action</i>.tpl</b></td><td>action specific view in application's directory</td></tr>
<tr><td><b>vendor/phppe/core/views/<i>application_action</i>.tpl</b></td><td>action specific view in core</td></tr>
<tr><td><b>vendor/phppe/<i>application</i>/views/<i>application</i>.tpl</b></td><td>application specific view in application's directory, only used if action specific view not found</td></tr>
<tr><td><b>vendor/phppe/core/views/<i>application</i>.tpl</b></td><td>application specific view in core, only used if action specific view not found</td></tr>
<tr><td><b>vendor/phppe/core/out/<i>format</i>_footer.php</b></td><td>only if format is not 'html'</td></tr>
</table>
</div>

<div id='phppe' class='tab' rel='core'>
<h2>PHPPE\Core Class</h2>
This is the main class of PHPPE. One singleton instance can be always accessed with PHPPE::$core.<br>
Some properties are run-time generated, others can be <a href='javascript:tab_switch("configuration");'>configured</a>.
When referenced, always use
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
use PHPPE\Core as PHPPE;
</pre></p>
in your code.
<h3>Public properties</h3>
<table class='parameters'>
<tr><td><b>PHPPE::$core</b></td><td>PHPPE Core instance</td></tr>
<tr><td><b>PHPPE::$core-&gt;site</b></td><td>title of the site or name of the project</td></tr>
<tr><td><b>PHPPE::$core-&gt;runlevel</b></td><td>current runlevel</td></tr>
<tr><td><b>PHPPE::$core-&gt;syslog</b></td><td>if true, no log files will be written but messages will be sent to syslog</td></tr>
<tr><td><b>PHPPE::$core-&gt;trace</b></td><td>if true, debug trace will also be written along log messages</td></tr>
<tr><td><b>PHPPE::$core-&gt;app</b></td><td>current application</td></tr>
<tr><td><b>PHPPE::$core-&gt;action</b></td><td>current action</td></tr>
<tr><td><b>PHPPE::$core-&gt;item</b></td><td>current item or null</td></tr>
<tr><td><b>PHPPE::$core-&gt;form</b></td><td>name of the submitted form if <a href='javascript:tab_switch("isTry");'>PHPPE::isTry()</a> returns non-zero</td></tr>
<tr><td><b>PHPPE::$core-&gt;now</b></td><td>current UNIX timestamp, from primary datasource if available</td></tr>
<tr><td><b>PHPPE::$core-&gt;needframe</b></td><td>If true, application's output will be placed in a frame</td></tr>
<tr><td><b>PHPPE::$core-&gt;neederror</b></td><td>If true, alerts errors. Set it to false if you've integrated the error messages into view</td></tr>
<tr><td><b>PHPPE::$core-&gt;sessionvar</b></td><td>Override session variable name (optional, defaults to "pe_sid")</td></tr>
<tr><td><b>PHPPE::$core-&gt;timeout</b></td><td>Session timeout in seconds</td></tr>
<tr><td><b>PHPPE::$core-&gt;output</b></td><td>Output format, defaults to "html"</td></tr>
<tr><td><b>PHPPE::$core-&gt;masterpasswd</b></td><td>Encrypted password hash for superadmin (also works if no PHPPE\Users module installed)</td></tr>
<tr><td><b>PHPPE::$core-&gt;cache</b></td><td>Connection url for caching</td></tr>
<tr><td><b>PHPPE::$core-&gt;nocache</b></td><td>Set it to true to force refresh in templater and avoid asset caching</td></tr>
<tr><td><b>PHPPE::$core-&gt;cachettl</b></td><td>View output and asset cache time to live in sec</td></tr>
<tr><td><b>PHPPE::$core-&gt;noaggr</b></td><td>set it to true to turn static css and js content aggregation off in html header</td></tr>
<tr><td><b>PHPPE::$core-&gt;nominify</b></td><td>set it to true to turn css and js minifier off</td></tr>
<tr><td><b>PHPPE::$client</b></td><td>Client's <a href='javascript:tab_switch("phppe_client");'>properties</a></td></tr>
<tr><td><b>PHPPE::$user</b></td><td>Logged in <a href='javascript:tab_switch("phppe_user");'>user</a> object</td></tr>
<tr><td><b>$_SESSION['pe_e']</b></td><td>True if user logged in and turned edit mode on (<a href='javascript:tab_switch("fieldtut");'>templater var</a> tags)</td></tr>
<tr><td><b>$_SESSION['pe_c']</b></td><td>True if user logged in and turned widget configuration mode on (<a href='javascript:tab_switch("widget");'>templater widget</a> tags)</td></tr>
<tr><td><b>$_SESSION['pe_s']</b></td><td>Security tokens</td></tr>
<tr><td><b>$_SESSION['pe_v']</b></td><td>Validator data (filled by <a href='javascript:tab_switch("template");'>PHPPE::template()</a>, read on post by <a href='javascript:tab_switch("req2obj");'>PHPPE:req2obj()</a>)</td></tr>
<tr><td><b>$_SESSION['pe_r']</b></td><td>Set if redirect() should go back to referer (return url after authentication)</td></tr>
</table>
<h3>Private properties</h3>
<table class='parameters'>
<tr><td><b>PHPPE::$core->id</b></td><td>Magic, PHPPE version</td></tr>
<tr><td><b>PHPPE::$core->base</b></td><td>base url used by <a href='javascript:tab_switch("url");'>url()</a></td></tr>
<tr><td><b>PHPPE::$core-&gt;sec</b></td><td>True if called over ssl and channel is secure</td></tr>
<tr><td><b>PHPPE::$core->try</b></td><td>on submit the pressed button's serial, query with <a href='javascript:tab_switch("isTry");'>PHPPE::isTry()</a></td></tr>
<tr><td><b>PHPPE::$core->started</b></td><td>framework start time in microsecs, required by monitoring stats</td></tr>
<tr><td><b>PHPPE::$core->error</b></td><td>array of error messages, see <a href='javascript:tab_switch("error");'>PHPPE::error()</a> and <a href='javascript:tab_switch("iserror");'>PHPPE::iserror()</a></td></tr>
<tr><td><b>PHPPE::$core->libs</b></td><td>List of loaded modules, register and query with <a href='javascript:tab_switch("lib");'>PHPPE::lib()</a></td></tr>
<tr><td><b>PHPPE::$core->addons</b></td><td>List of loaded field types and widgets, register and query with <a href='javascript:tab_switch("addon");'>PHPPE::addon()</a></td></tr>
<tr><td><b>PHPPE::$core->js</b></td><td>List of JavaScript code to include with output, see <a href='javascript:tab_switch("js");'>PHPPE::js()</a></td></tr>
<tr><td><b>PHPPE::$core->jslib</b></td><td>List of JavaScript libraries to include, see <a href='javascript:tab_switch("jslib");'>PHPPE::jslib()</a></td></tr>
<tr><td><b>PHPPE::$core->css</b></td><td>List of stylesheets to include, see <a href='javascript:tab_switch("css");'>PHPPE::css()</a></td></tr>
<tr><td><b>PHPPE::$core->menu</b></td><td>Menu entries, add new entry with <a href='javascript:tab_switch("menu");'>PHPPE::menu()</a></td></tr>
<tr><td><b>PHPPE::$core->template</b></td><td>Template's name to used by view layer. Defaults to "<i>(application)_(action)</i>"</td></tr>
<tr><td><b>PHPPE::$r</b></td><td>List of url route masks and destinations, add new url route with <a href='javascript:tab_switch("route");'>PHPPE::route()</a>, query with <a href='javascript:tab_switch("routes");'>PHPPE::routes()</a></td></tr>
</table>
</div>

<div id='phppe_model' class='tab' rel='model'>
<h2>PHPPE\Model Class</h2>
Your models should be inherited from this class. It supports ORM (Object Relational Mapper).
<h3>Properties</h3>
<table class='parameters'>
<tr><td><b>(PHPPE\Model)->id</b></td><td>unique identifier of the model instance</td></tr>
<tr><td><b>(PHPPE\Model)->name</b></td><td>name of the model instance</td></tr>
<tr><td><b>(PHPPE\Model)::$_table</b></td><td>name of the table where the model instances are stored</td></tr>
</table>
<h3>Methods</h3>
<table class='parameters'>
<tr><td><a href='javascript:tab_switch("find");'>find</a></td><td>Returns list of objects of the same kind that match search criteria</td></tr>
<tr><td><a href='javascript:tab_switch("load");'>load</a></td><td>Loads a database record into the object</td></tr>
<tr><td><a href='javascript:tab_switch("save");'>save</a></td><td>Saves the object into a database record</td></tr>
</table>
</div>

<div id='phppe_client' class='tab'>
<h2>PHPPE\Client Class</h2>
This class holds every information on client. It's populated consistently in CLI as well in web mode, so you don't have to bother yourself with different $_SERVER keys.
<h3>Properties</h3>
<table class='parameters'>
<tr><td><b>PHPPE::$client-&gt;ip</b></td><td>Client's remote address (valid for forwarded requests and server behind proxies as well or "CLI" if called from command line)</td></tr>
<tr><td><b>PHPPE::$client-&gt;agent</b></td><td>Client's agent (browser or terminal type)</td></tr>
<tr><td><b>PHPPE::$client-&gt;user</b></td><td>Client's user (http auth user or unix user)</td></tr>
<tr><td><b>PHPPE::$client-&gt;tz</b></td><td>Client's timezone (browser's or from environment variable TZ or /etc/localtime)</td></tr>
<tr><td><b>PHPPE::$client-&gt;lang</b></td><td>Client's preferred language's code on two characters (environment variable LANG)</td></tr>
<tr><td><b>PHPPE::$client-&gt;screen[0]</b></td><td>Client's screen width in pixel (or in characters, from tput utility)</td></tr>
<tr><td><b>PHPPE::$client-&gt;screen[1]</b></td><td>Client's screen height in pixel (or in characters, from tput utility)</td></tr>
</table>
</div>

<div id='phppe_user' class='tab'>
<h2>PHPPE\User Class</h2>
Holds logged in user's information. If no user authenticated, it's polulated with id=0 and name=Anonymous. There's a special superadmin user whos id is -1 to avoid conflict with database auto incremented id.
The superuser's password can be set in <a href='javascript:tab_switch("configuration");'><tt>phppe/config.php</tt></a>.
<h3>Properties</h3>
<table class='parameters'>
<tr><td><b>PHPPE::$user</b></td><td>Loggen in user's PHPPE\User (or with Pack PHPPE\Users) instance</td></tr>
<tr><td><b>PHPPE::$user-&gt;id</b></td><td>Logged in user's id. It is 0 for Anonymous user</td></tr>
<tr><td><b>PHPPE::$user-&gt;name</b></td><td>Logged in user's name</td></tr>
</table>
<h3>Methods</h3>
<table class='parameters'>
<tr><td><a href='javascript:tab_switch("has");'>has</a></td><td>Checks for access</td></tr>
<tr><td><a href='javascript:tab_switch("grant");'>grant</a></td><td>Grant new access</td></tr>
<tr><td><a href='javascript:tab_switch("clear");'>grant</a></td><td>Remove access</td></tr>
<tr><td><a href='javascript:tab_switch("load");'>load</a></td><td>Loads a user from database (from PHPPE\Model)</td></tr>
<tr><td><a href='javascript:tab_switch("save");'>save</a></td><td>Saves the user into database (from PHPPE\Model)</td></tr>
</table>
</div>

<div id='phppe_addon' class='tab'>
<h2>PHPPE\AddOn Class</h2>
Add-Ons are extensions to templater. Every Add-On has to be registered in init() method with <a href='javascript:tab_switch("addon");'>PHPPE::addon()</a>. See <a href='javascript:tab_switch("addonstemp");'>templater</a> for more.
<h3>Properties</h3>
<table class='parameters'>
<tr><td><b>(PHPPE\AddOn)->args</b></td><td>arguments (in pharenthesis after type)</td></tr>
<tr><td><b>(PHPPE\AddOn)->name</b></td><td>instance name</td></tr>
<tr><td><b>(PHPPE\AddOn)->value</b></td><td>object field's value / widget's configuration</td></tr>
<tr><td><b>(PHPPE\AddOn)->attrs</b></td><td>arguments (attributes in tag)</td></tr>
<tr><td><b>(PHPPE\AddOn)->css</b></td><td>css class name ("input" or "reqinput")</td></tr>
</table>
<h3>Methods</h3>
<table class='parameters'>
<tr><td><a href='javascript:tab_switch("init");'>init</a></td><td>Register the AddOn and to load required JavaScripts and stylesheets</td></tr>
<tr><td><a href='javascript:tab_switch("show");'>show</a></td><td>Display value in human friendly format or draws widget's face</td></tr>
<tr><td><a href='javascript:tab_switch("edit");'>edit</a></td><td>Display user input to modify the value or display widget's configuration form</td></tr>
<tr><td><a href='javascript:tab_switch("validate");'>validate</a></td><td>Validate user provided value or widget's configuration</td></tr>
</table>
</div>

<div id='phppe_app' class='tab' rel='application'>
<h2>PHPPE\App Class</h2>
Your Application as well as any class that wants to be act as a controller has to be inherited from this class.
<h3>Properties</h3>
All of it's properties are optional.
<table class='parameters'>
<tr><td><b>(PHPPE\App)->_meta</b></td><td>Additional array of meta tags, keywords as keys, contents as values</td></tr>
<tr><td><b>(PHPPE\App)->_mimetype</b></td><td>Output mime type, only used if specified</td></tr>
<tr><td><b>(PHPPE\App)->_output</b></td><td>Output format, like "html", "rss" or "csv". Only used if specified</td></tr>
<tr><td><b>(PHPPE\App)->*</b></td><td>Any other property your application needs.</td></tr>
</table>
Note that application properties can be accessed directly in <a href='javascript:tab_switch("getval");'>expressions</a> in view templates, no assign() required. Methods can be called by prefixing them with "<tt>app.</tt>".
<h3>Methods</h3>
<table class='parameters'>
<tr><td><b><a href='javascript:tab_switch("constructor");'>__construct($config)<br>init($config)</a></b></td><td>Called once per page generation. Configuration passed as a key=&gt;value array.</td></tr>
<tr><td><b><a href='javascript:tab_switch("action");'>action($item)</a></b></td><td>Default action. Only called if output cache is disabled and no other action matches. See also <a href='javascript:tab_switch("routing");'>URL routes</a></td></tr>
</table>
<h2>*_Ctrl Controller Classes</h2>
Classes holding action methods resides in "app/ctrl" folder.<br>
<b>NOTE:</b> you MUST call parent constructor (your application) from controller classes.
</div>

<div id='phppe_db' class='tab' rel='sql'>
<h2>PHPPE\DB Class<sup><small>PHPPE Pack</small></sup></h2>
Database Query Builder. This class builds SQL statements on top of basic db layer of PHPPE.
<h3>Properties</h3>
<h3>Methods</h3>
<table class='parameters'>
<tr><td><b>(PHPPE\DB)::select()</b></td><td>Select</td></tr>
<tr><td><b>(PHPPE\DB)::update()</b></td><td>Update</td></tr>
<tr><td><b>(PHPPE\DB)::insert()</b></td><td>Insert</td></tr>
<tr><td><b>(PHPPE\DB)::replace()</b></td><td>Replace</td></tr>
<tr><td><b>(PHPPE\DB)->fields()</b></td><td></td></tr>
<tr><td><b>(PHPPE\DB)->where()</b></td><td></td></tr>
</table>
</div>

<div id='phppe_email' class='tab' rel='mailer'>
<h2>PHPPE\Email Class<sup><small>PHPPE Pack</small></sup></h2>
Email builder and sender.
<h3>Properties</h3>
<h3>Methods</h3>
<table class='parameters'>
<tr><td><b>(PHPPE\Email)::_construct()</b></td><td></td></tr>
<tr><td><b>(PHPPE\Email)->to()</b></td><td></td></tr>
<tr><td><b>(PHPPE\Email)->cc()</b></td><td></td></tr>
<tr><td><b>(PHPPE\Email)->bcc()</b></td><td></td></tr>
<tr><td><b>(PHPPE\Email)->subject()</b></td><td></td></tr>
<tr><td><b>(PHPPE\Email)->message()</b></td><td></td></tr>
<tr><td><b>(PHPPE\Email)->get()</b></td><td></td></tr>
<tr><td><b>(PHPPE\Email)->send()</b></td><td></td></tr>
</table>
</div>

<div id='phppe_js' class='tab' rel='javascript'>
<h2>JavaScript functions<sup><small>PHPPE Pack</small></sup></h2>
In addition to JQuery2 support, PHPPE provides a few functions on it's own:
<h3>Multilingual</h3>
<table class='parameters'>
<tr><td><b>L()</b></td><td>The standard <a href='javascript:tab_switch("L");'>language translation</a> function in JS natively</td></tr>
</table>
<h3>Cookie handling</h3>
<table class='parameters'>
<tr><td><b>cookie_get(name)</b></td><td></td></tr>
<tr><td><b>cookie_set(name,value,nDays,path)</b></td><td></td></tr>
</table>
<h3>Table of Contents</h3>
<table class='parameters'>
<tr><td><b>toc_init()</b></td><td>Called automatically. Place "&lt;div class='toc'>&lt;/div>" in your view to activate it.</td></tr>
</table>
<h3>Popup Calendar</h3>
<table class='parameters'>
<tr><td><b>calendar_init(flipdayurl)</b></td><td></td></tr>
<tr><td><b>calendar_open(calendarobj,form,field)</b></td><td></td></tr>
</table>
<h3>Popup Menu</h3>
popups: &lt;div id='mypopup'>menu&lt;/div><br>
triggers: onmouseover='popup_open(this,"mypopup",10,10);'
<table class='parameters'>
<tr><td><b>popup_open(triggerobj,id_of_div_to_popup,deltax,deltay)</b></td><td></td></tr>
</table>
<h3>Drag and Drop with context</h3>
Dragable items: onselectstart='return false;' onmousedown='return dnd_drag(&lt;what>,&lt;icon>[,size]);'<br>
Drop areas: onmouseup='return dnd_drop(event,myfunc[,context]);' and implement myfunc(what,context,event){} callback
<table class='parameters'>
<tr><td><b>dnd_drag(id,icon,size)</b></td><td></td></tr>
<tr><td><b>dnd_drop(event,callback,context)</b></td><td></td></tr>
</table>
<h3>Zooming images and divs</h3>
images: &lt;img id='thumb1' title='commentary' src='data/1.gif' data-zoom='data/1large.jpg' rel='galery1'><br>
non-images: &lt;span id='thumbX' title='commentary' onclick='zoom_open("X");' rel='galery1'>click me&lt;/span><br>
            &lt;div id='X' class='fullscrdiv' style='display:none;'>blah blah blah&lt;/div>
<table class='parameters'>
<tr><td><b>zoom_init(minw,maxw)</b></td><td></td></tr>
<tr><td><b>zoom_open(id,pw,ph)</b></td><td></td></tr>
</table>
</div>

<div id='phppe_gpio' class='tab' rel='gpio'>
<h2>PHPPE\GPIO Class<sup><small>PHPPE GPIO</small></sup></h2>
Is a wrapper around Raspberry Pi GPIO functions.
<h3>Properties</h3>
<h3>Methods</h3>
<table class='parameters'>
<tr><td><b>(PHPPE\GPIO)::_construct()</b></td><td></td></tr>
<tr><td><b>(PHPPE\Registry)->mode()</b></td><td></td></tr>
<tr><td><b>(PHPPE\GPIO)->read()</b></td><td></td></tr>
<tr><td><b>(PHPPE\GPIO)->write()</b></td><td></td></tr>
</table>
</div>

<div id='phppe_registry' class='tab' rel='registry'>
<h2>PHPPE\Registry Class<sup><small>PHPPE Pack</small></sup></h2>
Saves configuration in a key-value database. Has the same purpose as config.php, but unlike php files, can be modified on the fly.
<h3>Properties</h3>
<h3>Methods</h3>
<table class='parameters'>
<tr><td><b>(PHPPE\Registry)::get(key,default)</b></td><td></td></tr>
<tr><td><b>(PHPPE\Registry)::set(key,value)</b></td><td></td></tr>
</table>
</div>

<div id='phppe_users' class='tab' rel='users'>
<h2>PHPPE\Users Class<sup><small>PHPPE Pack</small></sup></h2>
An expansion to <a href='javascript:tab_switch("phppe_user");'>PHPPE\User</a> defined in Core.
<h3>Properties</h3>
<h3>Methods</h3>
<table class='parameters'>
</table>
</div>

<div id='cache' class='tab' rel='caching,memcache,apc'>
<h2>Cache Management</h2>
Caching is configured in <a href='javascript:tab_switch("configuration");'><tt>phppe/config.php</tt></a>:
<table class='parameters'>
<tr><td><b>$core->cache</b></td><td>memcache location, "(hostname)[:(port)]" or "unix:(path)" or "apc" or "files"</td></tr>
<tr><td><b>$core->nocache</b></td><td>Set it to true to disable caching of view output and <a href='javascript:tab_switch("assets");'>assets</a> (templates will be still cached).</td></tr>
<tr><td><b>$core->cachettl</b></td><td>View output and asset cache time to live in sec (defaults to 10 minutes)</td></tr>
<tr><td><b>$core->noaggr</b></td><td>set it to true to turn static css and js content aggregation off in html header</td></tr>
<tr><td><b>$core->nominify</b></td><td>set it to true to turn css and js minifier off</td></tr>
</table>
<br>If memcached (or any other cache alternative) can be accessed, raw templates will be always cached, and there's no flag to turn that off.<br>Without nocache set, templater's output and assets will be also cached for 10 minutes.<br><br>
Assets added by either <a href='javascript:tab_switch("css");'>PHPPE::css()</a> or <a href='javascript:tab_switch("jslib");'>PHPPE::jslib()</a> will be aggregated into two files in memory to save HTTP requests as well.<br><br>
If a page is cached, only the application's constructor will be called, but NOT the action handler.
If you want to support changing content along with caching, your application must be aware. You should look for new data in your app's constructor, and set PHPPE::$core->nocache to avoid view's caching and force regenerating the output.
<h3>Example</h3>
<tt>phppe/config.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br></pre>
<pre class='php'>
$core->cache = "127.0.0.1:11211";	//set up memcache connection
$core->nocache = false;			//allow caching of generated output by default
$core->noaggr = true;			//turn static content aggregation off
</pre></p>
<tt>app/ctrl/myapp.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br></pre>
<pre class='php'>
use PHPPE\Core as PHPPE;
//your application's class
class MyApp extends \PHPPE\App {
	public $data;

	//in constructor look for new data
	function __construct( $cfg ) {
		//if new data available, disable caching of output
		if( MyModel::getNumberOfNewItems() > 0 )
			PHPPE::$core->nocache = true;
	}

	//WARNING: actions not called when output is cached!
	function action( $item ) {
		$this->data = MyModel::getItems();
		//when returning from this method, templater will
		//regenerate output using $data and raw templates
		//and will save the result into the cache
	}
}
</pre>
<h3>Alternatives</h3>
You can use any other caching mechanism, if you return a cache instance from "phppe/libs/cache.php".<br>
This php file should return an object (or null, if cache misconfigured or unusable), that has at least two methods:
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
function get( $key ) { }
function set( $key, $value, $compressed = true, $ttlinsec = 0 ) { }
</pre></p>
Zero ttl means keep key in cache forever.<br>
If the caching mechanism requires connection, it must be initialized in the constructor, using PHPPE::$core->cache as argument.<br><br>
PHPPE Pack ships APC and file cache extensions in this file. You can replace memcached with APC by specifying $core->cache="apc" in configuration.
If you decide to use $core->cache="files", you'll also have to call the garbage colletor as a <a href='javascript:tab_switch("cron");'>background job</a> from cron:
<pre>
php public/index.php scripts cachegc
</pre>
</div>

<div id='monitoring' class='tab' rel='nagios,munin,syslog'>
<h2>Monitoring</h2>
<h3>Parsing output</h3>
The HTML output format will include statistics in a comment tag, right before the "&lt;/body&gt;" element. Here's a regexp to grab the info from it.
<pre>
&lt;!-- MONITORING: ([A-Z]+), page ([0-9\.]+) sec, db ([0-9\.]+) sec, server ([0-9\.]+) sec, mem ([0-9\.]+) mb[, mc] --&gt; &lt;/body&gt;
</pre>
<table class='parameters'>
<tr><td valign='top'><b>MONITORING</b></td><td>magic to match pattern<br>&nbsp;OK - everything was ok<br>&nbsp;WARNING - running was ok, but generates more log as necessary<br>&nbsp;ERROR - something (like a validator or security check) failed</td></tr>
<tr><td><b>page</b></td><td>total page generation time including database time</td></tr>
<tr><td><b>db</b></td><td>time consumed by data source queries</td></tr>
<tr><td><b>server</b></td><td>webserver time (framework start time minus http received time)</td></tr>
<tr><td><b>mem</b></td><td>maximum memory peak</td></tr>
<tr><td><b>mc</b></td><td>flag exists if <a href='javascript:tab_switch("cache");'>cache is enabled</a>.</td></tr>
</table>
Note that this statistics are updated even if the output is otherwise cached.
<h3>Configuring syslog</h3>
Some <a href='javascript:tab_switch("log");'>PHPPE::log()</a> messages (with severity of audit or critical, or when $core->syslog is true all) will be sent to syslog in the form:
<pre>
(vhost name):PHPPE-(A|W|E|C|I|D)-(module):(original message without line breaks)
</pre>
It's easy to grep.<br><br>
<tt>phppe/config.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4</pre>
<pre class='php'>
//send all messages to syslog, don't write log files.
$core->syslog = true;
//also log debug trace along with messages
$core->trace = true;
</pre></p>
</div>

<div id='filters' class='tab'>
<h2>URL Filters</h2>
You can add one or more filters to pages and fields on a form, not to mention the menu items. Most common case to apply as fourth argument to <a href='javascript:tab_switch("route");'>PHPPE::route()</a><br><br>
If a filter name starts with a '@', the <a href='javascript:tab_switch("has");'>user will be checked</a> against the given ACE, otherwise <tt>\PHPPE\Filter\<i>name</i>::filter()</tt> will be called
that returns a boolean value.<br>
For an ACL list, use pipe to concatenate ACEs (like "@siteeditor|siteadmin"). If you would like to describe user has A and at least one of B or C, that would be "@A,@B|C".<br>
If a filter fails, the URL will be automatically skipped. If all routes failed, and there was at least one that because of a filter, the url will be routed to 403 (access denied) page. When no routes matched at all, (PHPPE\Core)->run() will fall back to <a href='javascript:tab_switch("route:1244");'>default route</a>.<br><br>
PHPPE Core has four built-in filters:<ul>
<li>get - checks if the url was called with HTTP GET method</li>
<li>post - checks if the url was called with HTTP POST method</li>
<li><a href='javascript:tab_switch("isTry");'>csrf</a> - checks validity of a request when user tries to send a transaction, in other words save a form (Cross Site Request Forgery)</li>
<li>loggedin - this filter redirects user to login page if not logged in</li>
</ul>
NOTE the difference of filters "@loggedin" and "loggedin". The former simply returns true/false, the second redirects user to login page and arranges that he/she will be redirected back after successful authentication.
<h3>Source</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7</pre>
<pre class='php'>class \PHPPE\Filter\get extends \PHPPE\Filter
{
  function filter()
  {
    return $_SERVER[ 'REQUEST_METHOD' ] == "GET";
  }
}</pre>
</p>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7</pre>
<pre class='php'>class \PHPPE\Filter\post extends \PHPPE\Filter
{
  function filter()
  {
    return $_SERVER[ 'REQUEST_METHOD' ] == "POST";
  }
}</pre></p>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7</pre>
<pre class='php'>class \PHPPE\Filter\csrf extends \PHPPE\Filter
{
  function filter()
  {
    return PHPPE::isTry();
  }
}</pre></p>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10</pre>
<pre class='php'>class \PHPPE\Filter\loggedin extends \PHPPE\Filter
{
  function filter()
  {
    if(PHPPE::$user-&gt;id)
      return true;
    /* save request uri for returning after successful login with 2nd arg */
    PHPPE::redirect("login", true);
  }
}</pre></p>
</div>

<div id='routing' class='tab' rel='url,dynamic,default,special'>
<h2>URL Routing</h2>
First of all, if <a href='javascript:tab_switch("configuration");'>$core->maintenance</a> is true, all routing will be bypassed and only maintenance view will be displayed (using maintenance.tpl template).
Otherwise the routing decision is made in <a href='javascript:tab_switch("run");'>(PHPPE\Core)->run()</a>.<br><br>

PHPPE has a concept of <i>application</i> that has several <i>actions</i>, each operating on a specific <i>item</i>.
To explain URL routing, first we'll need an example application with actions. PHPPE gives you the freedom on how to organize your code. You can put all of your application's actions in a single file,
or you can create separate files for each action. That's your choice.
<br><br>
<tt>app/ctrl/myapp.php<br>
vendor/phppe/MyApp/ctrl/myapp.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9</pre>
<pre class='php'>
use PHPPE\Core as PHPPE;
class MyApp extends \PHPPE\App {
    //this action will be called via url routing with specific arguments
    function myspecaction( $arg1, $arg2 = "" ) {}
    //if you use a single file, action handler methods must be prefixed
    function action_myaction( $item ) {}
    //default action
    function action( $item ) {}
}
</pre></p>
<tt>app/ctrl/myapp_myaction.php<br>
vendor/phppe/MyApp/ctrl/myapp_myaction.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br></pre>
<pre class='php'>
class MyApp_Ctrl extends MyApp {
    //if you use separate files, only one action handler defined in each.
    function action( $item ) {}
}
</pre></p>
<h3>URL matcher routes</h3>
Routes are loaded with <a href='javascript:tab_switch("route");'>PHPPE::route()</a> in one of the modules (or your applicaiton) initialization file, and they will be matched against the url.
If url mask does not contain pharenthesis (no arguments), $core->item will be passed to the method as an only argument. If method is omited, default action route will choose the appropriate method.<br><br>
Routes has to be placed in <a href='javascript:tab_switch("routetut");'>app/99_app.php</a> or <a href='javascript:tab_switch("routetut");'>vendor/phppe/<span>*</span>/99_*.php</a> as module initialization code gets called before
the routing decision is made. It's too late to call PHPPE::route() in an application's constructor.<br><br>
<tt>app/99_app.php<br>
vendor/phppe/MyApp/99_MyApp.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23</pre>
<pre class='php'>
//plain arguments
PHPPE::route( "myspecurl/([^/]+)/?(.*)", "MyApp", "myspecaction", "post,@admin" );

//json friendly format
PHPPE::route( array(
	"url" => "myspecurl/([^/]+)/?(.*)",
	"name" => "MyApp",
	"action" => "myspecaction",
	"filters" => array(
		"post",
		"@admin"
	)
) );

//compact format for adding multiple routes at once
PHPPE::route( array(
	array( "myspecurl/([^/]+)/?(.*)", "MyApp", "myspecaction", array("post","@admin") ),
	array( "myspecurl2/([^/]+)/?(.*)", "MyApp", "myaction", array("loggedin") ),
) );

//if you specify only the class, default action routing will apply
//the class can be loaded via composer's autoload as well
PHPPE::route( "tests", "Tests" );
</pre></p>
As you may noticed in the examples above you can add <a href='javascript:tab_switch("filters");'>filters</a> to routes.
<h3>Default route</h3>
If no routes given, or neither matches, PHPPE Core will try to find the appropriate class by parsing the url as:<br>
(base) / <i>application</i> [ / <i>action</i> [ / <i>item</i> ] ]
<h4>Default application</h4>
It will look the for class "<i>application</i>" and "<i>application</i>_Ctrl" in these files:
<ol>
<li>app/ctrl/<i>application</i>.php</li>
<li>app/ctrl/<i>application</i>_<i>action</i>.php</li>
<li>vendor/phppe/<i>application</i>/ctrl/<i>application</i>.php</li>
<li>vendor/phppe/<i>application</i>/ctrl/<i>application</i>_<i>action</i>.php</li>
<li>vendor/phppe/core/ctrl/<i>application</i>.php</li>
<li>vendor/phppe/core/ctrl/<i>application</i>_<i>action</i>.php</li>
</ol>
First PHPPE consults your project's application directory, then it will check whether the url is handled by any of the installed extensions, or in PHPPE Core directory. As a last resort if fallbacks to PHPPE Core built-in action.
This means that (as long as no URL rules matches) you can override any additional module's action with your application's.<br><br>
Because both <i>application</i> and <i>application</i>_Ctrl looked for, you can use the former constructor to common tasks, and put every action specific code in the latter.
Don't forget to call parent constructor from Action constructors!
<h4>Default action</h4>
After including classes and executing their constructors (as well as the application's), the <a href='javascript:tab_switch("mc");'>caching instance</a> will be consulted.
If the page can be found in cache, action method <b>won't</b> be called. See <a href='javascript:tab_switch("cache");'>caching</a> for details. On the other hand, if it's not in cache, or page
generation is forced by $core->nocache set, exactly one of these methods will be executed:<ul>
<li>MyApp_Ctrl.action_myaction()</li>
<li>MyApp.action_myaction()</li>
<li>MyApp_Ctrl.action()</li>
<li>MyApp.action()</li>
</ul>
If you omit action parameter from URL rule, the same methods will be looked up in the specified class.<br>
<h4>Fallback action</h4>
If no application class found, run() will fallback to act as a <a href='javascript:tab_switch("contents");'>Content Server</a>, serving pages from database generated by PHPPE CMS.
If a page for the url found, it will populate the application's properties and sets the template to be used in view.
If your application (or any other PHPPE Module) provides PHPPE\Content class, even an action method will be called to provide dynamic contents.
<h4>Default view</h4>
After an action method returns (either called by matching, default or fallback) the <a href='javascript:tab_switch("template");'>templater</a> takes control over, and generates view for the first template found in order:
<ol>
<li><tt>PHPPE::$core->template</tt> (unless application overwrites it, it defaults to <i>application_action</i>)</li>
<li><i>application</i></li>
<li>404</li>
</ol>
<h3>Special URLs</h3>
Some urls are handled by the Core itself, mostly for workarounds and security reasons. These are as follows:
<table class='parameters'>
<tr><td>/login</td><td>Log in user (requires POST arguments). It handles admin user internally and will also call (PHPPE\Users)->login() method if found.</td></tr>
<tr><td>/logout</td><td>Log out user and destroy session. It handles admin user internally and will also call (PHPPE\Users)->logout() method if found.</td></tr>
<tr><td>/css, /js, /images</td><td><a href='javascript:tab_switch("assets");'>Assets</a> proxying.</td></tr>
<tr><td>?clear</td><td>Destroy session, but preserve logged in user</td></tr>
<tr><td>?cache=(hash)</td><td>Get content from cache</td></tr>
<tr><td>?nojs</td><td>Disable JavaScript client detection</td></tr>
<tr><td>?lang=(langcode)</td><td>Override client's language</td></tr>
<tr><td><nobr>?app=, action=, item=</nobr></td><td>Override webserver's url rewrite</td></tr>
<tr><td>?--dump</td><td>Dump environment, only works in developer and debug mode (runlevel 2 and above)</td></tr>
</table>
</div>

<div id='flow' class='tab' rel='views,<,!,iteration,foreach,conditional,if,else,include,reentrance'>
<h2>Templater Flow Control</h2>
For source, check <a href='javascript:tab_switch("template");'>PHPPE::_t()</a>.
<h3>Iteration</h3>
<pre>&lt;!foreach array>
 ...
&lt;!/foreach></pre>
Repeats xml block array length times. If array elements are instances or associative arrays, their fields can be referred on each interation. On scalar arrays, you may want &lt;!=VALUE>. Also the index of the array available as &lt;!=KEY>. For non-associative arrays, &lt;!=IDX>, the iteration counter is one bigger than KEY.
See <a href='javascript:tab_switch("format");'>expression</a> tag.
<h3>Conditional</h3>
<pre>&lt;!if expression>
 ...
[ &lt;!else>
 ... ]
&lt;!/if></pre>
Conditional xml blocks. First block is parsed if the expression is true, the second block otherwise (if exists). A special expression "cms" can be used here which evaluates to true only if page is viewed in <a href='javascript:tab_switch("contents");'>Content Editor</a>. With this you can configure otherwise hidden page properties in Editor.
<h4>Nesting</h4>
You can nest and mix iterations and conditional blocks at infinite level.
<h3>Include</h3>
<pre>&lt;!include templatename></pre>
Insert another template's content into current one just as if it were entered here.
<h3>Re-entrance</h3>
<pre>&lt;!template>
 ... &lt;% ... > ...
&lt;!/template></pre>
Blocks surronded by the template tag interpreted twice. On first run &lt;!, and &lt;% on second. This can be used to generate template tags with templater.
</div>

<div id='format' class='tab' rel='output,form,dump,expression,date,time,difftime'>
<h2>Templater Formating Output</h2>
For source, check <a href='javascript:tab_switch("template");'>PHPPE::_t()</a>.
<h3>Object reference</h3>
<pre>&lt;!form objectname>
 ...
&lt;/form></pre>
Includes a meta xml tag that starts a form. There's no closing tag, use the usual &lt;/form> (without !). Inside a form, you can refer to it's fields with &lt;!=>. Also, every &lt;!FIELD> can load and save field values.<br>
Object can be either an instance or an associative array. You can specify application and action as well as onsubmit handler:
<pre>&lt;!form objectname <i>application</i>>
&lt;!form objectname <i>application</i>/<i>action</i>>
&lt;!form objectname <i>application</i>/<i>action</i> <i>onsubmithandlerjs()</i>>
&lt;!form objectname - <i>onsubmithandlerjs()</i>>
</pre>
If application and action not specified, it will post the form to the same action from which it was generated.
<a name='expression'></a>
<h3>Expressions</h3>
<pre><span style='color:#808080;'>//variable, expression or field. In iterations you can use special variables
//KEY=key of the array you're iteration on; VALUE=current array element if not object;
//IDX=iteration counter; ODD=true if IDX is odd (for nice easy readable tables)</span>
&lt;!=expression></pre>
No php allowed in expressions; you have to convert both property names (<tt>$obj->field</tt>) and associative arrays (<tt>$obj["field"]</tt>) to <tt>obj.field</tt>. Also note that there's no "greater than" operator, if you plan to use, swap sides of the expression and use "less than" operator. Besides of these it works like php, you can use number_format() and sprintf() functions as well (<tt>&lt;!=sprintf("%12d",obj.numval*2+10)>, &lt;!=myobject.mymethod(myobject.field3)></tt>).<br>
In nested iterations you can refer to outer array's fields with prefixing fields by "parent.". Also, "parent.KEY" and "parent.IDX" will work as expected.<br>
Calling PHPPE Core library would require the prefix "core.", like
<pre>&lt;!=(core.isinst("MyAddOn") && MyAddOn.mymethod())>
&lt;!=core.getval("core.lib()")></pre>
When <a href='javascript:tab_switch("configuration");'>PHPPE::$core->allowed</a> array is set, only functions listed there will work, save core functions and L() which are available all the time.
Templater will generate <span style="background:#F00000;color:#FEA0A0;padding:3px;">E-BADFNC</span> error if it's set and referenced function is not in it and it's not a globally allowed function either.<br><br>
You can access the basic object's properties and methods with
<table>
<tr><td><a href='javascript:tab_switch("phppe");'>PHPPE::$core</a></td><td><pre style='margin:0px;'>core.</pre></td><td><i>PHPPE Core</i></td></tr>
<tr><td><a href='javascript:tab_switch("phppe_user");'>PHPPE::$user</a></td><td><pre style='margin:0px;'>user.</pre></td><td><i>Logged in user</i></td></tr>
<tr><td><a href='javascript:tab_switch("phppe_client");'>PHPPE::$client</a></td><td><pre style='margin:0px;'>client.</pre></td><td><i>Client's (browser's) properties</i></tr>
<tr><td><a href='javascript:tab_switch("phppe_app");'>PHPPE\App instance</a></td><td><pre style='margin:0px;'>app.</pre></td><td><i>Your application. Properties can be accessed without prefix as well</i></td></tr>
</table>
<h3>Date/Time formating</h3>
Human readable format and time units are specified in translations (available in <a href='javascript:tab_switch("install:5000");'>PHPPE Pack</a>). Without that it will fallback to ISO date format (YYYY-mm-dd HH:MM:SS) and English units (sec, min, hour, day etc.).
<pre>&lt;!date expression></pre>
Display an integer (UTC UNIX timestamp) as a human readable, localized date.
<pre>&lt;!time expression></pre>
Similar to &lt;!DATE>, but also displays time.
<pre>&lt;!difftime expression></pre>
Display the integer as difference to dates.<br><br>
<h3>Localization</h3>
<pre>&lt;!L textkey></pre>
Translate a string to the browser's language (user may override). This will prefix the string with "NA_" if translation not found (for static labels). If you don't want this (outputing variable user data), use
<pre>&lt;!=L( textkey )></pre>
as it will just return the textkey as is without translation or prefixing.
<h3>Misc</h3>
<pre>&lt;!dump field></pre>
Converts object or a field to a human readble string and displays it along with it's name.<br>
This only works if runlevel is at least 1 (verbose or testing). This level uses <i>print_r()</i> for dumping, higher levels (developer and debug) use <i>var_dump()</i>.
<pre>&lt;!app></pre>
This tag is unique. It should be limited to frame.tpl at one position only. This tag separates page header and footer. Templater replaces this tag with xml output of the main php application.
</div>
<div id='addonstemp' class='tab' rel='var,fields,widgets'>
<h2>Templater Add-Ons</h2>
For source, check <a href='javascript:tab_switch("template");'>PHPPE::_t()</a>.<br><br>
Both field types and widgets are extended from <a href='javascript:tab_switch("phppe_addon");'>PHPPE\Addon</a> class. The difference is how you refer to them in view templates.

<h3>Fields</h3>
<pre>
<span style='color:#808080;'>//create an add-on instance for a form field.</span>
&lt;!field type [ ( args ) ] objectname.fieldname [ attributes ]>
&lt;!var type [ ( args ) ] objectname.fieldname [ attributes ]>
&lt;!cms type [ ( args ) ] app.propname [ attributes ]>
</pre>
The "field" tag will call the edit() method of the Add-On to render html content, regadless if there's a show() method or not.
If you use "var" instead of "field", the show() hook will be called, edit() will be limited to edit mode only ($_SESSION['pe_e'] is true). If edit() hook is undefined, fallbacks to show(). If neither show() method found, "var" will output raw value, while "field" reports an error.<br><br>
It's easy to expand functionality with new field add-ons, see <a href='javascript:tab_switch("fieldtut");'>field tutorial</a> for an example.<br><br>
The "cms" tag will use edit() only if page opened in <a href='javascript:tab_switch("contents");'>Content Editor</a>, will use show() otherwise and fallbacks to plain value output without show(), just like "var". Also note that you can specify editor mode only templater blocks with "&lt;!if cms>...&lt;!/if>".
<h3>Widgets</h3>
Very similar to fields and vars:
<pre>&lt;!widget type [ ( args ) ] instancename [ attributes ]>
</pre>
Widgets works just like "var", show() method should draw it's face, and edit() method displays a widget configuration form (optional, if $_SESSION['pe_c'] is true).<br>
Technically "var" and "widget" are the same, the difference is limited to the meaning of what edit() renders, and when edit() gets called.<br><br>
See <a href='javascript:tab_switch("widget");'>widget tutorial</a> for an example.<br>
<h3>Built-in field types and widgets</h3>
<table class='parameters'>
<tr><td width='1'><pre>&lt;!field button [label [onclickjs [cssclass]]]></pre></td><td>
A simple button with JavaScript handler.
</td></tr>
<tr><td><pre>&lt;!field cancel [label [cssclass]]></pre></td><td>
A button that cancels form submit.
</td></tr>
<tr><td><pre>&lt;!field update/submit [label [onclickjs [cssclass]]]></pre></td><td>
Button to submit a form. Each form can have more submit buttons up to 9.
</td></tr>
<tr><td><pre>&lt;!field check[(truevalue)] obj.field [label [cssclass]]></pre></td><td>
Checkbox field type. If truevalue not given, 1 will be used. If not checked, will interpreted as 0 or false on php side.
<tr><td><pre>&lt;!field radio(grp) obj.field [label [cssclass]]></pre></td><td>
Radio box.
</td></tr>
<tr><td><pre>&lt;!field select[(size[,ismultiple])] obj.field options [(skipids|-)
&nbsp;&nbsp;[(onchangejs|-) [cssclass]]]></pre></td><td>
Shows an option list. Field value can be selected from options, except for skipids if given.
</td></tr>
<tr><td><pre>&lt;!field text[(size[,maxlen[,rows]])] obj.field [onkeyupjs [cssclass]]></pre></td><td>
Text input field. If rows given, will be shown as textarea.
</td></tr>
<tr><td><pre>&lt;!field hidden obj.field></pre></td><td>
A hidden value in form.
</td></tr>
<tr><td><pre>&lt;!filed pass[(size[,maxlen])] obj.field [cssclass]></pre></td><td>
Password input box with validation. Will look for at least 4 characters of numbers, letters and capitalized letters. If you want to imporve this, implement "\PHPPE\pass()" function.
</td></tr>
<tr><td><pre>&lt;!field num[(size[,maxlen[,min,max]])] obj.field [cssclass]></pre></td><td>
Numeric input, alignted to the right with range check.
</td></tr>
<tr><td><pre>&lt;!field phone[(size[,maxlen])] obj.field [cssclass]></pre></td><td>
Phone number field with syntax validation.
</td></tr>
<tr><td><pre>&lt;!field email[(size[,maxlen])] obj.field [cssclass]></pre></td><td>
Email input field with syntax validation.
</td></tr>
<tr><td><pre>
&lt;!field file[(size[,maxlen])] obj.field [cssclass]></pre></td><td>
File upload field. This is handled specially as values has to be copied from $_FILES to <a href='javascript:tab_switch("req2obj");'>PHPPE::req2obj()</a>'s return value.
</td></tr>
<tr><td><pre><span style='color:#808080;'>//date in localized format, returns unix timestamp</span>
&lt;!field date[(yearsbefore[,yearsafter])] obj.field [cssclass]>
<span style='color:#808080;'>//date and time</span>
&lt;!field time[(yearsbefore[,yearsafter])] obj.field [cssclass]></pre>
</pre></td><td>
Date (and time) fields in localized format, shown in client's time zone. Validation will convert it into integer UTC UNIX timestamp.
</td></tr>
</table>

<h3>Add-Ons provided by Pack</h3>
<table class='parameters'>
<tr><td width='1'><b>
</b></td><td>
</td></tr>
</table>

</div>

<div id='LANG_INIT' class='tab' rel='lang_init,multilingual,phppe/lang'>
<h2>LANG_INIT</h2>
<h3>Synopsis</h3>
<pre>LANG_INIT ( <i>module</i> )
PHPPE::langInit ( <i>module</i> )</pre>
Expands dictionary with new phrases. It will include phppe/(module)/lang/(client's lang).php, and fallbacks to English if not found.<br>
You can look up a word in the dictionary with <a href='javascript:tab_switch("L");'>L()</a>.
<h3>Files</h3>
vendor/phppe/*/lang/
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string module (optional)</tt></i></td><td>Name of the language module to load. If not given, it will be guessed from filename.</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br></pre>
<pre class='php'>
//this will load vendor/phppe/users/lang/en.php
LANG_INIT( "users" );
//if called from vendor/phppe/xy/99_xy.php, it will load vendor/phppe/xy/lang/en.php
LANG_INIT();
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br></pre>
<pre id='src_Core.langInit' class='php'>/**<br/> * load a new language dictionary into memory<br/> *<br/> * @param class name (module name)<br/> */<br/>	static function langInit($c = "", $i = [ ])<br/>	{<br/>		if($c == "")<br/>			$c = basename(dirname(dirname(debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS)[2]['file'])));<br/>		//! failsafe<br/>		$L = empty(self::$client-&gt;lang) ? "en" : self::$client-&gt;lang;<br/>		<br/>		//! expand language dictionary<br/>		if(empty($i[ 0 ]))<br/>			$i = explode("_", strtr($L, "-", "_"));<br/>		//! get translations<br/>		$la = "";<br/>		$c = "vendor/phppe/$c/lang/";<br/>		<br/>		//! first check as is, then first part, finally English<br/>		//! eg.: hu_HU, hu, en; en_US, en<br/>		foreach([ $L, $i[ 0 ], "en" ] as $l) {<br/>			if(file_exists($c . $l . ".php")) {<br/>				$la = io($c . $l . ".php");<br/>				break;<br/>			}<br/>		}<br/>		//! merge into core's array returned by l()<br/>		if(is_array($la))<br/>			self::$l += $la;<br/>	}</pre>
</div>

<div id='L' class='tab'>
<h2>L</h2>
<h3>Synopsis</h3>
<pre> L ( <i>text</i> )</pre>
Translates a text to user's language. If translation not found, it will simply return the string without underscores.<br>
You can expand the dictionary with <a href='javascript:tab_switch("LANG_INIT");'>LANG_INIT()</a>. Also note this function can be used in template expressions even if <a href='javascript:tab_switch("configuration");'>$core->allowed</a> does not list it.<br><br>
You can use this in php, view templates and even in JavaScripts!
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string text</tt></i></td><td>String to translate</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8</pre>
<pre class='php'>
//in php
$translated = L( "Translate me" );
//in view, this will give you a warning if translation not found
&lt;!L Translate me>
//in view, this returns original string
&lt;!=L( "Translate me" )>
//also available in JavaScript!
var jsStr = L( "Translate me" );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br></pre>
<pre id='src_L' class='php'>/**<br/> * Translate a string or code to user's language<br/> *<br/> * @usage L('Someting']), L('extensions_installtxt')<br/> * @param string or code<br/> * @return translated text<br/> */<br/>function L($s)<br/>{<br/>	//translate a string<br/>	return isset(\PHPPE\Core::$l[ $s ]) ? \PHPPE\Core::$l[ $s ] : strtr($s, [ "_" =&gt; " " ]);<br/>}</pre>
</div>

<div id='run' class='tab'><h2>(PHPPE\Core)->run</h2>
<h3>Synopsis</h3>
<pre>(PHPPE\Core)->run(<i>application, action</i>)</pre>
Execute a PHPPE Application. If you specify application as argument, only it's default routed action will be called, otherwise <a href='javascript:tab_switch("routing");'>URL routing</a> involved.
<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string application (optional)</tt></i></td><td>Override current application.</td></tr>
<tr><td><i><tt>string application (optional)</tt></i></td><td>Override default action routing.</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
$phppeApp = include("public/index.php");
$phppeApp->run("MyApp");
</pre></p>
Normally you won't call this function from your application, save testing. PHPPE Core calls it on it's own when used as a <a href='javascript:tab_switch("usage");'>CGI or CLI</a>.
</div>

<div id='url' class='tab'><h2>url</h2>
<h3>Synopsis</h3>
<pre>url(<i>application, action</i>)
PHPPE::url(<i>application, action</i>)</pre>
Normally you use only relative paths within PHPPE (either html links or file references), but there are some rare cases when absolute path is required (like Location's value in a HTTP request). In these cases you can generate a permanent link with absolute path by calling this function.
<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string application (optional)</tt></i></td><td>Override current application.</td></tr>
<tr><td><i><tt>string action (optional)</tt></i></td><td>Override current action.</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
url() => "https://localhost/dir1/dir2/myapp/action/"
url( "users", "add" ) =>"https://localhost/dir1/dir2/users/add/"
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br></pre>
<pre id='src_Core.url' class='php'>/**<br/> * generate a permanent link (see also url())<br/> *<br/> * @param application<br/> * @param action<br/> */<br/>	static function url($m = "", $p = "")<br/>	{<br/>		//! generate canonized permanent link<br/>		$c = self::$core-&gt;base;<br/>		$f = basename(__FILE__);<br/>		if(empty($m) && ! empty(self::$core-&gt;app))<br/>			$m = self::$core-&gt;app;<br/>		if(empty($p) && ! empty(self::$core-&gt;app) && self::$core-&gt;app == $m)<br/>			$p = self::$core-&gt;action;<br/>		$a = ($m != "/" ? ($m . $p != I . "action" ? $m . "/" : "") . (! empty($p) && $p != "action" ? $p . "/" : "") : "");<br/>		return "http" . (self::$core-&gt;sec ? "s" : "") . "://" . $c . ($c[ strlen($c) - 1 ] != "/" ? "/" : "") . ($f != I . ".php" ? $f . ($a ? "/"<br/>: "") : "") . $a;<br/>	}</pre>
</div>

<div id='log' class='tab' rel='phppe/log'><h2>PHPPE::log</h2>
<h3>Synopsis</h3>
<pre>PHPPE::log ( weight, message<i>, module</i> )</pre>
Logger. WARNING: Message must be in ENGLISH. No translation allowed for log messages.<br>
<h3>Files</h3>
phppe/log, vendor/phppe/core/log
<h3>Parameters</h3>
<table class='parameters'>
<tr><td style='vertical-align:top'><tt>char weight</tt></td><td>
Can be one of:<br>
A - Audit (will be logged regardless to runlevel)<br>
I - informational<br>
W - Warning (some features will be disabled)<br>
E - Error (some important part failed, but page can be still generated)<br>
C - Critical (main part failed, the page cannot be generated)<br>
D - Debug (only logged at runlevel 3)

</td></tr>
<tr><td style='vertical-align:top'><tt>string message</tt></td><td>The message to log. Use English messages only, and put in as much information as you can.</td></tr>
<tr><td style='vertical-align:top'><i><tt>string module (optional)</tt></i></td><td>The message will be logged to phppe/log/(module).log. If not given, it will guessed from filename.</td></tr>
</table>
<br>Critical and Audit messages are sent to syslog as well, and if <a href='javascript:tab_switch("monitoring");'>$core->syslog</a> is true, all of them and no files will be written.
Message format is:
<pre>
(vhost name):PHPPE-(A|W|E|C|I|D)-(module):(original message without line breaks)
</pre>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
PHPPE::log( 'I', "Modified product " . PHPPE::$core->item . " by " . PHPPE::$user->id . " (" . PHPPE::obj2str($prod) . ")", "products" );
PHPPE::log( 'A', "User " . PHPPE::$user->id . " logged out" );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br></pre>
<pre id='src_Core.log' class='php'>/**<br/> * log a message<br/> *<br/> * @param weight, Debug | Info | Audit | Warning | Error | Critical<br/> * @param message in English (don't translate it for compatibility)<br/> * @param module name, guessed if not given<br/> */<br/>	static function log($w, $m, $n = null)<br/>	{<br/>		if(! is_string($m) || self::$core-&gt;runlevel &lt; 3 && $w == "D")<br/>			return;<br/>		<br/>		//! log a message of weight for a module<br/>		$w = strtoupper($w);<br/>		if(! is_array($w, [ "D", "I", "A", "W", "E", "C" ]))<br/>			$w = "A";<br/>		if(empty($n))<br/>			$n = ! empty(self::$core-&gt;app) ? self::$core-&gt;app : "core";<br/>		<br/>		//! remove sensitive information from message<br/>		$m = trim(strtr($m, dirname(dirname(__FILE__)) . "/", ""));<br/>		$g = ! empty(self::$l[ $m ]) ? L($m) : $m;<br/>		<br/>		//! debug trace<br/>		$t = "";<br/>		if(! empty(self::$core-&gt;trace)) {<br/>			$s = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS);<br/>			foreach($s as $d)<br/>				$t .= "\t" . substr($d[ 'file' ], strlen(dirname(__DIR__)) + 1) . ":" . $d[ 'line' ] . ":" . $d[ 'function' ] . "\n";<br/>		}<br/>		$e = error_reporting(0);<br/>		//! log always stores dates in UTC to be comparable among servers<br/>		date_default_timezone_set("UTC");<br/>		$p = date("Y-m-d") . "T" . date("H:i:s") . "Z-$w-" . strtoupper($n) . ": ";<br/>		<br/>		//! send message to syslog too<br/>		if($w == "A" || $w == "C" || self::$core-&gt;syslog)<br/>			syslog($w == "C" ? LOG_ERR : LOG_NOTICE, self::$core-&gt;base . ":PHPPE-$w-" . strtoupper($n) . ": " . strtr($m, [ "\n" =&gt; "\\n", "\r" =&gt; "\\r"<br/>]) . strtr($t, "\n", ""));<br/>		//! save message to file<br/>		$l = "vendor/phppe/core/log/" . $n . ".log";<br/>		if(! self::$core-&gt;syslog && ! file_put_contents($l, $p . strtr($m, [ "\n" =&gt; "\\n", "\r" =&gt; "\\r" ]) . "\n" . $t, FILE_APPEND |<br/>LOCK_EX)) {<br/>			$w = "C";<br/>			$g .= (! self::$w ? "\nLOG-C" : "&lt;br/&gt;\n" . date("Y-m-d") . "T" . date("H:i:s") . "Z-C-LOG") . ": " . L("unable to write") . "<br/>$l";<br/>		}<br/>		@chmod($l, 0660);<br/>		//! on critical message, bail out<br/>		if($w == "C") {<br/>			if(self::$core-&gt;output != "html")<br/>				die(strtoupper("$n-C") . ": " . $g . "\n" . $t);<br/>			die("\n&lt;html&gt;&lt;body style='margin:8px;background:#000000;color:#A00000;'&gt;&lt;div<br/>style='text-align:center;font-size:28px;color:#ff0000;'&gt;PHPPE" . VERSION . " - " . L("Developer Console") . "&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;\n" .<br/>$p . nl2br(strtr($g . "\n" . $t, "\t", "&nbsp;&nbsp;")) . "&lt;/body&gt;&lt;/html&gt;\n");<br/>		}<br/>		elseif(! self::$w && $w != "D" && $w != "I")<br/>			fwrite(STDERR, strtoupper("$n-$w") . ": " . $g . "\n");<br/>		//! restore timezone and error reporting<br/>		date_default_timezone_set($_SESSION[ 'pe_tz' ]);<br/>		error_reporting($e);<br/>		return true;<br/>	}</pre>
</div>

<div id='lib' class='tab'><h2>PHPPE::lib</h2>
<h3>Synopsis</h3>
<pre>
PHPPE::lib ( )
PHPPE::lib ( name )
PHPPE::lib ( <i>name, description, dependency, instance</i> )
</pre>
You can query registered modules without parameters.<br><br>
With one parameter, returns the instance or null.<br><br>
More arguments register a new module or library in PHPPE system.
It can be accessed from code in "vendor/phppe/*/99_*.php", "vendor/phppe/*/libs" and  "vendor/phppe/*/ctrl".
NOTE: arguments differ to add-on registration, see <a href='javascript:tab_switch("addon");'>PHPPE::addon()</a>.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string name (optional)</tt></i></td><td>Name of the module to register. If not given, guessed automatically.</td></td>
<tr><td style='vertical-align:top'><i><tt>string description (optional)</tt></i></td><td>Description of what the module does, what's it's about in English.</td></tr>
<tr><td><i><tt>list dependency (optional)</tt></i></td><td>List of module names (either an array or comma separated list) that the module dependent of.</td></tr>
<tr><td><i><tt>reference instance (optional)</tt></i></td><td>If there's an assosiated instance, it's address.</td></td>
</table>
<h3>Return values</h3>
Array of modules or a specific module's instance.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3</pre>
<pre class='php'>
PHPPE::lib("wiki", "Wiki Editor", "DB,Users,Email");
PHPPE::lib("libgd", "LibGD extension", "", $gdimg);
PHPPE::lib("Email")->send();
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br></pre>
<pre id='src_Core.lib' class='php'>/**<br/> * query a library instance or list all registered libraries (modules)<br/> * @usage lib()<br/> * @param name, optional<br/> * @param array of library instances or one specific instance<br/> *<br/> * query a library instance<br/> * @usage lib(n)<br/> * @param name, optional<br/> * @param library instance or null<br/> *<br/> * register a library (module) in PHPPE<br/> * @usage lib(n,...) call it from your library's constructor<br/> * @param name<br/> * @param description<br/> * @param dependency, array of comma separated list<br/> * @param instance reference if applicable<br/> */<br/>	static function lib($n = "", $l = "", $D = "", &$o = null)<br/>	{<br/>		$L = &self::$core-&gt;libs;<br/>		<br/>		//! return list of lib or a specific module instance<br/>		if($l == "" && empty($D) && ! $o)<br/>			return empty($n) ? $L : (empty($L[ strtolower($n) ]) ? null : $L[ strtolower($n) ]);<br/>		//! initialize a module with dependency check<br/>		$d = "";<br/>		<br/>		//! if name not given, guess from filename<br/>		if(empty($n)) {<br/>			$n = basename(debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS)[1]['file']);<br/>			if(preg_match("/([0-9]+\_)?([^\/\_]+)([^\/]*)\.php$/i", $n, $m))<br/>				$n = $m[ 2 ];<br/>			unset($m);<br/>		}<br/>		//! check dependencies<br/>		if($D) {<br/>			if(! is_array($D))<br/>				$D = explode(",", $D);<br/>			foreach($D as $v)<br/>				if(! self::isInst($v))<br/>					$d .= ($d ? "," : "") . $v;<br/>			if($d)<br/>				self::log("C", "$n " . L("depends on") . ": $d");<br/>		}<br/>		//! if there's a name and no failed dependency, add to list<br/>		if(! $d && $n) {<br/>			if(empty($L[ strtolower($n) ]))<br/>				$L[ strtolower($n) ] = $o ? $o : new \StdClass();<br/>			$L[ strtolower($n) ]-&gt;name = L(empty($l) ? $n : $l) . (! empty($o-&gt;version) ? " (" . $o-&gt;version . ")" : "");<br/>		}<br/>	}</pre>
</div>

<div id='addon' class='tab'><h2>PHPPE::addon</h2>
<h3>Synopsis</h3>
<pre>PHPPE::addon ( )
PHPPE::addon ( <i>name, description, dependency, configuration</i> ) </pre>
Without arguments, returns a list of all available, installed add-ons, not just registered ones (you can get list of registered add-ons with <a href='javascript:tab_switch("getval");'>PHPPE::getval( "core.addons" )</a>).<br><br>
With arguments, register a new field type plugin or widget, so that it can be later used in view templates. This is usually called from (PHPPE\AddOn)->init() which in turn gets called by templater automatically on first reference in a view. See <a href='javascript:tab_switch("fieldtut");'>Field tutorial</a>.<br>
NOTE: arguments differ to library registration, see <a href='javascript:tab_switch("lib");'>PHPPE::lib()</a>.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string name</tt></td><td>Name of the add-on.</td></tr>
<tr><td><i><tt>string description (optional)</tt></i></td><td>Short description in English of what add-on is about.</td></tr>
<tr><td><i><tt>list dependency (optional)</tt></i></td><td>If depends on modules, you can check for them here. Use array or comma separated list of module names.</td></tr>
<tr><td><i><tt>string configuration (optional)</tt></i></td><td>Template argument mask</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br></pre>
<pre class='php'>
PHPPE::addon( "rte", "Rich Text Editor", "GALERY" );
PHPPE::addon( "checklist", "CheckBox List" );
PHPPE::addon( "text", "Text input field", "", "(size[,maxlen[,rows]]) obj.field [onkeyupjs [cssclass [fakevalue]]]" );
</pre></p>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br></pre>
<pre class='php'>
$available_addons = PHPPE::addon();
            [text] => stdClass Object
                (
                    [name] => Text
                    [conf] => (size[,maxlen[,rows]]) obj.field [onkeyupjs [cssclass [fakevalue]]]
                )

            [pass] => stdClass Object
                (
                    [name] => Password
                    [conf] => (size[,maxlen]) obj.field [cssclass]
                )

            [num] => stdClass Object
                (
                    [name] => Decimal number
                    [conf] => (size[,maxlen[,min[,max]]]) obj.field [cssclass]
                )

            [select] => stdClass Object
                (
                    [name] => Option list
                    [conf] => (size[,ismultiple]) obj.field options [skipids [onchangejs [cssclass]]]
                )
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br></pre>
<pre id='src_Core.addon' class='php'>/**<br/> * return all installed (not just registered) add-ons<br/> * @usage addon()<br/> * @return array of add-ons<br/> *<br/> * register an add-on in PHPPE<br/> * @usage addon(n,...) call it from your add-on's init() method<br/> * @param name<br/> * @param description<br/> * @param dependencies<br/> * @param configuration string (see self::addon() calls in bootstrap)<br/> */<br/>	static function addon($n = "", $l = "", $D = "", $c = "")<br/>	{<br/>		if(empty($n)) {<br/>			//! return all available add-ons in list<br/>			//! save current context<br/>			$S = [ self::$core-&gt;addons, self::$core-&gt;js, self::$core-&gt;jslib, self::$core-&gt;css ];<br/>			$d = @glob("vendor/phppe/*/addons/*.php");<br/>			foreach($d as $f) {<br/>				$F = basename($f);<br/>				$d = io($f);<br/>				$w = substr($F, 0, strlen($F) - 4);<br/>				$W = "\\PHPPE\\AddOn\\" . $w;<br/>				if(class_exists($W)) {<br/>					//! make a fail safe call<br/>					self::addon($w, "addon $w");<br/>					//! let the plugins call self::addon() as they like<br/>					if(method_exists($W, "init")) {<br/>						$W = new $W([ ], $w, $w);<br/>						$W-&gt;init();<br/>						unset($W);<br/>					}<br/>				}<br/>			}<br/>			//! save result<br/>			$r = self::$core-&gt;addons;<br/>			<br/>			//! restore context<br/>			list(self::$core-&gt;addons, self::$core-&gt;js, self::$core-&gt;jslib, self::$core-&gt;css) = $S;<br/>			return $r;<br/>		}<br/>		//! register an add-on with dependency check<br/>		$d = "";<br/>		<br/>		//! check dependencies<br/>		if($D) {<br/>			if(! is_array($D))<br/>				$D = explode(",", $D);<br/>			foreach($D as $v)<br/>				if(! self::isInst($v))<br/>					$d .= ($d ? "," : "") . $v;<br/>		}<br/>		if(empty($d)) {<br/>			self::$core-&gt;addons[ $n ] = (object)[ 'name' =&gt; L(empty($l) ? $n : $l), 'conf' =&gt; $c ];<br/>			LANG_INIT($n);<br/>		}<br/>		else <br/>			self::log("E", "$n " . L("depends on") . ": $d");<br/>	}</pre>
</div>

<div id='isinst' class='tab'><h2>PHPPE::isinst</h2>
<h3>Synopsis</h3>
<pre>PHPPE::isinst ( name )</pre>
Check if a module or add-on is installed.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string name</tt></td><td>Name of the module or add-on to check.</td></tr>
</table>
<h3>Return value</h3>
Returns a boolean true if found.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br></pre>
<pre class='php'>
//just an example, normally you never ever have to do this
if( !PHPPE::isinst( "mymodule" ) )
{
    include("vendor/phppe/mymodule/libs/mymodule.php");
    PHPPE::lib( "mymodule" );
}
</pre></p>
Note that you can also use this in view templates. See <a href='javascript:tab_switch("templater");'>templater</a> for details.
<pre>
&lt;!if core.isinst("myaddon")>
    &lt;!field myaddon obj.field>
&lt;!else>
    Please install myaddon extension.
&lt;!/if>
</pre>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br></pre>
<pre id='src_Core.isinst' class='php'>/** * checks if a module or an add-on is installed or not * * @param name * @return boolean true or false */	static function isinst($n)	{		//! check for installed module or available add-on		return(isset(self::$core-&gt;libs[ $n ]) || isset(self::$core-&gt;addons[ $n ]) || class_exists("\\PHPPE\\" . $n) || class_exists("\\PHPPE\\AddOn\\" . $n) || ! empty(@glob(N ."*/addons/" . $n . ".php")[ 0 ]));	}</pre>
</div>

<div id='e' class='tab'><h2>PHPPE::e</h2>
<h3>Synopsis</h3>
<pre>PHPPE::e ( weight, module, message )</pre>
Format an error message.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string weight</tt></td><td>One of ACEWID.</td></tr>
<tr><td><tt>string module</tt></td><td>Module name.</td></tr>
<tr><td><tt>string message</tt></td><td>Translated error message.</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
PHPPE::e ( "W", "MyModule", "failed because...");
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br></pre>
<pre id='src_Core.e' class='php'>/**<br/> * format an error message<br/> *<br/> * @param weight (see log())<br/> * @param module<br/> * @param message<br/> * @return formated message<br/> */<br/>	static function error_reporting($w, $c, $m)<br/>	{<br/>		return ! empty(self::$core-&gt;output) && self::$core-&gt;output == "html" ? "&lt;span<br/>style='background:#F00000;color:#FEA0A0;padding:3px;'&gt;" . ($w ? "$w-" : "") . ($c ? "$c:&nbsp;" : "") . htmlspecialchars($m) . "&lt;/span&gt;" : "$c-$w:<br/>" . strtr($m, [ "\r" =&gt; "", "\n" =&gt; "\\n" ]) . "\n";<br/>	}</pre>
</div>

<div id='error' class='tab'><h2>PHPPE::error</h2>
<h3>Synopsis</h3>
<pre>PHPPE::error ( message<i>, fieldname</i> )</pre>
Set an error message for a field.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string message</tt></td><td>Translated error message.</td></tr>
<tr><td><i><tt>string fieldname (optional)</tt></i></td><td>Name of the object field that the error belongs.</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
PHPPE::error ( L("Name is required!"), "contact.name" );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br></pre>
<pre id='src_Core.error' class='php'>/**<br/> * add an error message to output<br/> *<br/> * @param message<br/> * @param if message is related to a field, it's name<br/> */<br/>	static function error($m = "", $f = "")<br/>	{<br/>		if(empty($m))<br/>			return self::$core-&gt;error;<br/>		<br/>		//! register an error message<br/>		if(! isset(self::$core-&gt;error[ $f ]))<br/>			self::$core-&gt;error[ $f ] = [ ];<br/>		self::$core-&gt;error[ $f ][ trim($m) ] = trim($m);<br/>		//log validation error in developer and debug mode<br/>		if(self::$core-&gt;runlevel &gt; 1)<br/>			self::log("E", $f . "@" . $_SERVER[ 'REQUEST_URI' ] . " " . $m, "validate");<br/>	}</pre>
</div>

<div id='iserror' class='tab'><h2>PHPPE::iserror</h2>
<h3>Synopsis</h3>
<pre>PHPPE::iserror ( <i>fieldname</i> )</pre>
Checks for errors, or for errors on a specific field.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string fieldname (optional)</tt></i></td><td>Name of the object field to check for errors.</td></tr>
</table>
<h3>Return value</h3>
Returns a boolean true if error found.
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br></pre>
<pre id='src_Core.iserror' class='php'>/** * check for errors * * @param if interested in errors for a specific field, it's name * @return boolean true or false */	static function iserror($f = "")	{		//! check for error		return ! empty($f) ? isset(self::$core-&gt;error[ $f ]) : ! empty(self::$core-&gt;error);	}</pre>
</div>

<div id='route' class='tab'><h2>PHPPE::route</h2>
<h3>Synopsis</h3>
<pre>
PHPPE::route ( urlmask, classname, <i>action, filters</i> )
PHPPE::route ( array( "url"=>urlmask, "name"=>classname, <i>"action"=>action, "filters"=>filters</i> ) ) )
PHPPE::route ( array( urlmask=> array( classname, <i>action, filters</i> ) ) )
PHPPE::route ( array( array( urlmask=> array( classname, <i>action, filters</i> ) ), ... ) )
PHPPE::route ( stdClass( "url"=>urlmask, "name"=>classname, <i>"action"=>action, "filters"=>filters</i> ) )
</pre>
Adds a new route entry to <a href='javascript:tab_switch("routing");'>URL Routing</a> table.
Routes are set in <a href='javascript:tab_switch("routetut");'>app/99_app.php</a> or <a href='javascript:tab_switch("routetut");'>vendor/phppe/*/99_*.php</a>. Modules call this function to add extra routes.<br>
You can add the same urlmask more than once if at least action and filter differs. This way you can set up different actions for the same url depending only on filters.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string urlmask</tt></i></td><td>Perl compatible regular expression</td></tr>
<tr><td><tt>string classname</tt></i></td><td>Name of the application's class. It has to be either autoloaded or comply with default url routing includes. The class has to be inherited from PHPPE\App.</td></tr>
<tr><td><i><tt>string action (optional)</tt></i></i></td><td>Name of the method to call. If urlmask has pharentesis, they will be passed as arguments. If no action given, <a href='javascript:tab_switch("routing");'>default action route</a> will apply.</td></tr>
<tr><td><i><tt>string/array filters (optional)</tt></i></i></td><td>Comma separated list (or array) of filters.</td></tr>
</table>
<h3>Filters</h3>
If a <a href='javascript:tab_switch("filters");'>filter</a> starts with '@' the user's premissions will be checked with <a href='javascript:tab_switch("has");'>(PHPPE\User)->has()</a>, otherwise <tt>\PHPPE\Filter\<i>name</i>::filter()</tt> will be called. If one of the filter rules returns false, route will fall back to 403 Access denied.
<p><pre class='lineno'>1<br>2<br>3</pre>
<pre class='php'>
PHPPE::route("/api", "API", "posthandler", "post");		// PHPPE\Filter\post::filter() will be called
PHPPE::route("/membersonly", "MembersOnly", "", "@loggedin");	// access will be checked
PHPPE::route("/membersonly", "MembersOnly", "", "loggedin");	// PHPPE\Filter\loggedin::filter() will be called and user will be redirected to login page
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br></pre>
<pre id='src_Core.route' class='php'>/**<br/> * query routing table<br/> * @usage route()<br/> * @return array of routing rules<br/> *<br/> * register a new url route. This method can handle many different input formats<br/> * @usage route(...) call it from your initialization code, app/99_app.php<br/> * @param regexp mask of url<br/> * @param class in which the app resides<br/> * @param method of the application action handler (if not given, default action routing applies)<br/> * @param filters comma separated list or array of filters (ACE has to be started with '@' or PHPPE\Filter\*::filter() will be used)<br/> */<br/>	static function route($u = "", $n = "", $a = "", $f = [ ])<br/>	{<br/>		if(empty($u))<br/>			return self::$r;<br/>		$A = "action";<br/>		$F = "filters";<br/>		$U = "url";<br/>		$N = "name";<br/>		<br/>		//! standard arguments<br/>		if(is_string($u) && ! empty($n)) {<br/>			if(! is_array($f))<br/>				$f = explode(",", $f);<br/>			self::$r[ sha1($u.'|'. $n.'|'. $a ] = [ $u, $n, $a, $f ];<br/>		}<br/>		//! associative array<br/>		elseif(is_array($u) && ! empty($u[ $U ]) && ! empty($u[ $N ])) {<br/>			$f = ! empty($u[ $F ]) ? $u[ $F ] : [ ];<br/>			$a = ! empty($u[ $A ]) ? $u[ $A ] : "";<br/>			self::$r[ sha1($u[ $U ].'|'. $u[ $N ].'|'. $a ] = [ $u[ $U ], $u[ $N ], $a, is_array($f) ? $f : explode(",", $f) ];<br/>		}<br/>		//! mass import from an array<br/>		elseif(is_array($u) && ! empty(current($u)[ 0 ])) {<br/>			foreach($u as $v)<br/>				self::$r[ sha1($v[ 0 ].'|'. $v[ 1 ].'|'. (! empty($v[ 2 ] ? $v[ 2 ] : "")) ] = $v;<br/>		}<br/>		//! from stdClass<br/>		elseif(is_object($u) && ! empty($u-&gt; $U) && ! empty($u-&gt; $N)) {<br/>			$f = ! empty($u-&gt; $F) ? $u-&gt; $F : [ ];<br/>			$a = ! empty($u-&gt; $A) ? $u-&gt; $A : "";<br/>			self::$r[ sha1($u-&gt; $U.'|'. $u-&gt; $N.'|'. $a ] = [ $u-&gt; $U, $u-&gt; $N, $a, is_array($f) ? $f : explode(",", $f) ];<br/>		}<br/>		else <br/>			self::log("W", "bad route: " . serialize($u));<br/>		//! limit check<br/>		if(count(self::$r) &gt;= 512)<br/>			self::log("C", "too many routes");<br/>	}</pre>
</div>

<div id='routes' class='tab'><h2>PHPPE::routes</h2>
<h3>Synopsis</h3>
<pre>
$all_routes = PHPPE::routes();
</pre>
<h3>Return value</h3>
Routing table used by <a href='javascript:tab_switch("routing");'>URL Routing</a>.<br><br>
Routes are set in <a href='javascript:tab_switch("routetut");'>app/99_app.php</a> or <a href='javascript:tab_switch("routetut");'>vendor/phppe/*/99_*.php</a>.
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br></pre>
<pre id='src_Core.routes' class='php'>/** * query routing table * * @return array of routing rules */	static function routes()	{		//! return url routing table		return self::$r;	}</pre>
</div>

<div id='isTry' class='tab' rel='csrf'><h2>PHPPE::isTry</h2>
<h3>Synopsis</h3>
<pre>
PHPPE::isTry( <i>name of the form</i> )
</pre>
Returns submit button's number if user submitted a form with valid security token, and tries to save the form's content.<br>
The name of the submitted form can be accessed in PHPPE::$core->form. If you specify a form name, will also check if that certain form was submitted or not.<br><br>
This method also available as a <a href='javascript:tab_switch("route");'>routing filter</a> named "csrf" (Cross Site Request Forgery).
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string formname (optional)</tt></i></td><td>Name of the form to check. If not given, current form will be used.</td></tr>
</table>
<h3>Example</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33</pre>
<pre class='php'>
use PHPPE\Core as PHPPE;
class MyApp extends \PHPPE\App {

  function action( $item="" )
  {
	//example POST handler
	if( PHPPE::isTry() )
	{
		//this will retrive the object from dragon's land
		//and will validate every field in it
		$this->obj = PHPPE::req2obj( "obj" );
		//you can add additional business class logic here

		//update should be called only if everything was ok
		if( !PHPPE::iserror() )
		{
			//update database
			//redirect the user so that if he/she reloads the page there will be no problem
			PHPPE::redirect();
		}
	}

	//more forms in view
	if( PHPPE::isTry( "searchbox" ) )
	{
		...
	}
	if( PHPPE::isTry( "myform" ) )
	{
		...
	}
  }
}
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br></pre>
<pre id='src_Core.isTry' class='php'>/**<br/> * do security checks if user tries to save a form<br/> *<br/> * @return boolean true or false<br/> */<br/>	static function isTry($f = "")<br/>	{<br/>		//! return button number if user tries to save a form<br/>		return empty($f) || $f == self::$core-&gt;form ? self::$core-&gt;try : 0;<br/>	}</pre>
</div>

<div id='validate' class='tab'><h2>PHPPE::validate</h2>
<h3>Synopsis</h3>
<pre>PHPPE::validate ( field, validator<i>, isrequired, arguments, attributes</i>)</pre>
Adds a validator to a field. This <b>MUST</b> preceed any <a href='javascript:tab_switch("req2obj");'>PHPPE::req2obj()</a> call.<br>
You can add more validators to one field. Validators are AddOns with a validate() method.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string field</tt></td><td>Field name to add a validator to.</td></tr>
<tr><td><tt>string validator</tt></td><td>Name of the validator. Will be resolved as <tt><a href='javascript:tab_switch("addonvalidate");'>PHPPE\<i>validator</i>::validate()</a></i>.</td></tr>
<tr><td><tt><i>boolean isrequired (optional)</i></tt></td><td>Set it to true if non empty value is a must</td></tr>
<tr><td><tt><i>array arguments (optional)</i></tt></td><td>Arguments to validation</td></tr>
<tr><td><tt><i>array attributes (optional)</i></tt></td><td>Flags to change validation</td></tr>
</table>
<h3>Return value</h3>
Nothing.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3</pre>
<pre class='php'>
PHPPE::validate("myobject.myfield1", "phone");
PHPPE::validate("myobject.myfield2", "num", true, array(100,999) );
$myobject = PHPPE::req2obj("myobject");
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br></pre>
<pre id='src_Core.validate' class='php'>/**<br/> * add a validator on a field value<br/> *<br/> * @usage call it *BEFORE* req2obj or req2arr<br/> * @param field name<br/> * @param validator name (will use \PHPPE\(validator)::validate)<br/> * @param is value required<br/> * @param arguments<br/> * @param attributes<br/> */<br/>	static function validate($f, $v, $r = 0, $a = [ ], $t = [ ])<br/>	{<br/>		if(method_exists("\\PHPPE\\AddOn\\" . $v, "validate"))<br/>			self::$v[ $f ][ $v ] = [ ! empty($r), $a, $t ];<br/>	}</pre>
</div>

<div id='redirect' class='tab'><h2>PHPPE::redirect</h2>
<h3>Synopsis</h3>
<pre>PHPPE::redirect ( <i>url, save</i> )</pre>
Transparently redirect user to a new url, or to current page if no url given (or back to a saved url). This is important after database update, so that user can freely press on Back or reload the page.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string url (optional)</tt></i></td><td>Absolute or relative (application/action) url to redirect user to.</td></tr>
<tr><td><i><tt>boolean save (optional)</tt></i></td><td>save current url for later to be used next time redirect() called without arguments.</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br></pre>
<pre class='php'>
//redirect to external site
PHPPE::redirect( "http://mybank.com/paybycard/?webshopid=" . $webshop->id );
//redirect to the same page
PHPPE::redirect( PHPPE::$core->app . "/" . PHPPE::$core->action );
PHPPE::redirect();
//redirect to home
PHPPE::redirect( "/" );
//redirect to login, and save current url so later login will redirect user back here
PHPPE::redirect( "login", true );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br></pre>
<pre id='src_Core.redirect' class='php'>/**<br/> * redirect user<br/> *<br/> * @param url to redirect to<br/> * @param boolean save current url before redirect so that it will be used next time<br/> */<br/>	static function redirect($u = "", $s = 0)<br/>	{<br/>		//save current url<br/>		if($s)<br/>			self::_r();<br/>		//get redirection url if exists<br/>		if(empty($u) && ! empty($_SESSION[ "pe_r" ])) {<br/>			$u = $_SESSION[ "pe_r" ];<br/>			unset($_SESSION[ "pe_r" ]);<br/>		}<br/>		session_write_close();<br/>		//redirect user<br/>		header("HTTP/1.1 302 Found");<br/>		$f = basename(__FILE__);<br/>		header("Location:" . (! empty($u) ? (strpos($u, "://") ? $u : "http" . (self::$core-&gt;sec ? "s" : "") . "://" . self::$core-&gt;base<br/>. ($f != I . ".php" ? $f . "/" : "") . ($u != "/" ? $u : "")) : self::url() . self::$core-&gt;item));<br/>		exit();<br/>	}</pre>
</div>

<div id='get' class='tab'><h2>PHPPE::get</h2>
<h3>Synopsis</h3>
<pre>PHPPE::get ( http/https url<i>, post array, timeout in sec</i> )</pre>
Reads content of a web url without using fopen (does not matter if allow_url_fopen false or true, it works).<br>
Despite of the name, it supports POST requests as well. It will follow redirects and can handle cookies.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string url</tt></td><td>Absolute url to get contents from.</td></tr>
<tr><td><i><tt>array postvars (optional)</tt></i></td><td>Array of post variables if needed.</td></tr>
<tr><td><i><tt>int timeout (optional)</tt></i></td><td>Timeout in seconds. Defaults to 30 sec.</td></tr>
</table>
<h3>Return value</h3>
The contents of the page in a string.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
PHPPE::get( "http://mysite.com/wheatherinfo" );
PHPPE::get( "http://mysite.com/webapi", array("q"=>"something"), 300);
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br></pre>
<pre id='src_Core.get' class='php'>/**<br/> * make a http request and return content. This will follow cookie changes during redirects as well<br/> *<br/> * @param url<br/> * @param post array<br/> * @param timeout in sec<br/> * @return content<br/> */<br/>	static function get($u, $p = "", $T = 3, $l = 0)<br/>	{<br/>		static $C;			<br/>		//! check recursion maximum level<br/>		if($l &gt; 7)<br/>			return;<br/>		<br/>		//! parse url<br/>		if(preg_match("/^([^\:]+)\:\/\/([^\/\:]+)\:?([0-9]*)(.*)$/", $u, $m)) {<br/>			//! validation and default values<br/>			$s = 0;<br/>			if($m[ 1 ] != "http" && $m[ 1 ] != "https")<br/>				return;<br/>			if($m[ 1 ] == "https") {<br/>				$s = 1;<br/>				$m[ 2 ] = "ssl://" . $m[ 2 ];<br/>			}<br/>			if($m[ 3 ] == "")<br/>				$m[ 3 ] = ($m[ 1 ] == "http" ? 80 : 443);<br/>			if($m[ 4 ] == "")<br/>				$m[ 4 ] = "/";<br/>			<br/>			//! open socket<br/>			$f = fsockopen($m[ 2 ], $m[ 3 ], $n, $e, $T);<br/>			if(! $f) {<br/>				//log failure<br/>				self::log("E", "$u #$n $e", "http");<br/>				//give it a fallback in case ssl transport not configured in php<br/>				return($s && strpos($e, '"ssl"') ? file_get_contents($u) : "");<br/>			}<br/>			//! construct POST<br/>			$P = is_array($p) ? http_build_query($p, "_") : "";<br/>			<br/>			//! send request<br/>			//! we are using HTTP/1.0 on purpose so that we don't have to mess with chunked response<br/>			$o = ($P ? "POST" : "GET") . " " . $m[ 4 ] . " HTTP/1.0\r\nHost: " . $m[ 2 ] . "\r\nAccept-Language: " . self::$client-&gt;lang .<br/>";q=0.8\r\n" . ($C ? "Cookie: " . http_build_query($C, "", ";") . "\r\n" : "") . ($P ? "Content-Type:<br/>application/x-www-form-urlencoded\r\nContent-Length: " . strlen($P) . "\r\n" : "") . "Connection: close;\r\n\r\n" . $P;<br/>			fwrite($f, $o);<br/>			//! receive response<br/>			$d = $H = $n = "";<br/>			$h = "-";<br/>			$t = 0;<br/>			stream_set_timeout($f, $T);<br/>			while(! feof($f) && trim($h) != "") {<br/>				//! parse headers<br/>				$h = trim((fgets($f, 4096)));<br/>				if(! empty($h))<br/>					$H = strtolower($h);<br/>				if(substr($H, 0, 8) == "location")<br/>					$n = trim(substr($h, 9));<br/>				if(substr($H, 0, 12) == "content-type" && strpos($h, "text/"))<br/>					$t = 1;<br/>				<br/>				//! follow cookie changes<br/>				if(substr($H, 0, 10) == "set-cookie") {<br/>					$c = explode("=", explode(";", trim(substr($h, 11)))[ 0 ]);<br/>					//c[1] is undefined on nginx when clearing the cookie<br/>					@ $C[ $c[ 0 ] ] = $c[ 1 ];<br/>				}<br/>			}<br/>			//! handle redirections<br/>			if($n && $n != $u)<br/>				return self::get($n, $p, $T, $l + 1);<br/>			//! receive data if there was a header (not timed out)<br/>			if($H) {<br/>				while(! feof($f))<br/>					$d .= fread($f, 65535);<br/>				self::log("D", "$u " . strlen($d), "http");<br/>			}<br/>			else <br/>				self::log("E", "$u timed out $T", "http");<br/>			fclose($f);<br/>			return $t ? strtr($d, "\r", "") : $d;<br/>		}<br/>	}</pre>
</div>

<div id='mc' class='tab'><h2>PHPPE::mc</h2>
<h3>Synopsis</h3>
<pre>PHPPE::mc()</pre>
Returns the memory cache instance if memcached (or any other alternative) is <a href='javascript:tab_switch("cache");'>configured</a>. Usually called from libraries or applications that want to take advantage of a memory cache.<br>
See <a href='javascript:tab_switch("cache");'>Cache Management</a> for more.<br>
<h3>Return value</h3>
False or cache instance.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br></pre>
<pre class='php'>
$mc = PHPPE::mc();
if( $mc )
    $mc->set( "mykey", $myvalue );
$myvalue = $mc ? $mc->get( "mykey") : "";
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br></pre>
<pre id='src_Core.mc' class='php'>/**<br/> * return memcache instance to be later used by applications<br/> *<br/> * @usage call it from your application<br/> * @return memcache instance<br/> */<br/>	static function mc()<br/>	{<br/>		return self::$mc;<br/>	}</pre>
</div>

<div id='req2obj' class='tab'><h2>PHPPE::req2arr, PHPPE::req2obj</h2>
<h3>Synopsis</h3>
<pre>PHPPE::req2arr ( form name<i>, field definitions</i> )
PHPPE::req2obj ( form name<i>, field definitions</i> )</pre>
Convert http request to a php object (or associative array) with automatic field validation.
Normally you don't have to worry about validation, <a href='javascript:tab_switch("template");'>PHPPE::template()</a> will build the appropriate field definitions array for req2obj() according to your view.
If you want to add extra validator to fields, use <a href='javascript:tab_switch("validate");'>PHPPE::validate()</a> or specify <i>field definitions</i> array.
<br><br>
These must be called only in POST requests if <i>field definitions</i> are not specified.
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br></pre>
<pre class='php'>
if( PHPPE::isTry() ) {
	...
	$myobj = PHPPE::req2arr("myobj");
	...
}
</pre></p>
For GET requests you can call these outside the isTry() protected area, but this time you must specify <i>field definitions</i>. Beside of calling PHPPE::isTry() directly, you can also specify a <a href='javascript:tab_switch("route");'>filter</a> for your action code.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string form name</tt></td><td>Name of the form to get fields from.</td></tr>
<tr><td><i><tt>array field definitions</tt></i></td><td>key is a field name, value is an array of (type,isrequired,arguments,attributes)</td></tr>
</table>
<h3>Return value</h3>
Returns an stdClass or an associative array with appropirate fields.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br></pre>
<pre class='php'>
$_REQUEST => Array
(
    [myobj_a] => 1
    [myobj_b] => 2
    [myobj_c] => 3
)

PHPPE::req2arr( "myobj" ) => Array
(
    [a] => 1
    [b] => 2
    [c] => 3
)
PHPPE::req2obj( "myobj" ) => stdClass Object
(
    [a] => 1
    [b] => 2
    [c] => 3
)
</pre></p>
<br>Example field definitions (constructed by PHPPE::validate() method):
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br></pre>
<pre class='php'>
            [obj.field1] => Array (
                [pass] => Array (	//type (call PHPPE\pass::validate)
                    [0] => false	//is required
                    [1] => Array()	//arguments (see <a href='javascript:tab_switch("addonstemp:650");'>built-ins</a> for details)
                    [2] => Array()	//attributes
                )
	    )
            [obj.field2] => Array (
                [text] => Array (	//type (call PHPPE\text::validate)
                    [0] => false
                    [1] => Array
                        (
                            [0] => 8	//size
                            [1] => 32	//maxlength
                        )
                    [2] => Array
                        (
                            [0] => -
                            [1] => -
                            [2] => -
                            [3] => Search
                        )

                )
	    )
            [obj.field3] => Array (
                [num] => Array (	//type (call PHPPE\num::validate)
                    [0] => false
                    [1] => Array
                        (
                            [0] => 8	//size
                            [1] => 4	//maxlength
                            [2] => 100	//minimum value
                            [3] => 9000	//maximum value
                        )

                    [2] => Array
                        (
                        )

                )
	    )
</pre></p>
To get the list of arguments and attributes for a field type or widget, query <a href='javascript:tab_switch("addon");'>PHPPE::addon()</a> and look for "conf" field. Arguments are surrounded in pharenthesis after type (and before name), whilst attributes came after field name.
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br></pre>
<pre id='src_Core.req2obj' class='php'>/**<br/> * user request to object. Validates user input and returns an stdClass<br/> *<br/> * @param form prefix (request name)<br/> * @param validator data (if given, overrides templater's validator list)<br/> * @return form fields in stdClass<br/> */<br/>	static function req2obj($p, $V = [ ], $a = 0)<br/>	{<br/>		//! output format<br/>		if($a)<br/>			$o = array();<br/>		else <br/>			$o = new \stdClass();<br/>		//! php dropping a warning here is an indicator of hack<br/>		if(! empty(self::$v))<br/>			$V += self::$v;<br/>		$R = $_REQUEST;<br/>		$E = "error";<br/>		<br/>		//! patch missing elements<br/>		foreach($V as $K =&gt; $v) {<br/>			if(substr($K, 0, strlen($p) + 1) == $p . ".") {<br/>				$d = substr($K, strlen($p) + 1);<br/>				$r = $p . "_" . $d;<br/>				foreach($v as $T =&gt; $C) {<br/>					//! browsers do not send false for checkboxes<br/>					if(($T == "check" || ! empty($C[ 0 ])) && empty($R[ $r ]))<br/>						$R[ $r ] = $T == "check" ? false : "";<br/>					<br/>					//! convert localtime in multiple fields to singe timestamp with date validation<br/>					elseif(($T == "date" || $T == "time") && ! empty($R[ $r . ":y" ]))<br/>						list($R[ $r ]) = AddOn\date::validate($K, $r, $C[ 1 ], $C[ 2 ]);<br/>					//! php stores info for files in a separate array, copy it to request<br/>					elseif($T == "file") {<br/>						$f = empty($_FILES[ $r ]) ? [ ] : $_FILES[ $r ];<br/>						if(! empty($f[ $E ]) && $f[ $E ] != 4)<br/>							self::error(L(ucfirst($d)) . " " . L("failed to upload file."), $K);<br/>						$R[ $r ] = isset($f[ $E ]) && $f[ $E ] == 0 ? $f : [ ];<br/>					}<br/>				}<br/>			}<br/>		}<br/>		ksort($R);<br/>		//! iterate through form elements with validation<br/>		foreach($R as $k =&gt; $v) {<br/>			if(substr($k, 0, strlen($p) + 1) == $p . "_" && $k[ strlen($k) - 2 ] != ":") {<br/>				$d = substr($k, strlen($p) + 1);<br/>				$K = $p . "." . $d;<br/>				if(isset($V[ $K ])) {<br/>					//iterate on validators for this key<br/>					foreach($V[ $K ] as $T =&gt; $C) {<br/>						$t = "\\PHPPE\\AddOn\\" . $T;<br/>						if($T == "num")<br/>							$v += 0 . 0;<br/>						if($T == "check")<br/>							$v = $v ? ($v == 1 || $v == '1' ? true : $v) : false;<br/>						if(! empty($C[ 0 ]) && empty($v)) {<br/>							$v = null;<br/>							self::error(L(ucfirst($d)) . " " . L("is a required field."), $K);<br/>						}<br/>						elseif(! empty($v) && method_exists($t, "validate")) {<br/>							list($r, $m) = $t::validate($K, $v, $C[ 1 ], $C[ 2 ]);<br/>							if(! $r && $m) {<br/>								list($O, $f) = explode(".", $K);<br/>								//field name and translated error message for user<br/>								self::error(L(ucfirst(! empty($f) ? $f : $O)) . " " . L($m), $K);<br/>							}<br/>						}<br/>					}<br/>				}<br/>				$v = $v == "true" ? true : ($v == "false" ? false : $v);<br/>				if($a)<br/>					$o[ $d ] = $v;<br/>				else <br/>					$o-&gt; $d = $v;<br/>			}<br/>		}<br/>		return $o;<br/>	}</pre>
</div>

<div id='obj2str' class='tab'><h2>PHPPE::arr2str, PHPPE::obj2str</h2>
<h3>Synopsis</h3>
<pre>PHPPE::arr2str ( object<i>, fields to skip, separator</i> )
PHPPE::obj2str ( object<i>, fields to skip, separator</i> )</pre>
Convert an php object (or associative array) into string appropriate for sql queries or xml attributes. It will use PDO::quote() if possible.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>stdClass/Array object</tt></td><td>The object of which fields will be used.</td></tr>
<tr><td><i><tt>list fields (optional)</tt></i></td><td>List (array or comma separated list) of field names to skip in result.</td></tr>
<tr><td><i><tt>string separator (optional)</tt></i></td><td>Separator to use. Defaults to comma</td></tr>
</table>
<h3>Return value</h3>
Returns a string with appropirate fields, all values escaped properly.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br></pre>
<pre class='php'>
$obj => stdClass Object
(
    [Id] => 123
    [Name] => Something
    [AnotherField] => good
    [Flag] => 1
)

//for sql
PHPPE::obj2str( $obj ) => "Id='123',Name='Something',AnotherField='good',Flag='1'"
PHPPE::obj2str( $obj, "Id,Flag" ) => "Name='Something',AnotherField='good'"
//for xml attributes
PHPPE::obj2str( $obj, "", " ") => "Id='123' Name='Something' AnotherField='good' Flag='1'"
</pre></br>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br></pre>
<pre id='src_Core.obj2str' class='php'>static function obj2str($o, $s = "", $c = " ")<br/>	{<br/>		//! get skip list<br/>		if(! is_array($s))<br/>			$s = explode(",", $s);<br/>		//! iterate on fields<br/>		$r = "";<br/>		$d = Core::db();<br/>		if(is_string($o))<br/>			$o = [ $o ];<br/>		foreach($o as $k =&gt; $v) {<br/>			if(! is_array($k, $s))<br/>				$r .= ($r ? $c : "") . $k . "=" . ($c == "," && ! empty($d) ? $d-&gt;quote($v) : "'" . str_replace([ "\r", "\n", "\t", "\x1a" ], [<br/>"\\r", "\\n", "\\t", "\\x1a" ], addslashes($v)) . "'");<br/>		}<br/>		return $r;<br/>	}</pre>
</div>

<div id='val2arr' class='tab'><h2>PHPPE::val2arr</h2>
<h3>Synopsis</h3>
<pre>PHPPE::val2arr ( name<i>, separator</i> )</pre>
Get the value of a field or variable name, and convert it into an array. Mostly used for select boxes.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string name</tt></td><td>Name of a field or variable.</td></tr>
<tr><td><i><tt>string separator (optional)</tt></i></td><td>Separator to use. Defaults to comma, only meaningful if returned value is a string.</td></tr>
</table>
<h3>Return value</h3>
An array.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br></pre>
<pre class='php'>
//this is already an array
PHPPE::val2arr( "core.addons" ) => Array
(
    [checklist] => stdClass Object
        (
            [name] => CheckBox list
        )

    [datagrid] => stdClass Object
        (
            [name] => Data Grid table
        )
)

//split string otherwise
$obj->field = "a:b:c";
PHPPE::val2arr( "obj.field", ":" ) => Array
(
    [0] => a
    [1] => b
    [2] => c
)
</pre><p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br></pre>
<pre id='src_Core.val2arr' class='php'>/**<br/> * convert a value to array by splitting at separator<br/> *<br/> * @param input string<br/> * @param separator (defaults to comma)<br/> * @return array<br/> */<br/>	static function val2arr($s, $c = ",")<br/>	{<br/>		//! if input is already an array<br/>		if(is_array($s))<br/>			return $s;<br/>		elseif($s != "") {<br/>			//! get value of variable<br/>			$v = self::getval($s);<br/>			//! if returned value is already an array<br/>			if(is_array($v))<br/>				return $v;<br/>			<br/>			//! if not, explode string<br/>			return explode($c, $v);<br/>		}<br/>		return null;<br/>	}</pre>
</div>

<div id='tre2arr' class='tab'><h2>PHPPE::tre2arr</h2>
<h3>Synopsys</h3>
<pre>PHPPE::tre2arr ( array, <i>prefix, suffix</i> )</pre>
Flat a tree array into a simple array. Tree is an array of associative arrays where children are stored under "_" key. This function has two different operation mode, one suitable for option lists, and one for nested tags.<br>
Operation mode one: prefix may be given.<br>
Operation mode two: both prefix and suffix has to be given. In this mode prefix must have '%d' in it.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>tree array</tt></td><td>The tree to flat.</td></tr>
<tr><td><i><tt>string prefix (optional)</tt></i></td><td>String to use to represent recursion level.</td></tr>
<tr><td><i><tt>string suffix (optional)</tt></i></td><td>String to use at end. If given, prefix is only appended on nesting, see examples</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
$tree1 = PHPPE::tre2arr( $inp, "&amp;nbsp;&amp;nbsp;" );
$tree2 = PHPPE::tre2arr( $inp, "&lt;div id='tree2_%d' style='padding-left:10px;'>", "&lt;/div>" );
</pre></p>
<table width='100%'>
<tr><td style='vertical-align:top'>
<pre>
inp: Array
(
    [0] =&gt; stdClass Object
        (
            [id] =&gt; 1
            [name] =&gt; item1
        )

    [1] =&gt; stdClass Object
        (
            [id] =&gt; 2
            [name] =&gt; item2
            [_] =&gt; Array
                (
                    [0] =&gt; stdClass Object
                        (
                            [id] =&gt; 21
                            [name] =&gt; item2.1
                            [_] =&gt; Array
                                (
                                    [0] =&gt; stdClass Object
                                        (
                                            [id] =&gt; 211
                                            [name] =&gt; item2.1.1
                                        )
                                )
                        )

                    [1] =&gt; stdClass Object
                        (
                            [id] =&gt; 22
                            [name] =&gt; item2.2
                        )

                    [2] =&gt; stdClass Object
                        (
                            [id] =&gt; 23
                            [name] =&gt; item2.3
                        )
                )
        )

    [2] =&gt; stdClass Object
        (
            [id] =&gt; 3
            [name] =&gt; item2
        )
)
</pre>
</td><td style='vertical-align:top'>
<pre><div style='overflow:auto;height:350px;'>tree1 (selectbox mode): Array
(
    [0] =&gt; stdClass Object
        (
            [id] =&gt; 1
            [name] =&gt; item1
        )

    [1] =&gt; stdClass Object
        (
            [id] =&gt; 2
            [name] =&gt; item2
        )

    [2] =&gt; stdClass Object
        (
            [id] =&gt; 21
            [name] =&gt; &amp;nbsp;&amp;nbsp;item2.1
        )

    [3] =&gt; stdClass Object
        (
            [id] =&gt; 211
            [name] =&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;item2.1.1
        )

    [4] =&gt; stdClass Object
        (
            [id] =&gt; 22
            [name] =&gt; &amp;nbsp;&amp;nbsp;item2.2
        )

    [5] =&gt; stdClass Object
        (
            [id] =&gt; 23
            [name] =&gt; &amp;nbsp;&amp;nbsp;item2.3
        )

    [6] =&gt; stdClass Object
        (
            [id] =&gt; 3
            [name] =&gt; item2
        )
)
</div></pre>
<pre><div style='overflow:auto;height:350px;'>tree2 (nested div mode): Array
(
    [0] =&gt; stdClass Object
        (
            [id] =&gt; 1
            [name] =&gt; item1
        )

    [1] =&gt; stdClass Object
        (
            [id] =&gt; 2
            [name] =&gt; item2
&lt;div id='tree2_1' style='padding-left:10px;'&gt;
        )

    [2] =&gt; stdClass Object
        (
            [id] =&gt; 21
            [name] =&gt; item2.1
&lt;div id='tree2_2' style='padding-left:10px;'&gt;
        )

    [3] =&gt; stdClass Object
        (
            [id] =&gt; 211
            [name] =&gt; item2.1.1
&lt;/div&gt;
        )

    [4] =&gt; stdClass Object
        (
            [id] =&gt; 22
            [name] =&gt; item2.2
        )

    [5] =&gt; stdClass Object
        (
            [id] =&gt; 23
            [name] =&gt; item2.3
&lt;/div&gt;
        )

    [6] =&gt; stdClass Object
        (
            [id] =&gt; 3
            [name] =&gt; item2
        )
)
</div></pre>
</td></tr></table>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br></pre>
<pre id='src_Core.tre2arr' class='php'>/**<br/> * flat a recursive array (sub-levels in "_") into simple one level array<br/> * this is useful if you want to use an option list on trees.<br/> *<br/> * @param input tree array<br/> * @param prefix to use in names<br/> * @param suffix to use in names (if given, prefix and suffix only appended on nesting)<br/> * @return flat array<br/> */<br/>	static function tre2arr($t, $p = "  ", $s = "", $P = "", $S = "", &$d = null)<br/>	{<br/>		//! iterate through array<br/>		foreach($t as $v) {<br/>			//! get output size<br/>			$i = count($d);<br/>			//! look for sub arrays<br/>			foreach($v as $k =&gt; $w) {<br/>				if($k != "_") {<br/>					$c = strtolower($k) == "name" && ! $s ? $P . $w . $S : $w;<br/>					if(is_array($v))<br/>						$d[ $i ][ $k ] = $c;<br/>					elseif(is_object($v))<br/>						$d[ $i ]-&gt; $k = $c;<br/>				}<br/>			}<br/>			//! get child items<br/>			if(is_array($v) && ! empty($v[ "_" ]) || is_object($v) && ! empty($v-&gt;_)) {<br/>				//! prefix<br/>				if($s) {<br/>					$c = "\n" . sprintf($p, $i);<br/>					if(is_array($d[ $i ]) && isset($d[ $i ][ "name" ]))<br/>						$d[ $i ][ "name" ] .= $c;<br/>					elseif(is_object($d[ $i ]) && isset($d[ $i ]-&gt;name))<br/>						$d[ $i ]-&gt;name .= $c;<br/>				}<br/>				//! recursive call to walk through children elements too<br/>				$d = self::tre2arr(is_array($v) ? $v[ "_" ] : $v-&gt;_, $p, $s, $P . ($s ? "" : $p), ($s ? "" : $s) . $S, $d);<br/>				//! suffix<br/>				if($s) {<br/>					$c = "\n" . $s;<br/>					if(is_array($d[ count($d) - 1 ]) && isset($d[ count($d) - 1 ][ "name" ]))<br/>						$d[ count($d) - 1 ][ "name" ] .= $c;<br/>					elseif(is_object($d[ count($d) - 1 ]) && isset($d[ count($d) - 1 ]-&gt;name))<br/>						$d[ count($d) - 1 ]-&gt;name .= $c;<br/>				}<br/>			}<br/>		}<br/>		return $d;<br/>	}</pre>
</div>

<div id='dbInit' class='tab' rel='phppe/sql'><h2>PHPPE::dbInit</h2>
<h3>Synopsis</h3>
<pre>PHPPE::dbInit ( uri )</pre>
Initialize a new data source. You can select data sources with <a href='javascript:tab_switch("ds");'>PHPPE::ds()</a>, and query current instance with <a href='javascript:tab_switch("db");'>PHPPE::db()</a>. Connection specific commands will be read and executed from <tt>phppe/sql/_init.<i>(driver)</i>.sql</tt>.
<h3>Files</h3>
phppe/sql
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string uri</tt></td><td>database uri as a <a href='http://php.net/manual/en/pdo.drivers.php' target='_new'>PDO DSN</a>. If required but you cannot specify, append "@username:password".<br>
Quick links:
<a href='http://php.net/manual/en/ref.pdo-mysql.connection.php' target='_new'>MySQL DSN</a>,
<a href='http://php.net/manual/en/ref.pdo-pgsql.connection.php' target='_new'>PostgreSQL DSN</a>,
<a href='http://php.net/manual/en/ref.pdo-sqlite.connection.php' target='_new'>Sqlite DSN</a>.
</td></tr>
</table>

<h3>Return value</h3>
True is successful.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
PHPPE::dbInit( "sqlite:data/db.sqlite3" );
PHPPE::dbInit( "mysql:host=localhost;dbname=db;charset=utf8@user:pass" );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br></pre>
<pre id='src_Core.dbInit' class='php'>/** * Initialize a database and make connection available as a data source * * @param pdo dsn * @param optional: any PDO compatible class instance * @return selector for this new data source */	static function dbInit($u, $O = null)	{		//initialize a database and make connection available as a data source		$S = microtime(1);		//create instance		try {			//get username and password if it's not part of dsn			if(! preg_match("/^(.*)@([^@:]+)?:?([^:]*)$/", $u, $d))				$d[ 1 ] = $u;			if(! is_array(self::$db))				self::$db = [ ];			self::$sel = count(self::$db);			self::$db[ ] = is_object($O) ? $O : new \PDO($d[ 1 ], ! empty($d[ 2 ]) ? $d[ 2 ] : "", ! empty($d[ 3 ]) ? $d[ 3 ] : "", [\PDO::ATTR_ERRMODE =&gt; \PDO::ERRMODE_EXCEPTION, \PDO::ATTR_EMULATE_PREPARES =&gt; 0 ]);			if(! isset(self::$db[ self::$sel ]))				throw new \Exception();			//housekeeping			$d = &self::$db[ self::$sel ];			$d-&gt;id = count(self::$db);			$d-&gt;name = is_object($O) ? get_class($O) : $d-&gt;getAttribute(\PDO::ATTR_DRIVER_NAME);			$d-&gt;sqlrepl = @include(@glob("vendor/phppe/*/libs/db_" . $d-&gt;name . ".php")[ 0 ]);			//register database module			if(! isset(self::$core-&gt;libs[ "DS" ])) {				self::lib("DS", "DataSource");				self::$core-&gt;libs[ "DS" ]-&gt;primary = $d-&gt;name;			}			//! driver specific commands for connection (only in core and app)			$c = explode(";", file_get_contents("vendor/phppe/core/sql/_init." . $d-&gt;name . ".sql") . ";" . file_get_contents("app/sql/_init." . $d-&gt;name . ".sql"));			foreach($c as $n =&gt; $C)				if(! empty(trim($C)))					$d-&gt;exec(trim($C));		}		catch(\Exception $e) {			//! consider failure of first data source fatal			self::log(self::$sel ? "E" : "C", "Unable to init: $u, " . $e-&gt;getMessage(), "phppe");			throw $e;		}		self::$bill += microtime(1) - $S;				//return selector of newly created instance		return self::$sel;	}</pre>
</div>

<div id='dbClose' class='tab'><h2>PHPPE::dbClose</h2>
<h3>Synopsis</h3>
<pre>PHPPE::dbClose ( )</pre>
Closes database connections for all data sources opened by <a href='javascript:tab_switch("dbInit");'>PHPPE::dbInit()</a>.<br>
WARNING: only call this method if you know what you're doing.
<h3>Return value</h3>
Nothing.
<h3>Examples</h3>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
PHPPE::dbClose();
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br></pre>
<pre id='src_Core.dbClose' class='php'>/** * close all data sources */	static function dbClose()	{		$S = microtime(1);		//close all data sources		if(! empty(self::$db))			foreach(self::$db as $d)				if(method_exists($d, "close"))					$d-&gt;close();		self::$sel = 0;		self::$db = [ ];		self::$bill += microtime(1) - $S;	}</pre>
</div>

<div id='ds' class='tab'><h2>PHPPE::ds</h2>
<h3>Synopsis</h3>
<pre>PHPPE::ds ( selector )</pre>
Selects a data source to work with. Data sources has to be opened with <a href='javascript:tab_switch("dbInit");'>PHPPE::dbInit()</a>.
This call will affect <a href='javascript:tab_switch("exec");'>PHPPE::exec()</a>, <a href='javascript:tab_switch("fetch");'>PHPPE::fetch()</a>, <a href='javascript:tab_switch("query");'>PHPPE::query()</a> and <a href='javascript:tab_switch("tree");'>PHPPE::tree()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>integer selector</tt></td><td>index of data source to use</td></tr>
</table>
<h3>Return value</h3>
True is successful.
<h3>Examples</h3>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
PHPPE::ds( 1 );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br></pre>
<pre id='src_Core.ds' class='php'>/**<br/> * set current data source to use with exec, fetch etc. if argument given<br/> *<br/> * @param data source selector<br/> * @return returns current selector<br/> */<br/>	static function ds($s = - 1)<br/>	{<br/>		//select a data source to use<br/>		if($s &gt;= 0 && $s &lt; count(self::$db) && ! empty(self::$db[ $s ]))<br/>			self::$s = $s;<br/>		return self::$s;<br/>	}</pre>
</div>

<div id='db' class='tab'><h2>PHPPE::db</h2>
<h3>Synopsis</h3>
<pre>PHPPE::db ( <i>selector</i> )</pre>
Returns the database instance of a data source. When performance is an issue and <a href='javascript:tab_switch("exec");'>PHPPE::exec()</a> and <a href='javascript:tab_switch("query");'>PHPPE::query()</a> are simply not enough, you'll have to get an object reference for further optimalisations with specific methods.<br>
If selector not specified, returns object for current data source.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt><i>integer selector (optional)</i></tt></td><td>index of data source to use</td></tr>
</table>
<h3>Return value</h3>
A PDO instance.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br></pre>
<pre class='php'>
$db = PHPPE::db( 1 );
$db->prepare(...);
$db->execute(...);
$db->execute(...);
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br></pre>
<pre id='src_Core.db' class='php'>/**<br/> * Initialize a database and make connection available as a data source<br/> * or without arguments, return database instance for current data source<br/> *<br/> * @param empty for query or pdo dsn of new connection<br/> * @param optional: any PDO compatible class instance<br/> * @return pdo instance for query or selector for this new data source<br/> */<br/>	static function db($u = null, $O = null)<br/>	{<br/>		//query<br/>		if(empty($u))<br/>			return self::$db[ self::$s ];<br/>		//initialize a database and make connection available as a data source<br/>		$S = microtime(1);<br/>		//create instance<br/>		try {<br/>			//get username and password if it's not part of dsn<br/>			if(! preg_match("/^(.*)@([^@:]+)?:?([^:]*)$/", $u, $d))<br/>				$d[ 1 ] = $u;<br/>			if(! is_array(self::$db))<br/>				self::$db = [ ];<br/>			self::$s = count(self::$db);<br/>			self::$db[ ] = is_object($O) ? $O : new \PDO($d[ 1 ], ! empty($d[ 2 ]) ? $d[ 2 ] : "", ! empty($d[ 3 ]) ? $d[ 3 ] : "", [<br/>\PDO::ATTR_ERRMODE =&gt; \PDO::ERRMODE_EXCEPTION, \PDO::ATTR_EMULATE_PREPARES =&gt; 0 ]);<br/>			if(! isset(self::$db[ self::$s ]))<br/>				throw new \Exception();<br/>			//housekeeping<br/>			$d = &self::$db[ self::$s ];<br/>			$d-&gt;id = count(self::$db);<br/>			$d-&gt;name = is_object($O) ? get_class($O) : $d-&gt;getAttribute(\PDO::ATTR_DRIVER_NAME);<br/>			//! to maintain interoperability among different sql implementations, load replacements from<br/>			//!   vendor/phppe/*/libs/db_(driver).php<br/>			$d-&gt;s = @include(@glob("vendor/phppe/*/libs/db_" . $d-&gt;name . ".php")[ 0 ]);<br/>			//register database module<br/>			if(! isset(self::$core-&gt;libs[ "ds" ])) {<br/>				self::lib("ds", "DataSource");<br/>				self::$core-&gt;libs[ "ds" ]-&gt;primary = $d-&gt;name;<br/>			}<br/>			//! driver specific commands for connection (only in core and app)<br/>			$c = explode(";", file_get_contents("vendor/phppe/core/sql/_init." . $d-&gt;name . ".sql") . ";" . file_get_contents("app/sql/_init." . $d-&gt;name . ".sql"));<br/>			foreach($c as $n =&gt; $C)<br/>				if(! empty(trim($C)))<br/>					$d-&gt;exec(trim($C));<br/>		}<br/>		catch(\Exception $e) {<br/>			//! consider failure of first data source fatal<br/>			self::log(self::$s ? "E" : "C", "Unable to init: $u, " . $e-&gt;getMessage(), "db");<br/>			throw $e;<br/>		}<br/>		self::$bill += microtime(1) - $S;<br/>		<br/>		//return selector of newly created instance<br/>		return self::$s;<br/>	}</pre>
</div>

<div id='like' class='tab'><h2>PHPPE::like</h2>
<h3>Synopsis</h3>
<pre>PHPPE::like ( text )</pre>
Format a user provided search string into a search-ready like expression.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string text</tt></td><td>User provided string</td></tr>
</table>
<h3>Return value</h3>
Sql safe like expression string.
<h3>Examples</h3>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
PHPPE::like( "some thing" ) => "%some%thing%"
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br></pre>
<pre id='src_Core.like' class='php'>/**<br/> * convert a string from user into a sql like phrase<br/> *<br/> * @param string<br/> * @return like string<br/> */<br/>	static function like($s)<br/>	{<br/>		//user friendly like string conversion<br/>		return preg_replace("/[%_]+/", "%", "%" . preg_replace("/[^a-z0-9\%]/i", "_", preg_replace("/[\ \t]+/", "%", strtr(trim($s), "%", ""))) . "%");<br/>	}</pre>
</div>

<div id='exec' class='tab'><h2>PHPPE::exec</h2>
<h3>Synopsis</h3>
<pre>PHPPE::exec ( query<i>, arguments</i> )</pre>
Execute a database query that returns the number of affected rows (INSERT, UPDATE, DELETE etc.) or data array (SELECT) on the selected data source.<br>
Data source can be selected with <a href='javascript:tab_switch("ds");'>PHPPE::ds()</a>, and has to be initialized by <a href='javascript:tab_switch("dbInit");'>PHPPE::dbInit()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string query</tt></td><td>Database query.</td></tr>
<tr><td><i><tt>array arguments (optional)</tt></i></td><td>Arguments if query has placeholders.</td></tr>
</table>
<h3>Return value</h3>
Number of affected rows (INSERT, UPDATE, DELETE) or data array (SELECT).
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
PHPPE::exec( "INSERT INTO users SET " . PHPPE::obj2str( PHPPE::$user ) . ",CreateD=" . PHPPE::$core->now );
PHPPE::exec( "SELECT * FROM forum_topics WHERE name LIKE ?", array( PHPPE::like($search_phrase) ) );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br>91<br>92<br>93<br>94<br></pre>
<pre id='src_Core.exec' class='php'>/**<br/> * common code for executing a query on current data source. All the other methods are wrappers only<br/> *<br/> * @param query string<br/> * @return number of affected rows or data array<br/> */<br/>	static function exec($q, $a = [ ])<br/>	{<br/>		//! log query in developer mode<br/>		self::log("D", $q . " " . json_encode($a), "db");<br/>		//! check for valid datasource<br/>		if(! is_array($a))<br/>			$a = [ $a ];<br/>		if(empty(self::$db[ self::$s ]))<br/>			throw new \Exception(L("Invalid ds") . " #" . self::$s);<br/>		//! skip comment lines and empty queries by<br/>		//! reporting 1 affected row to avoid errors on caller side<br/>		$q = trim($q);<br/>		if(empty($q) || $q[ 0 ] == '-' || $q[ 0 ] == '/')<br/>			return 1;<br/>		<br/>		//! do the thing<br/>		$t = microtime(1);<br/>		$r = null;<br/>		$h = self::$db[ self::$s ];<br/>		try {<br/>			$i = strtolower(substr($q, 0, 6)) == "select";<br/>			<br/>			//! to maintain interoperability among different sql implementations, a replace<br/>			//! array is used with regexp pattern keys and replacement strings as value<br/>			//! see db() it's initialized there. The array is specified here:<br/>			//!   vendor/phppe/*/libs/db_(driver).php<br/>			if(is_array($h-&gt;s))<br/>				foreach($h-&gt;s as $k =&gt; $v)<br/>					$q = preg_replace($k, $v, $q);<br/>			//! prepare and execute the statement with arguments<br/>			$s = $h-&gt;prepare($q);<br/>			$s-&gt;execute($a);<br/>			//! get result, either an array or a number<br/>			$r = $i ? $s-&gt;fetchAll(\PDO::FETCH_ASSOC) : $s-&gt;rowCount();<br/>		}<br/>		catch(\Exception $e) {<br/>			//! try to load scheme for missing table<br/>			$E = $e-&gt;getMessage();<br/>			if((/*Sqlite/MySQL/MariaDB*/ preg_match("/able:?\ [\'\"]?([a-z0-9_\.]+)/mi", strtr($E, "le or v", ""), $d) || /*Postgre*/<br/>p("/([a-z0-9_\.]+)[\'\"] does\ ?n/mi", $E, $d) || /*MSSql*/ preg_match("/name:?\ [\'\"]?([a-z0-9_\.]+)/mi", $E, $d)) && ! empty($d[ 1 ])) {<br/>				$c = "";<br/>				$m = "." . strtolower($h-&gt;name);<br/>				$d = explode(".", $d[ 1 ]);<br/>				$d = trim(! empty($d[ 1 ]) ? $d[ 1 ] : $d[ 0 ]);<br/>				list($D) = explode("_", $d);<br/>				foreach([ "app/sql/$d", self::$p ? self::$p . "/sql/$d" : "", "vendor/phppe/$D/sql/$d", N . ucfirst($D) . "/sql/$d", "vendor/phppe/core/sql/$d", N .<br/>self::$core-&gt;app . "/sql/$d" ] as $f) {<br/>					if($f && file_exists("$f$m.sql")) {<br/>						$c = file_get_contents("$f$m.sql");<br/>						break;<br/>					}<br/>					if($f && file_exists("$f.sql")) {<br/>						$c = file_get_contents("$f.sql");<br/>						break;<br/>					}<br/>				}<br/>				if(empty($c)) {<br/>					self::log("C", $E, "db");<br/>					throw $e;<br/>				}<br/>				//! execute schema creation commands<br/>				$c = explode(";", $c);<br/>				foreach($c as $n =&gt; $C) {<br/>					try {<br/>						if(! empty(trim($C)))<br/>							$h-&gt;exec(trim($C));<br/>					}<br/>					catch(\Exception $e) {<br/>						self::log("C", "creating $d line:" . ($n + 1) . " " . $e-&gt;getMessage(), "db");<br/>					}<br/>				}<br/>				self::log("A", "$d created.", "db");<br/>				//! repeat original command<br/>				$s = $h-&gt;prepare($q);<br/>				$s-&gt;execute($a);<br/>				$r = $i ? $s-&gt;fetchAll(\PDO::FETCH_ASSOC) : $s-&gt;rowCount();<br/>			}<br/>			else<br/>			{<br/>				self::log("E", $q . " " . json_encode($a) . " " . $E, "db");<br/>				$r = null;<br/>				throw $e;<br/>			}<br/>		}<br/>		//housekeeping<br/>		self::$bill += microtime(1) - $t;<br/>		return $r;<br/>	}</pre>
</div>

<div id='query' class='tab'><h2>PHPPE::query</h2>
<h3>Synopsis</h3>
<pre>PHPPE::query ( fields, table<i>, where, group by, order by, offset, limit, arguments</i>)</pre>
Builds and executes a SELECT query that returns records on a data source.<br>
Data source can be selected with <a href='javascript:tab_switch("ds");'>PHPPE::ds()</a>, and has to be initialized by <a href='javascript:tab_switch("dbInit");'>PHPPE::dbInit()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string fields</tt></td><td>Comma separated list of database field names.</td></tr>
<tr><td><tt>string table</tt></td><td>Name of the table (or more table in multiplication)</td></tr>
<tr><td><i><tt>string where (optional)</tt></i></td><td>Where clause.</td></tr>
<tr><td><i><tt>string group (optional)</tt></i></td><td>Group by fields.</td></tr>
<tr><td><i><tt>string order (optional)</tt></i></td><td>Order by fields.</td></tr>
<tr><td><i><tt>int offset (optional)</tt></i></td><td>Starting offset, records below will not be returned.</td></tr>
<tr><td><i><tt>int limit (optional)</tt></i></td><td>Number of records to return.</td></tr>
<tr><td><i><tt>array arguments (optional)</tt></i></td><td>Arguments if where clause has placeholders.</td></tr>
</table>
<h3>Return value</h3>
An indexed array of associative arrays.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br></pre>
<pre class='php'>
$users = PHPPE::query( "*", "users" );
$notmypostinmytopics = PHPPE::query(
    "a.*",	//fields
    "forum_post a LEFT JOIN forum_topic b ON a.TopicId=b.Id",	//table
    "a.UserId!=? AND b.UserId=?",	//where clause
    "",		//group by
    "CreateDate desc"	//order by
    "",		//offset
    "",		//limit
    array( PHPPE::$user->id, PHPPE::$user->id )	//arguments
);
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br></pre>
<pre id='src_Core.query' class='php'>/**<br/> * query records from current data source<br/> *<br/> * @param fields<br/> * @param table<br/> * @param where clause<br/> * @param group by<br/> * @param order by<br/> * @param offset<br/> * @param limit<br/> * @param arguments<br/> * @return array<br/> */<br/>	static function query($f, $t, $w = "", $g = "", $o = "", $s = 0, $l = 0, $a = [ ])<br/>	{<br/>		//execute a query that returns records of associative arrays<br/>		$q = "SELECT " . $f . ($t ? " FROM " . $t : "") . ($w ? " WHERE " . $w : "") . ($g ? " GROUP BY " . $g : "") . ($o ? " ORDER BY "<br/>. $o : "") . ($l ? (" LIMIT " . ($s ? $s . "," : "") . $l) : "") . ";";<br/>		return self::exec($q, $a);<br/>	}</pre>
</div>

<div id='fetch' class='tab'><h2>PHPPE::fetch</h2>
<h3>Synopsis</h3>
<pre>PHPPE::fetch ( fields, <i>table, where, group by, order by, arguments</i> )</pre>
Returns one record from a data source.<br>
Data source can be selected with <a href='javascript:tab_switch("ds");'>PHPPE::ds()</a>, and has to be initialized by <a href='javascript:tab_switch("dbInit");'>PHPPE::dbInit()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string fields</tt></td><td>Comma separated list of database field names.</td></tr>
<tr><td><i><tt>string table (optional)</tt></i></td><td>Name of the table (or more table in multiplication)</td></tr>
<tr><td><i><tt>string where (optional)</tt></i></td><td>Where clause.</td></tr>
<tr><td><i><tt>string group (optional)</tt></i></td><td>Group by fields.</td></tr>
<tr><td><i><tt>string order (optional)</tt></i></td><td>Order by fields.</td></tr>
<tr><td><i><tt>array arguments (optional)</tt></i></td><td>Arguments if where clause has ? placeholders.</td></tr>
</table>
<h3>Return value</h3>
An associative array.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
$lastPost = PHPPE::fetch( "*", "forum_posts", "", "", "CreateDate desc" );
$myUser = PHPPE::fetch( "*", "user", "id=?", "", "", "", [ $user->id ] );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br></pre>
<pre id='src_Core.fetch' class='php'>/**<br/> * query one record from current data source<br/> *<br/> * @param fields<br/> * @param table<br/> * @param where clause<br/> * @param group by<br/> * @param order by<br/> * @param arguments<br/> * @return array<br/> */<br/>	static function fetch($f, $t = "", $w = "", $g = "", $o = "", $a = [ ])<br/>	{<br/>		//return the first record<br/>		$r = self::query($f, $t, $w, $g, $o, 0, 1, $a);<br/>		return empty($r[ 0 ]) ? [ ] : $r[ 0 ];<br/>	}</pre>
</div>

<div id='field' class='tab'><h2>PHPPE::field</h2>
<h3>Synopsis</h3>
<pre>PHPPE::field ( field, <i>table, where, group by, order by, arguments</i> )</pre>
Returns the first column from the first record from a query.<br>
Data source can be selected with <a href='javascript:tab_switch("ds");'>PHPPE::ds()</a>, and has to be initialized by <a href='javascript:tab_switch("dbInit");'>PHPPE::dbInit()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string field</tt></td><td>Database field name of expression.</td></tr>
<tr><td><i><tt>string table (optional(</tt></i></td><td>Name of the table (or more table in multiplication)</td></tr>
<tr><td><i><tt>string where (optional)</tt></i></td><td>Where clause.</td></tr>
<tr><td><i><tt>string group (optional)</tt></i></td><td>Group by fields.</td></tr>
<tr><td><i><tt>string order (optional)</tt></i></td><td>Order by fields.</td></tr>
<tr><td><i><tt>array arguments (optional)</tt></i></td><td>Arguments if where clause has ? placeholders.</td></tr>
</table>
<h3>Return value</h3>
A value.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
$currtime = PHPPE::field( "CURRENT_TIME" );
$numposts = PHPPE::field( "SUM(1)", "forum_topics", "UserId=?", "", "", "", [ $user->id ] );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br></pre>
<pre id='src_Core.field' class='php'>/**<br/> * query one field from current data source<br/> *<br/> * @param field<br/> * @param table<br/> * @param where clause<br/> * @param group by<br/> * @param order by<br/> * @param arguments<br/> * @return array<br/> */<br/>	static function field($f, $t = "", $w = "", $g = "", $o = "", $a = [ ])<br/>	{<br/>		//return the first field<br/>		return reset(self::fetch($f, $t, $w, $g, $o, $a));<br/>	}</pre>
</div>

<div id='tree' class='tab'><h2>PHPPE::tree</h2>
<h3>Synopsis</h3>
<pre>PHPPE::tree ( query<i>, parentid</i> )</pre>
Returns tree of arrays from a data source. That is, childs recursively returned in parent node's field named '_'.<br>
Data source can be selected with <a href='javascript:tab_switch("ds");'>PHPPE::ds()</a>, and has to be initialized by <a href='javascript:tab_switch("dbInit");'>PHPPE::dbInit()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string query</tt></td><td>SELECT query that has one placeholder '?' in it. That will be replaced by parent's id, make sure not to query infinite loops.</td></tr>
<tr><td><i><tt>int parentid (optional)</tt></i></td><td>Use if you want to get only a part of the tree.</td></tr>
</table>
<h3>Return value</h3>
Tree array of associative arrays. Use <a href='javascript:tab_switch("tre2arr");'>PHPPE::tre2arr()</a> method to flat the tree into an array.
<h3>Examples</h3>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
$mytree = PHPPE::tree( "select Id,ParentId,Name from category where Id!=ParentId and ParentId=?;", 2 );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br></pre>
<pre id='src_Core.tree' class='php'>/**<br/> * query a recursive tree from current data source<br/> *<br/> * @param query string, use '?' placeholder to mark place of parent id<br/> * @param root id of the tree, 0 for all<br/> * @return array of data<br/> */<br/>	static function tree($q, $p = 0)<br/>	{<br/>		//return a tree array (childs in _)<br/>		$r = self::exec($q, [ $p ]);<br/>		if(empty($r))<br/>			return[ ];<br/>		foreach($r as $k =&gt; $v) {<br/>			$i = isset($v[ 'id' ]) ? $v[ 'id' ] : - 1;<br/>			if(! empty($i) && $i != $p) {<br/>				$c = self::tree($q, $i);<br/>				if(! empty($c))<br/>					$r[ $k ][ "_" ] = $c;<br/>			}<br/>		}<br/>		return $r;<br/>	}</pre>
</div>

<div id='css' class='tab'><h2>PHPPE::css</h2>
<h3>Synopsis</h3>
<pre>PHPPE::css ( filename )</pre>
Add a css file to output.<br>
With <a href='javascript:tab_switch("cache");'>caching enabled</a> static files will be aggregated in memory.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string filename</tt></td><td>theme or module name</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
PHPPE::css( "theme_geek.css" );
PHPPE::css( "calendar.css" );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br></pre>
<pre id='src_Core.css' class='php'>/**<br/> * register a new stylesheet<br/> *<br/> * @param name of the stylesheet<br/> */<br/>	static function css($c = "")<br/>	{<br/>		if(empty($c))<br/>			return self::$core-&gt;css;<br/>		<br/>		//! add a new stylesheet to output<br/>		$a = dirname(debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS)[1]['file']);<br/>		//! set path to extension root<br/>		if(is_array(basename($a), [ "ctrl", "libs", "js", "css", "addons" ]))<br/>			$a = dirname($a);<br/>		$a .= "/css/" . @x("?", $c)[ 0 ];<br/>		if(! file_exists($a))<br/>			$a .= ".php";<br/>		if(! isset(self::$core-&gt;css[ $c ]) && file_exists($a))<br/>			self::$core-&gt;css[ $c ] = realpath($a);<br/>	}</pre>
</div>

<div id='jslib' class='tab'><h2>PHPPE::jslib</h2>
<h3>Synopsis</h3>
<pre>PHPPE::jslib ( filename<i>, init function</i> )</pre>
Add a JavaScript library to output.<br>
With <a href='javascript:tab_switch("cache");'>caching enabled</a> static files will be aggregated in memory.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string filename</tt></td><td>library name</td></tr>
<tr><td><tt><i>string init function (optional)</i></tt></td><td>a function name that will be called on onload event to initialize the library runtime</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
PHPPE::jslib( "calendar.js" );
PHPPE::jslib( "myscript.js", "myscript_init('100%','100%');" );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br></pre>
<pre id='src_Core.jslib' class='php'>/**<br/> * register a new javascript library<br/> *<br/> * @param name of the js library<br/> * @param if it needs to be initialized, the code to do that<br/> */<br/>	static function jslib($l = "", $i = "")<br/>	{<br/>		if(empty($l))<br/>			return self::$core-&gt;jslib;<br/>		<br/>		//! add a new javascript library to output<br/>		$a = dirname(debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS)[1]['file']);<br/>		//! set path to extension root<br/>		if(is_array(basename($a), [ "ctrl", "libs", "js", "css", "addons" ]))<br/>			$a = dirname($a);<br/>		$a .= "/js/" . @x("?", $l)[ 0 ];<br/>		if(! file_exists($a))<br/>			$a .= ".php";<br/>		if(! isset(self::$core-&gt;jslib[ $l ]))<br/>			self::$core-&gt;jslib[ $l ] = realpath($a);<br/>		//! also register init hook and call it on onload event<br/>		if(! empty($i) && (empty(self::$core-&gt;js[ "init()" ]) || strpos(self::$core-&gt;js[ "init()" ], trim($i)) === false)) {<br/>			$i = trim($i);<br/>			self::js("init()", $i . ($i[ strlen($i) - 1 ] != ";" ? ";" : ""), true);<br/>		}<br/>	}</pre>
</div>

<div id='js' class='tab'><h2>PHPPE::js</h2>
<h3>Synopsis</h3>
<pre>PHPPE::js ( function, code, <i>, append</i> )</pre>
Add a JavaScript function to output.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string function</tt></td><td>function name</td></tr>
<tr><td><tt>string code</tt></td><td>function code block</td></tr>
<tr><td><tt><i>boolean append (optional)</i></tt></td><td>If true, the code will be appended to the existing function's code</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
PHPPE::js( "init()", "alert('Got onload!');", true );
PHPPE::js( "myfunc(a,b,c)", "alert('a:'+a +', b:'+b +', c:'+c);" );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br></pre>
<pre id='src_Core.js' class='php'>/**<br/> * register a new javascript function<br/> *<br/> * @param name of the js function with arguments<br/> * @param code<br/> * @param if code should be appended to existing code, true. Replace otherwise<br/> */<br/>	static function js($f = "", $c = "", $a = 0)<br/>	{<br/>		//! add a javascript function to output<br/>		$C = minify($c, "js");<br/>		$C .= ($C[ strlen($C) - 1 ] != ";" ? ";" : "");<br/>		if($a) {<br/>			if(! isset(self::$core-&gt;js[ $f ]))<br/>				self::$core-&gt;js[ $f ] = "";<br/>			if(strpos(self::$core-&gt;js[ $f ], $C) === false)<br/>				self::$core-&gt;js[ $f ] .= $C;<br/>		}<br/>		else <br/>			self::$core-&gt;js[ $f ] = $C;<br/>	}</pre>
</div>

<div id='menu' class='tab'><h2>PHPPE::menu</h2>
<h3>Synopsis</h3>
<pre>PHPPE::menu ( title, link )
PHPPE::menu ( title, array( title => link ) )</pre>
Register a menu item.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string title</tt></td><td>title of the menu item. You can append reqired <a href='javascript:tab_switch("filters");'>ACE filter</a> with '@'.</td></tr>
<tr><td><tt>string link</tt></td><td>target url</td></tr>
<tr><td><tt>array title=>link</tt></td><td>sub menu (1 level only)</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br></pre>
<pre class='php'>
PHPPE::menu(
	L("Database"), array(
	    L("Create") ."@dbadm" => "db/create",
	    L("Scheme") ."@dbadm" => "db/scheme",
	    L("List") => "db/select",
	    L("Edit") => "db/modify"
	    ),
	L("Logout") ."@loggedin" => "logout"
);
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br></pre>
<pre id='src_Core.menu' class='php'>/**<br/> * register a new menu item or submenu in PHPPE panel<br/> *<br/> * @param title of the link<br/> * @param url or array of title=&gt;url<br/> */<br/>	static function menu($t = "", $l = "")<br/>	{<br/>		//! add a new menuitem or submenu<br/>		if(is_string($l) || is_array($l))<br/>			self::$core-&gt;menu[ $t ] = $l;<br/>	}</pre>
</div>

<div id='picture' class='tab'><h2>PHPPE::picture</h2>
<h3>Synopsis</h3>
<pre>PHPPE::picture ( infile, outfile, max width, max height<i>, crop, lossless, wmpic, maxsize, minquality</i> )</pre>
Image resizer, cropper and watermarker. This is a small tool to limit uploaded picture sizes (dimension and file size as well) and to create thumbnails for them.<br>
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string infile</tt></td><td>input image file (can be in any format that GD supports, it will be autodetected)</td></tr>
<tr><td><tt>string outfile</tt></td><td>output image file (lossless parameter select it's format)</td></tr>
<tr><td><tt>int max width</tt></td><td>maximum width of new image</td></tr>
<tr><td><tt>int max height</tt></td><td>maximum height of new image</td></tr>
<tr><td style='vertical-align:top'><i><tt>boolean crop (optional)</tt></i></td><td>input to output<br>0-resize keeping image width per height ratio (default)<br>1-crop from middle with resizing according to width or height is bigger</td></tr>
<tr><td style='vertical-align:top'><i><tt>boolean lossless (optional)</tt></i></td><td>data loss on output allowed<br>0-jpeg, data loss<br>1-png, lossless (default)</td></tr>
<tr><td style='vertical-align:top'><i><tt>string wmpic (optional)</tt></i></td><td>Selects watermark logo to use. If given, it has to be a semi-transparent png, which will be tiled on output image.<br><tt>data/<i>wmpic</i>.png</tt></td></tr>
<tr><td style='vertical-align:top'><i><tt>int maxsize (optional)</tt></i></td><td>Maximize output file size in kilobytes. Defaults to 8192 (8Mb). Quality is reduced to fit.</td></tr>
<tr><td style='vertical-align:top'><i><tt>int minquality (optional)</tt></i></td><td>Minimum quality of output (1-10). Defaults to 5.</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br></pre>
<pre class='php'>
//generate png thumbnail with crop, maximize file size in 64k
PHPPE::picture( $_FILES["my"]["tmp_name"], "data/thumb/" . $_FILES["my"]["name"], 128, 128, true, true, "", 64);

//generate large jpeg picture with watermarks on it
PHPPE::picture( $_FILES["my"]["tmp_name"], "data/large/" . $_FILES["my"]["name"], 1024, 768, false, false, "logo/alphalogo" );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br></pre>
<pre id='src_Core.picture' class='php'>/**<br/> * picture manipulation<br/> *<br/> * @param original image file<br/> * @param new image file<br/> * @param maximum width<br/> * @param maximum height<br/> * @param crop image<br/> * @param use lossless compression (png), defaults to jpeg<br/> * @param watermark image, must be a semi-transparent png<br/> * @param maximum file size for output. Will reduce quality to fit<br/> * @param minimum quality (1-10)<br/> * @return boolean true or false, success<br/> */<br/>	static function picture($o, $n, $w, $h, $c = 0, $l = 1, $W = "", $s = 8192, $m = 5)<br/>	{<br/>		//! try to load image, fallback to plain copy if failed<br/>		$d = file_get_contents($o);<br/>		if(! function_exists("gd_info") || empty($d) || ! ($i = @imagecreatefromstring($d))) {<br/>			Core::log('W', "no php-libgd or bad image: $o", "picture");<br/>			if(file_exists($o))<br/>				@copy($o, $n);<br/>			return false;<br/>		}<br/>		//! get original image dimensions<br/>		$x = imagesx($i);<br/>		$y = imagesy($i);<br/>		//! limit checks and output format<br/>		$q = 9;<br/>		$m = ($m &gt; 0 && $m &lt; 10 ? $m : 5);<br/>		$s = ($s &gt; 64 ? $s : 64) * 1024;<br/>		$j = "imagepng";<br/>		if(! $l) {<br/>			$j = "imagejpeg";<br/>			$m *= 10;<br/>			$q = 99;<br/>		}<br/>		Core::log('D', $o . "($x,$y) -&gt; " . $n . "($w,$h," . ($c ? "crop" : "resize") . ",$j,$s,$q) $W", "picture");<br/>		//! calculate new picture dimensions<br/>		if(! $c) {<br/>			//! resize keeping aspect ratio<br/>			$X = $x &lt; $y ? floor(($h / $y) * $x) : $w;<br/>			$Y = $x &lt; $y ? $h : floor(($w / $x) * $y);<br/>			$c = $d = 0;<br/>			$e = $x;<br/>			$f = $y;<br/>		}<br/>		else<br/>		{<br/>			//! crop from the middle<br/>			$X = $w;<br/>			$Y = $h;<br/>			$c = $x &gt; $y ? floor(abs($x - $y) / 2) : 0;<br/>			$d = $x &gt; $y ? 0 : floor(abs($y - $x) / 2);<br/>			$e = $x &gt; $y ? floor($w * $y / $h) : $x;<br/>			$f = $x &gt; $y ? $y : floor($w * $x / $h);<br/>		}<br/>		//! create output image<br/>		$N = imagecreatetruecolor($X, $Y);<br/>		//! don't loose transparent background<br/>		if($l) {<br/>			imagealphablending($N, 0);<br/>			$a = imagecolorallocatealpha($N, 255, 255, 255, 255);<br/>			imagesavealpha($N, 1);<br/>		}<br/>		else <br/>			$a = imagecolorallocate($N, 255, 255, 255);<br/>		imagefill($N, 0, 0, $a);<br/>		imagecopyresampled($N, $i, 0, 0, $c, $d, $X, $Y, $e, $f);<br/>		//! tile watermark logo on image<br/>		$T = "data/" . $W . ".png";<br/>		if(! empty($W) && file_exists($T)) {<br/>			$g = imagecreatefrompng($T);<br/>			$a = imagesx($g);<br/>			$b = imagesy($g);<br/>			for($y = 0; $y &lt; $Y; $y += $a)<br/>				for($x = 0; $x &lt; $X; $x += $a)<br/>				imagecopyresampled($N, $g, $x, $y, 0, 0, $a, $b, $a, $b);<br/>		}<br/>		//! reduce quality to match file maximum byte size requirement<br/>		@unlink($n);<br/>		while(! file_exists($n) || (filesize($n) &gt; $s && $q &gt;= $m)) {<br/>			@unlink($n);<br/>			if(! $sha1($N.'|'. $n.'|'. $q-- ) {<br/>				@copy($o, $n);<br/>				return false;<br/>			}<br/>		}<br/>		return true;<br/>	}</pre>
</div>

<div id='template' class='tab'><h2>PHPPE::template</h2>
<h3>Synopsis</h3>
<pre>PHPPE::template ( template name )</pre>
Load and parse a template. You can use special tags &lt;!...> in view templates, <a href='javascript:tab_switch("flow");'>more details here</a>. If you want to parse data in memory, PHPPE::_t( templatestring ).<br>
Will read phppe/views/(template).tpl if exists, otherwise (and if data table installed) look for record in data source.<br>
With <a href='javascript:tab_switch("cache");'>caching enabled</a> templates will be cached in memory.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string template</tt></td><td>Name of the template.</td></tr>
</table>
<h3>Return value</h3>
Parsed template as a string.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br></pre>
<pre class='php'>
echo PHPPE::template( "myapp_myaction" );
echo PHPPE::template( "mytemplate" );
echo PHPPE::_t( "&lt;!=core.getval(core.libs)>" );
</pre></p>
<h3>Source</h3>
Public service, expects a template's name, returns a parsed view
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br></pre>
<pre id='src_Core.template' class='php'>/**<br/> * load, parse and evaluate a template<br/> *<br/> * @param name of the template<br/> * @return parsed output string<br/> */<br/>	static function template($n)<br/>	{<br/>		//! set http response header as well for special templates<br/>		if($n == "403" || $n == "404")<br/>			header("HTTP/1.1 $n " . ($n == "403" ? "Access Denied" : "Not Found"));<br/>		//get template content<br/>		$d = self::_gt($n);<br/>		if(empty($d))<br/>			return "";<br/>		self::$n = - 1;<br/>		self::$c = [ ];			<br/>		//parse tags<br/>		return self::_t($d);<br/>	}</pre></p>
<br>Method to get templates, returns raw template string (you can use it from your application, but very unlikely you'll ever need to).
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br></pre>
<pre id='src_Core._gt' class='php'>static function _gt($n)<br/>	{<br/>		//! get a template in raw format<br/>		$t = "";<br/>		$m = [ ];<br/>		$M = "meta";<br/>		$V = "views";<br/>		$e = ".tpl";<br/>		<br/>		//! from cache if possible<br/>		if(! empty(self::$mc)) {<br/>			$C = 't_' . sha1(self::$core-&gt;base . "_" . $n);<br/>			$p = self::$mc-&gt;get($C);<br/>			if(is_array($p)) {<br/>				if(is_array($p[ 'm' ]))<br/>					$m = $p[ 'm' ];<br/>				if(! empty($p[ 'd' ]))<br/>					$t = $p[ 'd' ];<br/>			}<br/>		}<br/>		//on cache miss<br/>		if(! $t) {<br/>			//! from database - only for primary datasource<br/>			if(! empty(self::$db[ 0 ]) && file_exists("vendor/phppe/core/sql/$V.sql")) {<br/>				$d = self::$s;<br/>				self::ds(0);<br/>				try {<br/>					foreach([ self::$core-&gt;app . "/" . $n, $n ] as $v) {<br/>						$p = self::fetch("*", $V, "id=?", "", "", [ $v ]);<br/>						if(! empty($p[ 'data' ])) {<br/>							foreach([ "css", "jslib" ] as $c) {<br/>								$t = json_decode($p[ $c ]);<br/>								if(is_array($t))<br/>									foreach($t as $v)<br/>										$ {<br/>											self::$core-&gt; $c}<br/>								[ basename($v) ] = $v;<br/>							}<br/>							$t = $p[ 'data' ];<br/>							if(! empty($p[ $M ]))<br/>								$m = json_decode($p[ $M ], 1);<br/>							break;<br/>						}<br/>					}<br/>				}<br/>				catch(\Exception $e) {<br/>				}<br/>				self::ds($d);<br/>			}<br/>			//! from file - fallback if not found in database<br/>			if(! $t)<br/>				foreach([ "app/$V/$n$e", self::$p ? self::$p . "/$V/$n$e" : "", N . self::$core-&gt;app . "/$V/$n$e", "vendor/phppe/core/$V/$n$e" ] as $F)<br/>					if($F && $t = file_get_contents($F)) {<br/>						while(preg_match("/^[\r\n\ \t]*&lt;$M name='([^']+)' content='([^']+)'&gt;/m", $t, $r)) {<br/>							$t = substr($t, strlen($r[ 0 ]));<br/>							$m[ $r[ 1 ] ] = $r[ 2 ];<br/>						}<br/>						break;<br/>					}<br/>			//! remove comments and php tags<br/>			$t = preg_replace("/&lt;!-.*?-&gt;[\r\n]*/ms", "", preg_replace("/&lt;\?.*?\?\&gt;[\r\n]*/ms", "", $t));<br/>			//! save to cache<br/>			if(! empty(self::$mc) && ! empty($t))<br/>				$this-&gt;_ms($C, [ "m" =&gt; $m, "d" =&gt; $t ]);<br/>		}<br/>		//! append meta tags<br/>		self::$core-&gt;meta += is_array($m) ? $m : [ $m ];<br/>		//! return raw template<br/>		return $t;<br/>	}</pre></p>
<br>Method to parse a raw template in memory and return a view
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br>91<br>92<br>93<br>94<br>95<br>96<br>97<br>98<br>99<br>100<br>101<br>102<br>103<br>104<br>105<br>106<br>107<br>108<br>109<br>110<br>111<br>112<br>113<br>114<br>115<br>116<br>117<br>118<br>119<br>120<br>121<br>122<br>123<br>124<br>125<br>126<br>127<br>128<br>129<br>130<br>131<br>132<br>133<br>134<br>135<br>136<br>137<br>138<br>139<br>140<br>141<br>142<br>143<br>144<br>145<br>146<br>147<br>148<br>149<br>150<br>151<br>152<br>153<br>154<br>155<br>156<br>157<br>158<br>159<br>160<br>161<br>162<br>163<br>164<br>165<br>166<br>167<br>168<br>169<br>170<br>171<br>172<br>173<br>174<br>175<br>176<br>177<br>178<br>179<br>180<br>181<br>182<br>183<br>184<br>185<br>186<br>187<br>188<br>189<br>190<br>191<br>192<br>193<br>194<br>195<br>196<br>197<br>198<br>199<br>200<br>201<br>202<br>203<br>204<br>205<br>206<br>207<br>208<br>209<br>210<br>211<br>212<br>213<br>214<br>215<br>216<br>217<br>218<br>219<br>220<br>221<br>222<br>223<br>224<br>225<br>226<br>227<br>228<br>229<br>230<br>231<br>232<br>233<br>234<br>235<br>236<br>237<br>238<br>239<br>240<br>241<br>242<br>243<br>244<br>245<br>246<br>247<br>248<br>249<br>250<br>251<br>252<br>253<br>254<br>255<br>256<br>257<br>258<br>259<br>260<br></pre>
<pre id='src_Core._t' class='php'>static function _t($x, $re = 0)<br/>	{<br/>		//! parse a template<br/>		//check recursion limit<br/>		$L = self::e("W", "TOOMNY", L("recursion limit exceeded"));<br/>		if($re &gt;= 64)<br/>			return $L;<br/>		<br/>		//check if we're in cms edit mode<br/>		$CM = self::$core-&gt;app == "cms" && self::$core-&gt;action == "pages" && method_exists("\\PHPPE\\CMS", "icon");<br/>		//get tags<br/>		if(preg_match_all("/&lt;!([^\[\-][^&gt;]+)&gt;[\r\n]*/ms", $x, $T, PREG_OFFSET_CAPTURE | PREG_SET_ORDER)) {<br/>			//get opening/closing pairs<br/>			$o = [ ];<br/>			$I = 0;<br/>			foreach($T as $k =&gt; $v) {<br/>				$T[ $k ][ 0 ][ 2 ] = strlen($v[ 0 ][ 0 ]);<br/>				$t = strtolower(substr($v[ 1 ][ 0 ], 0, 4));<br/>				if(substr($t, 0, 2) == "if" || $t == "fore" || $t == "temp")<br/>					$o[ $I++ ] = $k;<br/>				elseif($t == "else")<br/>					$T[ $o[ $I - 1 ] ][ 4 ] = $k;<br/>				elseif(substr($t, 0, 3) == "/if" || $t == "/for" || $t == "/tem")<br/>					$T[ $o[ -- $I ] ][ 3 ] = $k;<br/>			}<br/>			if($I)<br/>				return self::e("W", "UNCLS", L("unclosed tag"));<br/>			unset($o);<br/>			//parse tags<br/>			$C = 0;<br/>			for($k = 0; $k &lt; count($T) && $m = $T[ $k ]; $k++ ) {<br/>				$ta = trim($m[ 1 ][ 0 ]);<br/>				$w = "";<br/>				$a = "";<br/>				if($ta[ 0 ] == "=")<br/>					$t = "=";<br/>				else <br/>					$t = strtolower(strstr($ta, ' ', true));<br/>				if(empty($t))<br/>					$t = $ta;<br/>				else <br/>					$a = trim(substr($ta, strlen($t)));<br/>				$A = explode(" ", $a);<br/>				$oo = $m[ 0 ][ 1 ];<br/>				$os = $m[ 0 ][ 2 ];<br/>				//interpret tags<br/>				switch($t) {<br/>					//application output marker in frame. It's not our job to parse it<br/>					case "app" :<br/>					$w = "&lt;!app&gt;";<br/>					break;<br/>					<br/>					//include another template<br/>					case "include" :<br/>					$c = self::_gt($a);<br/>					if(! $c)<br/>						$c = self::_gt(self::getval($a));<br/>					$w = self::_t($c, $re + 1);<br/>					break;<br/>					<br/>					//expression<br/>					case "=" :<br/>					$w = self::getval($a);<br/>					break;<br/>					<br/>					//re-entrant parsing<br/>					case "template" :<br/>					$w = self::_t(strtr(self::_t(substr($x, $m[ 0 ][ 1 ] + $m[ 0 ][ 2 ] + $C, $T[ $m[ 3 ] ][ 0 ][ 1 ] - $m[ 0 ][ 1 ] - $m[ 0 ][ 2 ]), $re),<br/>"&lt;%", "&lt;!"), $re + 1);<br/>					$k = $m[ 3 ];<br/>					$os = $T[ $m[ 3 ] ][ 0 ][ 1 ] - $m[ 0 ][ 1 ] + $T[ $m[ 3 ] ][ 0 ][ 2 ];<br/>					break;<br/>					<br/>					//iteration<br/>					case "foreach" :<br/>					$d = self::getval($a);<br/>					self::$n++ ;<br/>					self::$c[ self::$n ] = (object)[ 'IDX' =&gt; 1 ];<br/>					$t = substr($x, $m[ 0 ][ 1 ] + $m[ 0 ][ 2 ] + $C, $T[ $m[ 3 ] ][ 0 ][ 1 ] - $m[ 0 ][ 1 ] - $m[ 0 ][ 2 ]);<br/>					if((is_array($d) && count($d) &gt; 0) || is_object($d))<br/>						foreach($d as $k =&gt; $v) {<br/>							self::$c[ self::$n ]-&gt;KEY = $k;<br/>							self::$c[ self::$n ]-&gt;VALUE = $v;<br/>							$w .= self::_t($t, $re + 1);<br/>							self::$c[ self::$n ]-&gt;IDX++ ;<br/>						}<br/>					$k = $m[ 3 ];<br/>					$os = $T[ $m[ 3 ] ][ 0 ][ 1 ] - $m[ 0 ][ 1 ] + $T[ $m[ 3 ] ][ 0 ][ 2 ];<br/>					unset(self::$c[ self::$n ]);<br/>					self::$n-- ;<br/>					break;<br/>					<br/>					//conditional<br/>					case "if" :<br/>					$os = $T[ $m[ 3 ] ][ 0 ][ 1 ] + $T[ $m[ 3 ] ][ 0 ][ 2 ] - $m[ 0 ][ 1 ];<br/>					$w = self::_t(($a != "cms" && ! empty(self::getval($a))) || ($a == "cms" && $CM) ? substr($x, $oo + $C + $m[ 0 ][ 2 ], ! empty($m[<br/>4 ]) ? $T[ $m[ 4 ] ][ 0 ][ 1 ] - $m[ 0 ][ 1 ] - $m[ 0 ][ 2 ] : $os - $m[ 0 ][ 2 ] - $T[ $m[ 3 ] ][ 0 ][ 2 ]) : (! empty($m[ 4 ]) ?<br/>z($x, $T[ $m[ 4 ] ][ 0 ][ 1 ] + $C + $T[ $m[ 4 ] ][ 0 ][ 2 ], $T[ $m[ 3 ] ][ 0 ][ 1 ] - $T[ $m[ 4 ] ][ 0 ][ 1 ] - $T[ $m[ 4 ] ][ 0<br/>][ 2 ]) : ""), $re + 1);<br/>					$k = $m[ 3 ];<br/>					break;<br/>					<br/>					//object reference<br/>					case "form" :<br/>					self::$tc = 0;<br/>					$c = self::$core-&gt;app . "." . self::$core-&gt;action;<br/>					$n = ! empty($A[ 0 ]) && $A[ 0 ] != "-" ? urlencode($A[ 0 ]) : "form";<br/>					$w = "&lt;form name='" . $n . "' action='" . url(! empty($A[ 1 ]) && $A[ 1 ] != "-" ? $A[ 1 ] : "") . "' method='post'<br/>enctype='multipart/form-data'" . (! empty($A[ 2 ]) && $A[ 2 ] != "-" ? " onsubmit=\"" . strtr($A[ 2 ], "\"", "\\\"") . "\"" : "") .<br/>"&gt;&lt;input type='hidden' name='MAX_FILE_SIZE' value='" . self::$fm . "'&gt;&lt;input type='hidden' name='pe_s' value='" . @ $_SESSION[<br/>"pe_s" ][ $c ] . "'&gt;&lt;input type='hidden' name='pe_f' value='" . $n . "'&gt;" . (! empty(self::$core-&gt;item) ? "&lt;input type='hidden'<br/>name='item' value='" . htmlspecialchars(self::$core-&gt;item) . "'&gt;" : "");<br/>					break;<br/>					<br/>					//date and time formating<br/>					case "time" :<br/>					case "date" :<br/>					$v = self::getval($A[ 0 ]);<br/>					$w = ! empty($v) ? date((! empty(self::$l[ 'dateformat' ]) ? self::$l[ 'dateformat' ] : "Y-m-d") . ($t == "time" ? " H:i:s" :<br/>""), ts($v)) : (! empty($A[ 1 ]) ? "" : L("Epoch"));<br/>					break;<br/>					case "difftime" :<br/>					$w = "";<br/>					$v = self::getval($A[ 0 ]);<br/>					if(! empty($A[ 1 ])) {<br/>						if(! $v) {<br/>							$w = "-";<br/>							break;<br/>						}<br/>						$v -= ts(self::getval($A[ 1 ]));<br/>					}<br/>					if($v &lt; 0) {<br/>						$w = "- ";<br/>						$v = - $v;<br/>					}<br/>					$c = floor($v / 86400);<br/>					$b = floor(($v - $c * 86400) / 3600);<br/>					$a = floor(($v - $c * 86400 - $b * 3600) / 60);<br/>					$w .= $c ? "$c " . L("day" . ($c &gt; 1 ? "s" : "")) : ($b ? "$b " . L("hour" . ($b &gt; 1 ? "s" : "")) : "") . ($a || ! $b ? ($b ?<br/>", " : "") . "$a " . L("min" . ($a &gt; 1 ? "s" : "")) : "");<br/>					break;<br/>					<br/>					//multilanguage support<br/>					case "l" :<br/>					$w = isset(self::$l[ $a ]) ? L($a) : "NA_" . $a;<br/>					break;<br/>					<br/>					//dump object - this only works if runlevel is at least testing (1)<br/>					case "dump" :<br/>					$l = self::$core-&gt;runlevel;<br/>					if($l &lt; 1)<br/>						$w = "";<br/>					else<br/>					{<br/>						ob_start();<br/>						$s = null;<br/>						if($A[ 0 ] == "_SESSION") {<br/>							$s = $_SESSION;<br/>							unset($s[ "pe_u" ]);<br/>							unset($s[ "pe_s" ]);<br/>							unset($s[ "pe_v" ]);<br/>						}<br/>						else <br/>							$s = self::getval($A[ 0 ]);<br/>						//use print_r in verbose, var_dump on developer and debug runlevels<br/>						if($l &gt; 1) {<br/>							var_dump($s);<br/>							$n = ob_get_clean();<br/>							if($n[ 0 ] != "&lt;")<br/>								$n = "&lt;pre&gt;" . $n . "&lt;/pre&gt;";<br/>						}<br/>						else<br/>						{<br/>							print_r($s);<br/>							$n = "&lt;pre&gt;" . htmlspecialchars(ob_get_clean()) . "&lt;/pre&gt;";<br/>						}<br/>						$w = "&lt;b style='font-family:monospace;'&gt;" . $A[ 0 ] . ":&lt;/b&gt;" . strtr($n, "&lt;pre", "&lt;pre style='margin:0;'");<br/>					}<br/>					break;<br/>					<br/>					//hook for cms editor icons<br/>					case "cms" :<br/>					{<br/>						if($CM)<br/>							$w = CMS::icon($A) . "&lt;span&gt;";<br/>						<br/>						//no break, fall into add-on code<br/>					}<br/>					//add-on support<br/>					case "widget" :<br/>					case "var" :<br/>					case "field" :<br/>					$Z = $R = $m = false;<br/>					<br/>					//if first attribute starts with an at sign, it's an ace definition<br/>					if($A[ 0 ][ 0 ] == '@') {<br/>						$Z = substr($A[ 0 ], 1);<br/>						array_shift($A);<br/>					}<br/>					//if type starts with an asterix, it's a mandatory field<br/>					//equal sign does not show error on missing addon, but display plain value<br/>					if($A[ 0 ][ 0 ] == '*') {<br/>						$R = true;<br/>						$A[ 0 ] = substr($A[ 0 ], 1);<br/>					}<br/>					$f = $A[ 0 ];<br/>					//get add-on type and arguments<br/>					if(preg_match("/^([^\(]+)[\(]?([^\)]*)/", $A[ 0 ], $ma) && ! empty($ma[ 1 ])) {<br/>						$f = $ma[ 1 ];<br/>						//submit is just an alias of update<br/>						if($f == "submit")<br/>							$f = "update";<br/>						<br/>						//get arguments array<br/>						$a = self::getval("[" . $ma[ 2 ] . "]");<br/>						array_shift($A);<br/>						//name<br/>						$n = ! empty($A[ 0 ]) ? $A[ 0 ] : "";<br/>						array_shift($A);<br/>						//value (if applicable)<br/>						if(! is_array($f, [ "update", "cancel", "button" ]))<br/>							$v = self::getval($n);<br/>						//find appropriate class for AddOn<br/>						$d = "\\PHPPE\\AddOn\\" . $f;<br/>						if(! class_exists($d) && $D = @glob("vendor/phppe/*/addons/" . $f . ".php")[ 0 ])<br/>							io($D);<br/>						if(class_exists($d) && is_subclass_of($d, "\\PHPPE\\AddOn")) {<br/>							//ok, got it<br/>							$F = new $d($a, $n, $v, $A, $R);<br/>							//if it has an init() method, and not called yet, call it<br/>							if(empty(self::$core-&gt;addons[ $f ]) && method_exists($F, "init"))<br/>								$F-&gt;init();<br/>							//add validators<br/>							if($R || $f == "check" || $f == "file" || method_exists("\\PHPPE\\AddOn\\" . $f, "validate"))<br/>								$_SESSION[ "pe_v" ][ $n ][ $f ] = [ $R, $a, $A ];<br/>							//find out method to use to draw AddOn<br/>							$m = $t != "cms" && ($t == "field" || ! empty($_SESSION[ $t == "var" ? "pe_e" : "pe_c" ])) && method_exists($F, "edit") ? "edit" :<br/>"show";<br/>							<br/>							//get output<br/>							$w .= method_exists($F, $m) && (! $Z || self::$user-&gt;has($Z)) ? $F-&gt; $m() : $v;<br/>							unset($F);<br/>							break;<br/>						}<br/>					}<br/>					$w .= $t == "cms" || ($t == "var" && empty($_SESSION[ 'pe_e' ])) ? (is_scalar($v) ? $v . "" : $v && json_encode($v)) :<br/>self::e("W", "UNKADDON", $f);<br/>					$w .= $t == "cms" && $CM ? "&lt;/span&gt;" : "";<br/>					break;<br/>					default : $w = self::e("W", "UNKTAG", $t);<br/>				}<br/>				//replace templater tag with output, not using any search and replace algorithm<br/>				$D = $oo + $C && $x[ $oo + $C - 1 ] == "\n" ? 1 : 0;<br/>				$E = isset($x[ $oo + $os + $C ]) && $x[ $oo + $os + $C ] == "\n" ? 1 : 0;<br/>				$x = substr($x, 0, $oo + $C - $D) . $w . substr($x, $oo + $os + $C + $E);<br/>				$C += @u($w) - $os - $D - $E;<br/>			}<br/>		}<br/>		return $x;<br/>	}</pre></p>
</div>

<div id='getval' class='tab'><h2>PHPPE::getval</h2>
<h3>Synopsis</h3>
<pre>PHPPE::getval ( expression )</pre>
Returns the value of an expression. Used by &lt;!=...> tag.<br>
In nested layout iterations, you can refer to fields of outter iteration with prefix "parent.". What's more, you can use special fields:<br>
IDX - iteration counter<br>
ODD - true if iteration counter is odd<br>
KEY - the key of the array you're iteration on<br>
VALUE - the value of the array element you are currently iteration on<br><br>
Using <a href='javascript:tab_switch("phppe");'>PHPPE\Core</a> library will require "core." prefix, regardless to the function being static or not, like PHPPE::getval( "core.isinst('myaddon')" ) and PHPPE::getval( "core.id" ).
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string expression</tt></td><td>Expression to evaluate.</td></tr>
</table>
<h3>Return value</h3>
A value.
<h3>Examples</h3>
In PHP code:
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
echo PHPPE::getval( "sprintf(\"%s / %s\", parent.Name, Name)");
echo PHPPE::getval( "core.addons" );
</pre></p>
In view templates:
<pre>
&lt;!=number_format(Price*100/30)>
&lt;!=PHP_VERSION>
</pre>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br>91<br>92<br>93<br>94<br>95<br>96<br>97<br>98<br>99<br>100<br>101<br>102<br>103<br>104<br>105<br>106<br>107<br>108<br>109<br>110<br>111<br>112<br>113<br>114<br>115<br>116<br>117<br>118<br>119<br>120<br>121<br>122<br>123<br>124<br>125<br>126<br>127<br>128<br>129<br>130<br>131<br></pre>
<pre id='src_Core.getval' class='php'>/**<br/> * get value of a templater expression<br/> *<br/> * @param expression<br/> * @return value<br/> */<br/>	static function getval($x)<br/>	{<br/>		//! evaluate an expression for templater and return it's value<br/>		//! security check: look for variables and let operator<br/>		if(strpos($x, "$") !== false || preg_match("/[^!=]=[^=]/", $x))<br/>			return self::e("W", "BADINP", $x);<br/>		$l = $r = "";<br/>		$d = $x;<br/>		<br/>		//convert expression to php commands<br/>		for($i = 0; $i &lt; strlen($d); $i++ ) {<br/>			$c = $d[ $i ];<br/>			if($c == '"' || $c == "'") {<br/>				$r .= $c;<br/>				$i++ ;<br/>				$b = "";<br/>				while($i &lt; strlen($d) && $b != $c) {<br/>					if($b == "\\")<br/>						$b .= $d[ ++ $i ];<br/>					$r .= $b;<br/>					$b = $d[ $i++ ];<br/>				}<br/>				$r .= $c;<br/>				$l = "";<br/>			}<br/>			if((ctype_alpha($c) || $c == "_") && ! ctype_alnum($l) && $l != "." && $l != "_") {<br/>				$j = $i;<br/>				$b = $d[ $j ];<br/>				while($b && (ctype_alnum($b) || $b == "_")) {<br/>					$j++ ;<br/>					$b = isset($d[ $j ]) ? $d[ $j ] : "";<br/>				}<br/>				if($b != "(" && $b != ":") {<br/>					$v = substr($d, $i, $j - $i);<br/>					switch($v) {<br/>						case "KEY" :<br/>						case "IDX" :<br/>						case "VALUE" :<br/>						if(isset(self::$c[ self::$n ]-&gt; $v))<br/>							$v = self::$c[ self::$n ]-&gt; $v;<br/>						if(is_array($v))<br/>							return $v;<br/>						<br/>						//! don't throw notice if non-scalar referenced by VALUE<br/>						@ $r .= "'" . addslashes($v) . "'";<br/>						$i = $j;<br/>						break;<br/>						case "ODD" :<br/>						$r .= self::$c[ self::$n ]-&gt;IDX % 2;<br/>						$i = $j;<br/>						break;<br/>						case "parent" :<br/>						$Y = self::$n - 1;<br/>						while(substr($d, $j, 7) == ".parent") {<br/>							$j += 7;<br/>							$Y-- ;<br/>						}<br/>						$n = substr($d, $j + 1, 3);<br/>						$j += 4 + ($n == "VAL" ? 2 : 0);<br/>						if($n == "ODD")<br/>							$v = self::$c[ $Y ]-&gt;IDX % 2;<br/>						elseif(isset(self::$c[ $Y ]-&gt; $n))<br/>							$v = self::$c[ $Y ]-&gt; $n;<br/>						elseif(isset(self::$c[ $Y ]-&gt;VALUE-&gt; $n))<br/>							$v = self::$c[ $Y ]-&gt;VALUE-&gt; $n;<br/>						elseif(isset(self::$c[ $Y ]-&gt;VALUE[ $n ]))<br/>							$v = self::$c[ $Y ]-&gt;VALUE[ $n ];<br/>						else <br/>							$v = "";<br/>						$r .= "'" . addslashes($v) . "'";<br/>						$i = $j;<br/>						break;<br/>						case "true" :<br/>						case "false" :<br/>						case "null" :<br/>						break;<br/>						default : if(isset(self::$c[ self::$n ]) && is_array(self::$c[ self::$n ]-&gt;VALUE)) {<br/>							@ $r .= "'" . addslashes(self::$c[ self::$n ]-&gt;VALUE[ $v ]) . "'";<br/>							$i = $j;<br/>						}<br/>						elseif(isset(self::$c[ self::$n ]-&gt;VALUE-&gt; $v)) {<br/>							@ $r .= "'" . addslashes(self::$c[ self::$n ]-&gt;VALUE-&gt; $v) . "'";<br/>							$i = $j;<br/>						}<br/>						else<br/>						{<br/>							$r .= "\$";<br/>							$f[ $v ] = 1;<br/>						}<br/>					}<br/>				}<br/>				elseif($b == "(" && ($j - $i != 1 || $d[ $i ] != "L") && substr($d, $i, 5) != "core." && substr($d, $i, $j - $i) != "array" && !<br/>empty(self::$core-&gt;allowed) && ! is_array(substr($d, $i, $j - $i), self::$core-&gt;allowed))<br/>					return self::e("E", "BADFNC", $x);<br/>			}<br/>			$r .= ($c == "." ? "-&gt;" : (isset($d[ $i ]) ? $d[ $i ] : ""));<br/>			$l = $c;<br/>		}<br/>		//! for string operators<br/>		$r = strtr($r, [ "+'" =&gt; ".'", "+\"" =&gt; ".\"", "'+" =&gt; "'.", "\"+" =&gt; "\"." ]);<br/>		//! get application properties<br/>		if(! empty($f)) {<br/>			foreach($f as $k =&gt; $v) {<br/>				if(! isset($ $k) && isset(self::$o[ $k ]))<br/>					$ $k = self::$o[ $k ];<br/>				elseif(! isset($ $k) && isset(self::$o[ "app" ]-&gt; $k))<br/>					$ $k = self::$o[ "app" ]-&gt; $k;<br/>			}<br/>		}<br/>		//! evaluate php<br/>		try {<br/>			$e = error_reporting();<br/>			error_reporting($e &~ E_NOTICE);<br/>			ob_start();<br/>			$R = eval("return " . $r . ";");<br/>			$o = ob_get_clean();<br/>			error_reporting($e);<br/>			if(self::$core-&gt;runlevel &gt; 2 || ! empty($o))<br/>				self::log(! empty($o) ? "E" : "D", $x . " =&gt; " . $r . " = " . serialize($R), "php");<br/>		}<br/>		catch(\Exception $E) {<br/>			self::log("E", $E-&gt;getMessage() . " " . $r, "php");<br/>		}<br/>		return $R;<br/>	}</pre>
</div>

<div id='assign' class='tab'><h2>PHPPE::assign</h2>
<pre>PHPPE::assign ( name, instance )</pre>
Register a variable in templater. Note that templater can access your application's properties as well as $core framework instance without registering them.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string name</tt></td><td>Name of the object.</td></tr>
<tr><td><tt>reference instance</tt></td><td>Address of the object.</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
PHPPE::assign( "myobj", $myobj );
</pre></p>
<h3>Source</h3>
<pre class='php'>static function assign( $n, &amp;$o ){<br>	self::$obj[ $n ] = &amp;$o;<br>}</pre>
</div>

<div id='find' class='tab'><h2>(PHPPE\Model)-&gt;find</h2>
<pre>(PHPPE\Model)-&gt;find ( needle<i>, where, orderby</i> )
</pre>
PHPPE\User is en example of Model object. This method loads the object's properties from a data source. Table is selected by Model's static <a href='javascript:tab_switch("phppe_model");'>$_table</a> propery.<br>
You can use this method to search for objects of the same kind in the database.<br><br>
Object can be loaded with <a href='javascript:tab_switch("load");'>(PHPPE\Model)-&gt;load()</a>.<br>
Object can be saved with <a href='javascript:tab_switch("save");'>(PHPPE\Model)-&gt;save()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string/array needle</tt></td><td>Search phrase or phrases in an array</td></tr>
<tr><td><i><tt>string where (optional)</tt></i></td><td>Where clause with placeholder. If not given, defaults to "id=?"</td></tr>
<tr><td><i><tt>string orderby (optional)</tt></i></td><td>Ordering to use</td></tr>
</table>
<h3>Return value</h3>
The search results, array of associative arrays.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
//search for the youngest Joe
$user->find(PHPPE::like("joe"), "name like ?", "birthdate DESC");
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br></pre>
<pre id='src_Model.find' class='php'>/**<br/> * Find objects of the same kind in database<br/> *<br/> * @param search phrase<br/> * @param where clause with placeholders<br/> * @param order by<br/> * @return array of associative arrays<br/> */<br/>	final function find($s = [ ], $w = "", $o = "")<br/>	{<br/>		if(empty(static ::$_table))<br/>			throw new \Exception("no _table");<br/>		//get the records from current datasource<br/>		return Core::query("*", static ::$_table, $w ? $w : ($s ? "id=?" : ""), "", $o, 0, 0, is_array($s) ? $s : [ $s ]);<br/>	}</pre>
</div>

<div id='load' class='tab'><h2>(PHPPE\Model)-&gt;load</h2>
<pre>(PHPPE\Model)-&gt;load ( <i>id</i> )
(PHPPE\Model)-&gt;load ( <i>needle, where, orderby</i> )
</pre>
PHPPE\User is en example of Model object. This method loads the object's properties from a data source. Table is selected by Model's static <a href='javascript:tab_switch("phppe_model");'>$_table</a> propery.<br>
You can use this method to search for exactly one record in the database if you provide a second argument. If more records match, the first will be loaded into the object. If you need all of results, use
<a href='javascript:tab_switch("find");'>(PHPPE\Model)-&gt;find()</a>. With more arguments, this method behaves just like find().<br><br>
Object can be saved with <a href='javascript:tab_switch("save");'>(PHPPE\Model)-&gt;save()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string/array id (optional)</tt></i></td><td>Id of the object (if not given, $this->id will be used). With second argument, it's a search phrase you are looking for</td></tr>
<tr><td><i><tt>string where (optional)</tt></i></td><td>Where clause with placeholder. If not given, defaults to "id=?"</td></tr>
<tr><td><i><tt>string orderby (optional)</tt></i></td><td>Ordering to use</td></tr>
</table>
<h3>Return value</h3>
True if Model object loaded.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br></pre>
<pre class='php'>
//load a new object
$user = new \PHPPE\User;
$user->load( 1 );
//reload
$user->load();
//search for an object
$user->load(PHPPE::like("joe"), "name like ?");
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br></pre>
<pre id='src_Model.load' class='php'>/**<br/> * Load, reload or find a record in database and load result into this object<br/> *<br/> * @param id of the object to load, or (if second argument given) search phrase<br/> * @param where clause with placeholders<br/> * @return true on success<br/> */<br/>	final function load($i = 0, $w = "", $o = "")<br/>	{<br/>		if(empty(static ::$_table))<br/>			throw new \Exception("no _table");<br/>		//get the record from current datasource<br/>		$r = Core::fetch("*", static ::$_table, $w ? $w : "id=?", "", $o, is_array($i) ? $i : [ $i ? $i : $this-&gt;id ]);<br/>		//update property values. FETCH_INTO not exactly does what we want<br/>		if(! empty($r)) {<br/>			foreach($this as $k =&gt; $v)<br/>				if($k[ 0 ] != '_')<br/>					$this-&gt; $k = is_string($r[ $k ]) && ($r[ $k ][ 0 ] == '{' || $r[ $k ][ 0 ] == '[') ? json_decode($r[ $k ]) : $r[ $k ];<br/>			return true;<br/>		}<br/>		return false;<br/>	}</pre>
</div>

<div id='save' class='tab'><h2>(PHPPE\Model)-&gt;save</h2>
<pre>(PHPPE\Model)-&gt;save ()</pre>
PHPPE\User is en example of Model object. This method saves the object's properties to a data source. Table is selected by Model's static <a href='javascript:tab_switch("phppe_model");'>$_table</a> propery.<br>
If the object has a non-empty $id property, this method will UPDATE the corresponding record in database, otherwise it will use an INSERT statement and sets $id.<br><br>
Object can be loaded with <a href='javascript:tab_switch("load");'>(PHPPE\Model)-&gt;load()</a>.
<h3>Return value</h3>
Returns true on success, if it was a new object $this->id also modified.
<h3>Examples</h3>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
PHPPE::$user->save();
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br></pre>
<pre id='src_Model.save' class='php'>/**<br/> * Save the current object into database. May also alter $id property.<br/> *<br/> * @return true on success<br/> */<br/>	final function save($f = 0)<br/>	{<br/>		if(empty(static ::$_table))<br/>			throw new \Exception("no _table");<br/>		$d = Core::db();<br/>		if(empty($d))<br/>			throw new \Exception("no ds");<br/>		//build the arguments array<br/>		$a = [ ];<br/>		foreach($this as $k =&gt; $v)<br/>			if($k[ 0 ] != '_' && ($f || $k != 'id') && $k != 'created')<br/>				$a[ $k ] = is_scalar($v) ? $v : json_encode($v);<br/>		if(! Core::exec(($this-&gt;id && ! $f ? "UPDATE " . static ::$_table . " SET " . implode("=?,", array_keys($a)) . "=? WHERE id=" .<br/>$d-&gt;quote($this-&gt;id) : "INSERT INTO " . static ::$_table . " (" . implode(",", array_keys($a)) . ") VALUES (?" . str_repeat(",?",<br/>count($a) - 1) . ")"), array_values($a)))<br/>			return false;<br/>		<br/>		//save new id for inserts<br/>		if(! $this-&gt;id)<br/>			$this-&gt;id = $d-&gt;lastInsertId();<br/>		//return id<br/>		return $this-&gt;id;<br/>	}</pre>
</div>

<div id='has' class='tab'><h2>(PHPPE\User)-&gt;has</h2>
<pre>PHPPE::$user-&gt;has ( ace )</pre>
Checks user's access control list for valid access.<br><br>
Access entries can be cleared with <a href='javascript:tab_switch("clear");'>(PHPPE\User)-&gt;clear()</a>.<br>
Access entries can be added with <a href='javascript:tab_switch("grant");'>(PHPPE\User)-&gt;grant()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string/array ace</tt></td><td>Access control entry or list</td></tr>
</table>
<h3>Return value</h3>
True if access granted.
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br></pre>
<pre class='php'>
PHPPE::$user->has( "siteeditor" );
PHPPE::$user->has( "groupedit" );
PHPPE::$user->has( "groupedit:13" );
PHPPE::$user->has( "siteeditor|siteadmin" );
PHPPE::$user->has( [ "siteeditor", "siteadmin" ] );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br></pre>
<pre id='src_User.has' class='php'>/**<br/> * check access for an access control entry<br/> *<br/> * @param access control entry or list (pipe separated string or array)<br/> * @return boolean true or false<br/> */<br/>	final function has($l)<br/>	{<br/>		//check if at least one of the ACE match<br/>		foreach(is_array($l) ? $l : explode("|", $l) as $a) {<br/>			$a = trim($a);<br/>			//is user logged in?<br/>			//is superadmin with bypass priviledge?<br/>			if(! empty($this-&gt;id) && ($this-&gt;id == - 1 || $a == "loggedin" || ! empty($this-&gt;acl[ $a ]) || ! empty($this-&gt;acl[ "$a:" .<br/>self::$core-&gt;item ])))<br/>				return 1;<br/>		}<br/>		return 0;<br/>	}</pre>
</div>

<div id='grant' class='tab'><h2>(PHPPE\User)-&gt;grant</h2>
<pre>PHPPE::$user-&gt;grant ( ace )</pre>
Adds an access control entry (or entries) to user's access control list.<br><br>
Access entries can be cleared with <a href='javascript:tab_switch("clear");'>(PHPPE\User)-&gt;clear()</a>.<br>
Access entries can be checked with <a href='javascript:tab_switch("has");'>(PHPPE\User)-&gt;has()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><tt>string/list ace</tt></td><td>Access control entry or list</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br>3<br></pre>
<pre class='php'>
PHPPE::$user->grant( "siteeditor" );
PHPPE::$user->grant( "siteeditor|siteadmin" );
PHPPE::$user->grant( [ "siteeditor", "siteadmin" ] );
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br></pre>
<pre id='src_User.grant' class='php'>/**<br/> * grant priviledge for a user<br/> *<br/> * @param access control entry or list (pipe separated string or array)<br/> */<br/>	final function grant($l)<br/>	{<br/>		foreach(is_array($l) ? $l : explode("|", $l) as $a) {<br/>			$a = trim($a);<br/>			if(! empty($this-&gt;id) && ! empty($a))<br/>				$this-&gt;acl[ $a ] = 1;<br/>		}<br/>	}</pre>
</div>

<div id='clear' class='tab'><h2>(PHPPE\User)-&gt;clear</h2>
<pre>PHPPE::$user-&gt;clear ( <i>ace</i> )</pre>
Clears an access control entry (or entries) from user's access control list, or clears the whole list.<br><br>
Access entries can be added with <a href='javascript:tab_switch("grant");'>(PHPPE\User)-&gt;grant()</a>.<br>
Access entries can be checked with <a href='javascript:tab_switch("has");'>(PHPPE\User)-&gt;has()</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>string/list ace (optional)</tt></i></td><td>Access control entry or list</td></tr>
</table>
<h3>Examples</h3>
<p><pre class='lineno'>1<br>2<br></pre>
<pre class='php'>
PHPPE::$user->clear( "siteeditor" );
PHPPE::$user->clear();
</pre></p>
<h3>Source</h3>
<pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br></pre>
<pre id='src_User.clear' class='php'>/**<br/> * drop privileges, specific access control entry or the whole access control list<br/> *<br/> * @param access control entry or list (pipe separated string or array) or empty for dropping all<br/> */<br/>	final function clear($l = "")<br/>	{<br/>		if(empty($l))<br/>			$this-&gt;acl = [ ];<br/>		else<br/>		{<br/>			foreach(is_array($l) ? $l : explode("|", $l) as $a) {<br/>				$a = trim($a);<br/>				//! drop the ACE<br/>				unset($this-&gt;acl[ $a ]);<br/>				//! drop item specific ACEs<br/>				foreach($this-&gt;acl as $k =&gt; $v)<br/>					if(substr($k, 0, strlen($a) + 1) == $a . ":")<br/>						unset($this-&gt;acl[ $k ]);<br/>			}<br/>		}<br/>	}</pre>
</div>

<div id='init' class='tab'><h2>(PHPPE\AddOn)-&gt;init</h2>
<pre>(extension instance)-&gt;init ( configuration array )</pre>
Initialize the Add-On. This method is only called once per page generation.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>array configuration (optional)</tt></i></td><td>Key value pairs in an associative array.</td></tr>
</table>
</div>

<div id='show' class='tab'><h2>(PHPPE\AddOn)-&gt;show</h2>
<pre>(extension instance)-&gt;show ( )</pre>
See <a href='javascript:tab_switch("addonstemp");'>templater</a> for details.
<h3>Returns</h3>
Outputs field's value or widget's face.
</div>

<div id='edit' class='tab'><h2>(PHPPE\AddOn)-&gt;edit</h2>
<pre>(extension instance)-&gt;edit ( )</pre>
See <a href='javascript:tab_switch("addonstemp");'>templater</a> for details.
<h3>Returns</h3>
Outputs field's value in editable form or widget's configuration panel (current configuration in $this->value).
</div>

<div id='addonvalidate' class='tab'><h2>(PHPPE\AddOn)::validate</h2>
<pre>(extension instance)::validate ( name, value, arguments, attributes )</pre>
Defined by <a href='javascript:tab_switch("validate");'>PHPPE::validate</a>.
Called by <a href='javascript:tab_switch("req2obj");'>PHPPE::req2obj</a>.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><b>string name</b></td><td>name of the instance</td></tr>
<tr><td><b>reference value</b></td><td>value of the object field or widget configuration</td></tr>
<tr><td><b>array arguments</b></td><td>arguments (passed in pharenthesis after type in <a href='javascript:tab_switch("addonstemp");'>&lt;!field and &lt;!widget</a> tags).</td></tr>
<tr><td><b>array attributes</b></td><td>attributes (passed after name in <a href='javascript:tab_switch("addonstemp");'>&lt;!field and &lt;!widget</a> tags).</td></tr>
</table>
<h3>Returns</h3>
Returns array of two items, a boolean and a string respectively. Boolean is true if value passes validation, string holds the failure reason otherwise. May alter $value (for example boundary check fixes value instead of reporting failure).
</div>

<div id='constructor' class='tab'><h2>(PHPPE\App)-&gt;constructor</h2>
<pre>(application)-&gt;__constructor ( configuration array )
(application)-&gt;init ( configuration array )</pre>
If used with <a href='javascript:tab_switch("cache");'>output caching</a>, check for new data here and set PHPPE::$core->nocache to true if found.
<h3>Parameters</h3>
<table class='parameters'>
<tr><td><i><tt>array configuration (optional)</tt></i></td><td>Key value pairs in an associative array.</td></tr>
</table>
<h3>Returns</h3>
</div>

<div id='action' class='tab'><h2>(PHPPE\App)-&gt;action</h2>
<pre>(application)-&gt;action ( item )</pre>
See <a href='javascript:tab_switch("routing");'>URL routing</a> for details.
<h3>Parameters</h3>
<h3>Returns</h3>
</div>

<div id='assets' class='tab'>
<h2>Assets</h2>
Along with code, usually comes some static files. They can be CSS stylesheets, imagery or client side JavaScript libraries. You don't have to mess them all in a single directory under "public/", PHPPE Core is clever enough
to locate these files and proxies their contents. For that, the following URLs are reserved:
<ul>
<li><i>(base)</i>/css</li>
<li><i>(base)</i>/images</li>
<li><i>(base)</i>/js</li>
</ul>
Each of these has a corresponding <a href='javascript:tab_switch("directory");'>directory</a> within every PHPPE Module. Application's assets are handled specifically, as they are symlinked to "public/".
This means that the static contents of your application will be served by the webserver directly without PHP involved. Extension's assets (located under "vendor/" which is not accessible by the webserver) and dynamicaly generated assets have to be proxied through PHP.<br><br>
If <a href='javascript:tab_switch("cache");'>caching</a> is configured, and <a href='javascript:tab_switch("configuration");'>PHPPE::$core->nocache</a> is not set, the assets will be stored in memcache, so there'll be no
directory lookup and file read penalty for subsequent downloads.
<h3>Adding assets to output</h3>
For that there are two corresponding methods to add links to output's head section:
<ul>
<li><a href='javascript:tab_switch("css");'>PHPPE::css()</a> to add stylesheets</li>
<li><a href='javascript:tab_switch("jslib");'>PHPPE::jslib()</a> to add JavaScript libraries</li>
<li>Images are linked in the page everywhere, so they don't need a function. Simply start every reference with "images/"</li>
</ul>
These should be called in init() method of Add-Ons or action handler classes. Don't call them from your application or a module, as the referenced assets would be included in every output even if they're not needed at all.<br><br>
Note that you only pass the filename to these methods, the path will be looked up automatically depending on the caller's location. This means that every module can add only assets shipped with it, but not the other's.
One subdirectory is supported for grouping assets, but only one level for performance (to speed up directory lookups).
<h3>Dynamic Assets</h3>
It's possible to generate assets on-the-fly. For that you'll have to append ".php" extension to the filename. When you refer these, do that without that extension, PHPPE is clever enough to handle them on it's own.<br>
<pre><table>
<tr><td>js/example1.js</td><td>PHPPE::jslib("example1.js");</td></tr>
<tr><td>js/example2.js.php</td><td>PHPPE::jslib("example2.js");</td></tr>
<tr><td>images/example1.png</td><td>link as "images/example1.png"</td></tr>
<tr><td>images/example2.png.php</td><td>link as "images/example2.png"</td></tr>
</table></pre>
This way the output looks the same for both static and generated assets.<br><br>
You don't have to do anything special in these php files, when they are included, PHPPE is already bootsrapped for you, so you can focus on generating the output. If cache is configured, by default the generated
asset will be cached and served like any other static asset. If you want to disable that behaviour (for example you're generating an image with a changing counter on it), set the PHPPE::$core->nocache flag and
your code will be called every time the asset queried.
</div>

<div id='contents' class='tab' rel='cms'>
<h2>Contents</h2>
<h3>Content Server<sup><small>PHPPE Pack</small></sup></h3>
PHPPE Core can serve contents (generated by PHPPE CMS) on it's on, but it uses a database table for that which is supplied by <a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_pack.tgz' target='_new'>PHPPE Pack</a> (phppe/sql/pages.sql).
So if you place this scheme file there manually, you can entirely ommit PHPPE Pack. (In other words PHPPE Core is alone a Content Server, no php code used from Pack).<br><br>
PHPPE Core will fall back to CMS contents if <a href='javascript:tab_switch("routing");'>routing</a> was unable to choose an Application, and the scheme file exists. You'll have to put contents in the table before it can be used, thought.
<h3>Content Editor<sup><small>PHPPE CMS</small></sup></h3>
To be able to create and modify contents on a Content Server site, you'll need to install <a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_cms.tgz' target='_new'>PHPPE CMS</a> extension.
It can be installed on a different server, and one CMS can manage several Content Servers. This way you can build up a scalable architecture that can serve huge loads without problem.
<table>
<tr><td width='50%' valign='top'>
<h4>Typical, non-scalable, not so secure set up</h4>
<pre>
<span style='color:grey;'>visitors  webmaster  (Browser Clients)</span>
   <span style='color:green;'>  \     /</span>
  websrv+dbsrv       <span style='color:grey;'>(Content Server,</span>
      <span style='color:brown;'>\___/</span>           <span style='color:grey;'>Content Editor,
                      and database as well
                      on a single machine)</span>
</pre>
</td><td width='50%' valign='top'>
<h4>Scalable set up</h4>
<pre>
           <span style='color:grey;'>visitors        webmaster   (Browser Clients)</span>
              <span style='color:green;'>|                |</span>
      <i>DNS load balancer</i>        <span style='color:green;'>|
        /     |     \          |
       /      |      \         |</span>
websrv1  websrv2 ... websrvN   <span style='color:green;'>|</span>       <span style='color:grey;'>(Content Servers)</span>
       <span style='color:brown;'>\      |      /</span>       cmssrv    <span style='color:grey;'>(Content Editor)</span>
        <span style='color:brown;'>\__</span>   _   <span style='color:brown;'>__/         /</span>
             (_)  <span style='color:brown;'>___________/</span>
      dbsrv  |_|                       <span style='color:grey;'>(database server)</span>
</pre>
</td></tr></table>
In scalable set up the webmaster (who is responsible for the contents) uses the <tt>cmssrv</tt> with Content Editor installed to manage the webpage. This should be done through a secure <span style='color:green;'>https</span> channel protected by a firewall, so that nobody else could modify the contents.
The Content Editor stores the changes to the database that resides on <tt>dbsrv</tt> over a <span style='color:brown;'>sql</span> connection. In the cheapest scenario database server and Content Editor can be installed on the same machine (although not recommended due to security considerations. Database server should not be accessible from outside).<br><br>
Visitors are accessing the site on <span style='color:green;'>http(s)</span> protocol targeting a <tt>load balancer</tt>. The <tt>load balancer</tt> forwards the <span style='color:green;'>http(s)</span> request to one of the <tt>websrv</tt> instances that run <a href='javascript:tab_switch("webserver");'>Apache or nginx</a>. The cheapest and simpliest solution is to use DNS load balancing, where the domain name resolves to several A records, each pointing to one of the <tt>websrv</tt> ip's. More professional load balancers can terminate ssl and forward plain <span style='color:green'>http</span> to save resources.<br><br>
All the <tt>websrv</tt> instances have the same document root and run PHPPE Core to act as a Content Server that in turn loads the content from <tt>dbsrv</tt> via <span style='color:brown;'>sql</span> connection. To speed up things ever more, Content Servers can <a href='javascript:tab_switch("cache");'>cache the contents</a> as well.<br><br>
<b>NOTE:</b> Don't forget that in this scenario you'll have to configure php to store session info in database instead of files, otherwise strange things will happen!
<h2>EplosCMS</h2>
There's also an extension to support pages generated by third party software. EplosCMS generates pre-constructed pages in the "<tt>pages/</tt>" directory, this extension read files from there and creates routing entries.
</div>

<div id='hooks' class='tab' rel='events'>
<h2>Event hooks</h2>
Unlike in other frameworks, in PHPPE you don't set handlers with method calls. Instead, you name your method after the event.
<h3>Module initialization event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>in autoloaded modules</td></tr>
<tr><td>Called</td><td>during the bootstrap process in a very early stage, without database, user session or language translations.</td></tr>
<tr><td>Purpose</td><td>register libraries, menus and other stuff needed by a module</td></tr>
</table>
<pre class='php'>
/**
 * Module init event handler
 *
 * @param config associative array
 * @return boolean, was initialization successful?
*/
function init($config)
{
	// PHPPE::lib() to register library and check dependencies
	// PHPPE::menu() to add menu items
	// PHPPE::jslib() to add JavaScript libraries
	// PHPPE::css() to add custom stylesheets
	return true;
}
</pre>
<h3>Module diagnose event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>in autoloaded modules</td></tr>
<tr><td>Called</td><td>in diagnostics mode (when called from command line with "--diag" argument)</td></tr>
<tr><td>Purpose</td><td>do checks on module's data consistency</td></tr>
</table>
<pre class='php'>
/**
 * Module diagnose event handler
 *
*/
function diag()
{
	echo(PHPPE::e("W",__CLASS__,"Checking")."\n");
}
</pre>
<h3>Routing filter event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>anywhere, but outside of your module's namespace, so may consider individual file for filters.</td></tr>
<tr><td>Called</td><td>if the url (for which the response is being generated) matches a <a href='javascript:tab_switch("routing");'>routing</a> rule with filter in it, the appropriate function will be called.</td></tr>
<tr><td>Purpose</td><td>restrict access for specific urls.</td></tr>
</table>
Example filters can be found at the bottom of <a href='javascript:tab_switch("route");'>PHPPE::route</a> documentation.
<pre class='php'>
namespace \PHPPE\Filter;
class (myFilter) extends \PHPPE\Filter {
    function filter()
    {
	  return true;
    }
}
</pre>

<h3>Application event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>any module (library) that has been registered with PHPPE::lib().</td></tr>
<tr><td>Called</td><td>after routing decision is made, but application not instantiated yet.</td></tr>
<tr><td>Purpose</td><td>alter application's class and action method's name, expand routing capabilities.</td></tr>
</table>
<pre class='php'>
/**
 * Application event handler
 *
 * @param array, application classname and action method name
 * @return array optionally altered input
*/
function app($app)
{
	// $app = [ "ClassOfMyApp", "ActionMethodName" ]
	return $app;
}
</pre>

<h3>Controller action event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>in any module (library) that has been registered with PHPPE::lib().</td></tr>
<tr><td>Called</td><td>before application's action handler gets called (NOTE: only if caching is disabled for the page).</td></tr>
<tr><td>Purpose</td><td>expand controller functionality with application independent action code.</td></tr>
</table>
<pre class='php'>
/**
 * Controller action event handler
 *
 * @param array, application classname and action method name
*/
function ctrl($app)
{
}
</pre>
<h3>View event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>in any module (library) that has been registered with PHPPE::lib().</td></tr>
<tr><td>Called</td><td>before view is displayed.</td></tr>
<tr><td>Purpose</td><td>alter html output before it's displayed.</td></tr>
</table>
<pre class='php'>
/**
 * View event handler
 *
 * @param string
 * @return array optionally altered html
*/
function view($html)
{
	return $html;
}
</pre>
<h3>View header and footer events</h3>
<table class='parameters'>
<tr><td>Defined</td><td>in any module (library), no need for registration.</td></tr>
<tr><td>Called</td><td>before and after view is flushed to output.</td></tr>
<tr><td>Purpose</td><td>expand output formats for templater</td></tr>
</table>
These events are not handled by calls, instead by includes. This is so because they have to access private core properties as well. If no include file found, core has a built-in implementation for HTML5.<br><br>
<tt>vendor/phppe/core/out/rss_header.php:</tt>
<pre class='php'>
&lt;?php
use \PHPPE\Core as PHPPE;
//! header
echo("<"."?xml version=\"1.0\" encoding=\"utf-8\" ?".">\n");
//! style sheet, if exists
if(file_exists("public/css/style.xsl"))
	echo("<"."?xml-stylesheet title=\"XSL_formatting\" type=\"text/xsl\" href=\"".url("/")."css/style.xsl\"?".">\n");
//! get our application instance
$app = PHPPE::getval("app");
?&gt;
&lt;rss version="2.0"&gt;
  &lt;channel&gt;
    &lt;title&gt;&lt;?=PHPPE::$core->site?&gt;&lt;/title&gt;
    &lt;link&gt;&lt;?=url("/")?&gt;&lt;/link&gt;
    &lt;language&gt;&lt;?=PHPPE::$client-&gt;lang?&gt;&lt;/language&gt;
    &lt;lastBuildDate&gt;&lt;?=date("r",PHPPE::$core-&gt;now)?&gt;&lt;/lastBuildDate&gt;
    &lt;copyright&gt;This RSS feed was generated by PHPPE http://phppe.org/&lt;/copyright&gt;
    &lt;ttl&gt;&lt;?=(!empty($app-&gt;ttl)?$app-&gt;ttl:1440)?&gt;&lt;/ttl&gt;
</pre>
<br><tt>vendor/phppe/core/out/rss_footer.php:</tt>
<pre class='php'>
  &lt;/channel&gt;
&lt;/rss&gt;
</pre>
<br>And to activate it, in any application's constructor:
<pre class='php'>
	PHPPE::$core->output = "rss";
</pre>
<h3>Add-On initialization event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>in templater Add-On classes</td></tr>
<tr><td>Called</td><td>once per page generation, before output it displayed. Note that Add-On class' constructor can be called several times!</td></tr>
<tr><td>Purpose</td><td>register JavaScript libraries, stylesheets etc. needed by the Add-On</td></tr>
</table>
<pre class='php'>
/**
 * Add-On init event handler
 *
*/
function init()
{
	// PHPPE::addon() to register Add On
	// PHPPE::jslib() to add JavaScript libraries
	// PHPPE::css() to add custom stylesheets
}
</pre>

<h3>Add-On input validation event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>in templater Add-On classes (Note: it's static!!! See <a href='javascript:tab_switch("addonvalidate");'>(PHPPE\AddOn)::validate</a> for more details.)</td></tr>
<tr><td>Called</td><td>when <a href='javascript:tab_switch("req2obj");'>PHPPE::req2arr()</a> called in an action handler.</td></tr>
<tr><td>Purpose</td><td>validate or sanitize user input. You can chain more Add-On validators on a specific input field with <a href='javascript:tab_switch("validate");'>PHPPE::validate()</a>.</td></tr>
</table>
<pre class='php'>
/**
 * Add-On validation event handler
 *
*/
static function validate ( name, value, arguments, attributes )
{
	return [ true /*boolean result*/, "success" /*error message if any*/ ];
}
</pre>
<h3>Add-On display event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>in templater Add-On classes</td></tr>
<tr><td>Called</td><td>every time whenever a template refers to this Add-On</td></tr>
<tr><td>Purpose</td><td>return html content. Note that templater tags and user session influence which one of these gets called, see <a href='javascript:tab_switch("addonstemp");'>templater</a> for details.</td></tr>
</table>
In short for fields show() is for displaying values, edit() for generating input fields. As for widgets, show() returns face in html, whilst edit() returns a form for configuration.
<pre class='php'>
/**
 * Add-On display event handlers
 *
*/
function show()
{
	return htmlspecialchars($this->value);
}
function edit()
{
	return "&lt;input type='hidden' value='".htmlspecialchars($this->value)."'&gt;";
}
</pre>

<h3>JavaScript onload event</h3>
<table class='parameters'>
<tr><td>Defined</td><td>as a second argument to <a href='javascript:tab_switch("jslib");'>PHPPE::jslib()</a> calls.</td></tr>
<tr><td>Called</td><td>when the page and asynchronous assets has been loaded on client's side</td></tr>
<tr><td>Purpose</td><td> do JavaScript stuff that has to be done after every JavaScript library fully loaded.</td></tr>
</table>
This is a client side event. No PHP at server side involved. If you really want that, use a <a href='javascript:tab_switch("assets");'>dynamic asset</a> as a first argument.

</div>

<div id='coding' class='tab' rel='standards,style,psr-2'>
<h2>Coding standards</h2>
To be extremely small (64k is not a plenty of space for a PHP code you can take my word on that), the Core is compressed. With this only exception, all other Extension and application must
follow <a href='https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md' target='_new'>PSR-2 Coding Style</a>. Altering other Extension's code is only allowed via hooks and url forges, never through file manipulation. If your code depends on others, make sure you call <a href='javascript:tab_switch("lib");'>PHPPE::lib()</a> with proper dependency parameter.
<h3>Comments and logging</h3>
It is strongly advised to write plenty of descriptive comments in your source. It is also highly recommended to put a lot of debug level <a href='javascript:tab_switch("log");'>PHPPE::log()</a> call, so that you'll get a clue what is your code doing when it's running.
<h3>Definitions</h3>
This document uses these notations consistently:
<table class='parameters'>
<tr><td><b>class::</b></td><td>static property or method</td></tr>
<tr><td><b>(class)-&gt;</b></td><td>property or method of an instance of "class"</td></tr>
</table>
<h3>Class names</h3>
Class names follow StudyCaps. Controller classes are suffixed with "_Ctrl".
Also, to clearly distinguish Add-Ons from other classes used by your application, they're in camelCaps, like "myWidget". Don't ever use underscore in your class names, that's limited to framework specific classes.
<h3>Method names</h3>
Method names are in camelCase, with a few exception:<ul>
<li>"action_" - to clearly separate action handlers from other methods, they are prefixed with this and camelCaps follows: "action_myLittleAction".</li>
</ul>
Again, don't use underscores in your method names, that's limited to framework specific methods. Also note that you can omit the prefix if you use specific PHPPE::route() calls.
<h3>Functions</h3>
Along with classes and methods, PHPPE Core also provides three widely used functions outside of it's namespace (which by the way are only wrappers around <a href='javascript:tab_switch("phppe");'>PHPPE</a> properties and method calls) for simplicity and to save you typing:<ul>
<li>LANG_INIT() - PHPPE::langInit()</li>
<li>L() - PHPPE::$l</li>
<li>url() - PHPPE::url()</li>
</ul>
The last two are often called in view templates.<br><br>
For better compression, public/index.php also defines some short named function. When writing your own PHPPE Extension, use at least three letters in your function names (or even better, use only methods) and there'll be no conflict ever.
<h3>Application or Extension?</h3>
As the framework allows controllers in applications (app) as well as in modules (vendor/phppe/*), you may ask which one to use for your project?<br>
Application. If you later on plan to use your code on several sites, it's easy to convert it into a module as application and module <a href='javascript:tab_switch("directory");'>directory structure</a>s are the same. The only difference is that a module must be inside PHPPE namespace, an application is not limited by that.
</div>

<div id='extensions' class='tab' rel='upgrade'>
<h2>PHPPE Extensions</h2>
<h3>Installing an Extension without Manager or Composer</h3>
Assuming you're in your ProjectRoot. If not, type "cd <i>(your DocumentRoot without public)</i>". Check current working directory with "pwd".<br><br>
Type one of these into your SSH Terminal:
<pre>
$ mkdir vendor/<i style='color:red;'>(extension name)</i> && curl <i style='color:red;'>(repository)/(extension tarball).tgz</i> | tar -xz -C vendor/<i style='color:red;'>(extension name)</i>
<span style='color:#808080;'> - or -</span>
$ mkdir vendor/<i style='color:red;'>(extension name)</i> && wget <i style='color:red;'>(repository)/(extension tarball).tgz</i> -O - | tar -xz -C vendor/<i style='color:red;'>(extension name)</i>
</pre>
<h3>Query list of installed Extensions without Manager or Composer</h3>
Type into your SSH Terminal:
<pre>
find vendor/phppe -name composer.json -print -exec sh -c "cat {} \| grep -e version[^_]" \;
</pre>
Depending on your shell, it's possible you'll have to replace <tt>\|</tt> with <tt>|</tt>.
<h2>PHPPE Extension Manager</h2>
The <a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_extmgr.tgz' target='_new'>PHPPE Extension Manager</a> is a tool to install extensions over a web interface. It does not provide the
same functionality as PHP Composer, so it's not recommended in development environments. Instead it's a comfortable and secure way to deploy tarballs remotely (to production sites without Composer).<br><br>
To install, copy'n'paste into your SSH Terminal:
<pre>
mkdir vendor/phppe/extensions && curl https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_extmgr.tgz | tar -xz -C vendor/phppe/extensions
</pre>
<h3>Configuring Manager</h3>
<h4>User login and Remote Access</h4>
If you have Users module installed with PHPPE Pack, there's little left to do, just grant "install" ACE to your user, and add "remote" configuration as an array to user's preferences.
On the other hand if you're running a single user page without Users module, you'll need:<br><br>
<tt>phppe/config.php:</tt>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
$core->masterpasswd = password_hash("changeme",PASSWORD_BCRYPT);
</pre></p>
To allow admin user login. Don't ever use password_hash() in config.php (this is just an example), paste only the hash constant there.
In lack of user preferences, you'll also need<br><br>
<tt>vendor/phppe/Extensions/config.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br></pre>
<pre class='php'>
return array(
	"host" => "<i>(your server name)</i>",
	"port" => "<i>(your ssh port, optional)</i>",
	"user" => "<i>(your username)</i>",
	"path" => "<i>(your ProjectRoot, DocumentRoot without 'public')</i>",
	"identity" => "<i>(your private key)</i>"
);
</pre></p>
For example:
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br></pre>
<pre class='php'>
return array(
	"host" => "localhost",
	"port" => 22,
	"user" => "bzt",
	"path" => "/var/www/phppe3_test",
	"identity" => "-----BEGIN DSA PRIVATE KEY-----
MIIBdgIBABKBhQCdlCD+2At47+LwSk7w1rDISnj3n9QYjCKjzuj+UtI5S4vC0Dbx
     <i>[...]</i>
iCa3nxaMkW2qEmEPCd8=
-----END DSA PRIVATE KEY-----"
);
</pre></p>
The path can be relative as well. Most common configurations are:
<ul>
<li><b>public_html</b> - if your user's home diretory has a link to the documentroot</li>
<li><b>/var/www/<i>your server name</i></b> - absolute path to webserver directory</li>
<li><b>/srv/www/<i>your server name</i></b> - alternative, also very popular webserver directory</li>
</ul>
This array will be loaded to PHPPE::$user->data['remote'] and handled afterwards as if it would be a normal Users preference setting.
<h4>User private key</h4>
For security reasons, users are identified by keys. No password configured ever for remote access.<br>
<br>
The identity field contains your private key, and you have to append it's public key pair to (user's home)/.ssh/authorized_keys. If you don't have a key yet, here's how to generate it:
<pre>
$ ssh-keygen -t dsa
Generating public/private dsa key pair.
Enter file in which to save the key (/home/bzt/.ssh/id_dsa): <span style='color:red;'>[Enter]</span>
Enter passphrase (empty for no passphrase): <span style='color:red;'>[Enter]</span>
Enter same passphrase again: <span style='color:red;'>[Enter]</span>
Your identification has been saved in /home/bzt/.ssh/id_dsa.
Your public key has been saved in /home/bzt/.ssh/id_dsa.pub.
The key fingerprint is:
6f:16:8a:27:54:cf:2e:6d:37:23:30:fc:4d:d7:a2:12 bzt@localhost
</pre>
Now copy the content of /home/bzt/.ssh/id_dsa to identity, and add the contents of /home/bzt/.ssh/id_dsa.pub to authorized_keys:
<pre>
$ cat ~/.ssh/id_dsa.pub >> ~/.ssh/authorized_keys
</pre>
Extension Manager is capable of managing remote hosts as well, but in this case you'll have to append your key to the remote machine's authorized_keys file.
<pre>
$ cat ~/.ssh/id_dsa.pub | ssh <i style='color:red;'>host</i> -p <i style='color:red;'>port</i> -l <i style='color:red;'>user</i> 'cat >> ~/.ssh/authorized_keys'
</pre>
<h3>Adding third-party repositories</h3>
By default, PHPPE uses it's own repository, but you can add third-party extensions as well. You can configure repositories like<br><br>
<tt>phppe/config.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br></pre>
<pre class='php'>
$core->repos = array(
	"http://my.repo.com/phppe3",
	"http://another.repo.com/stuff/phppe3"
);
</pre></p>
To provide your own repository, see <a href='javascript:tab_switch("repository");'>Repository HOW-TO</a>.
<h3>Usage</h3>
Now log in to your PHPPE site. You'll see an "Extensions" menu on the PHPPE Panel. Here you can
<ul>
<li>install and bootstrap PHPPE Core on remote servers with a single click</li>
<li>search for extensions</li>
<li>see what's installed</li>
<li>check for new versions in repositories</li>
<li>install or remove extensions</li>
<li>upgrade or re-install extensions</li>
<li>configure extensions</li>
</ul>
<!--<img src='http://phppe.org/phppe3_extmgr.png' alt='Extension Manager'>-->
<br><br>
</div>

<div id='repository' class='tab' rel='commertial'>
<h2>Extensions Repository HOW-TO</h2>
You'll need a plain simple webserver for that. Place the tarballs and the <tt>packages.json</tt> in DocumentRoot, and you're done.
<h3>Extension tarballs</h3>
Create gzipped tarballs with ".tgz" file extension of your modules and add-ons. Omit leading directory, tar files should contain files relative to <tt>vendor/phppe/<i>(extension)</i>/</tt>.<br><br>
<h4>Extension meta info</h4>
<tt>composer.json</tt><br>
The first file in the tarball *MUST* be composer.json. <a href='javascript:tab_switch("extensions");'>Extension Manager</a> will check it and refuses to install tarballs without valid meta info.
This file is a standard PHP Composer json file, with additional elements:
<pre>
{
	"name" => name of your extension,
	"version_normalized" => version of your extension,
	"description" => description of your extension,
	"maintaner" => your name and email address,
	"license" => license you use for your extension, defaults to LGPL-3.0+,
	"type" => "library"
	"autoload" => autoload info
	"dist" =>
		"type" => "tar"
		"url" => link to the tarball
<i>
	"conf" => optional, configuration specification,
	"conf_X" => optional, translations for configuration keys,
	"price" => optional, integer price of your extension in EUR,
	"homepage" => optional, webshop's url where the user can buy your extension,
	"prio" => optional, priority when generating list in packages.json
</i>
}
</pre>
The keys "name", "description" and "conf" can be translated by appending underscore and language code to them, like
<pre>
{
	"name" => "phppe/something",
<i>	"name_en" => "Some Extension",
	"name_hu" => "Valami Bővítmény",</i>
	"description" => "English description",
<i>	"description_hu" => "Magyar nyelvű leírás",
	"conf_en" => "{ "host":"Host name", "port":"SSH Port" },
	"conf_hu" => "{ "host":"Szerver neve", "port":"SSH Port" },
</i>
}
</pre>
<h4>Extension configuration</h4>
The configuration (array keys returned by it's config.php) can be described in "config" field. Labels for keys are trnaslated, see above.<br><br>
For example:<br>
<pre>
	"config":{
		"host":"string(256,localhost)",
		"port":"integer(1,65535,22)",
		"user":"string(64)",
		"identity":"string(256,data/.id_dsa)",
		"path":"sting(256,/var/www/localhost)"
	},
	"conf_en":{
		"host":"Hostname",
		"port":"SSH Port",
		"user":"Username",
		"identity":"Identity file",
		"path":"ProjectRoot"
	},
</pre>
<h4>Extension preview</h4>
<tt>preview</tt><br>
This should be a 128 x 128 png picture or an svg image. Try to keep it small, below 10k. Use color palette or grayscale instead of RGB. Always use png tools such as <a href='https://tinypng.com/' target='_new'>TinyPNG</a> to compress the preview.
<br>
Preview picture is optional, if not included in packages.json, default extension picture will be shown.
<h4>Versioning</h4>
Versions should be threefold, each number represents specific version in order
<ol>
<li>main. You should be library compatible within main versions</li>
<li>feature. Indicates feature release within main version</li>
<li>patch. Indicates patch level</li>
</ol>
For example:<br>
0.0.0 - first beta release<br>
0.1.0 - second version of beta release<br>
1.0.0 - first stable release, usable for production<br>
1.0.1 - first stable release with a security patch applied<br>
2.1.3 - second main version with a feature release and three security patches<br><br>
Upcoming feature and main releases required to include former security patches.

<h3>Repository index</h3>
<tt>packages.json:</tt>
<pre>
{
    "packages" =>
	(extension) =>
		(version_normalized) => content of composer.json with additional fields
<i>				"time" => last modification time in "yyyy-mm-dd HH:MM:SS" format
				"size" => size of the tarball in bytes
				"sha1" => hash of the tarball
				"preview" => optional, base64 encoded png or svg icon, generated from preview file
</i>
	(extension) =>
		(version_normalized) => content of composer.json with additional fields
<span style='color:#808080;'>
	... more extension info may follow
</span>
}
</pre>
Alternatively you can generate index right from tarballs dynamically. For that, use something like this:<br><br>
<tt>.htaccess:</tt>
<pre>
RewriteEngine On
RewriteCond %{REQUEST_URI} packages.json
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ index.php
</pre>
<tt>index.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br><46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br></pre>
<pre class='php'>
//helper functions
function readpkg( $tarball, $filename ); //returns content for filename from tarball
//recursively dump object in json format
function dumppkg($p,$m,&$json,$l=0){
    $f=1;
    foreach($m as $k=>$v) {
        $json.=($f?"":",\n").str_repeat("\t",$l+3)."\"".addslashes($k)."\":";$f=0;
        if(is_array($v)||is_object($v)) {
            $json.=isset($v[0])?"[\n":"{\n";
            dumppkg($k,$v,$json,$l+1);
            $json.="\n".str_repeat("\t",$l+3).(isset($v[0])?"]":"}");
        } else $json.="\"".addslashes($v)."\"";
    }
}

//scan for tarballs
$d = glob( "*.tgz" );

//parse tarballs
$packages = array();
foreach( $d as $v ) {
        $m=json_decode(readpkg($v,"composer.json"));
	//get composer.json's fields
        $packages[$v]=$m;
	//make sure reuired fields exists
        $packages[$v]['name']=!empty($m["name"])?$m["name"]:str_replace("_","/",substr($v,0,strlen($v)-4));
        $packages[$v]['version']=!empty($m["version"])?$m["version"]:(!empty($m["version_normalized"])?$m["version_normalized"]:"?.?.?");
        $packages[$v]['dist']['type']=!empty($m["dist"]["type"])?$m["dist"]["type"]:"tar";
        $packages[$v]['dist']['url']=!empty($m["dist"]["url"])?$m["dist"]["url"]:"http://".$base."/".$v;
        $packages[$v]['description']=!empty($m["description_en"])?$m["description_en"]:(!empty($m["description"])?$m["description"]:"");
        $packages[$v]['maintainer']=!empty($m["maintainer"])?$m["maintainer"]:array("name"=>"Anonymous");
        $packages[$v]['license']=!empty($m["license"])?$m["license"]:"LGPL-3.0+";
        $packages[$v]['price']=!empty($m["price"])&&$m["price"]>0?intval($m["price"]):(fileperms($v) & 0004 ? 0 : 1);
        if($packages[$v]['price']){
            if(!empty($m["homepage"]))
                $packages[$v]['homepage']=$m["homepage"];
            else
                $packages[$v]['homepage']=dirname($packages[$v]['dist']['url'])."/webshop.php?product=".urlencode($packages[$v]['name']);
        }
	//generate additional fields, they are NOT in composer.json, but shuld be in packages.json
        $packages[$v]['time']=date("Y-m-d H:i:s",filemtime($v));
        $packages[$v]['size']=filesize($v);
        $packages[$v]['sha1']=sha1(file_get_contents($v));
	//get preview from tarball
        $p = readpkg($v,"preview");
	if( !empty($p) )
		$packages[$v]['preview'] = base64_encode($p);
}

//output JSON index

//don't use json_encode, we have to omit the outter frame array
$json="{\n\t\"packages\": {\n";
foreach( $packages as $p=>$m ) {
	$json .= ($f?"":",\n")."\t\t\"".$m['name']."\": {\n\t\t  \"".$m['version']."\": {\n";
	$f=0;
	dumppkg($p,$m,$json);
	$json . = "\n\t\t  }\n\t\t}";
}

//cache result for further queries (will be served statically afterwards)
file_put_contents( "packages.json", $json );
die( $json );
</pre></p>
You can download the full source for this index.php from <a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/vendor/phppe/developer/src/repo.php' target='_new'>github:repo.php</a>.
<br>
<h3>Commertial Extensions</h3>
PHPPE does not include a shop for Extensions to avoid legal issues and taxing regulations in different countries.<br>
<a href='javascript:tab_switch("extensions");'>Extension Manager</a> merely helps commertial extensions with a token in download url during installation, but that's all.<br><br>
If you specify "price" then "homepage" must point to a webshop. <a href='javascript:tab_switch("extensions");'>Extension Manager</a> will handle extensions with price like:
<ul>
<li>the user will be redirected to "homepage", where you can handle the payment details</li>
<li>after a successful payment, you must show the user a unique product key (the token)</li>
<li>When the user wants to install the Extension from Manager, he/she will be prompted for that key</li>
<li>During installation, tarball will be downloaded as "<i>(repo url)/(extension name)</i>.tgz?key=<i>sha256(product key)</i>"</li>
<li>Now it's up to you to check whether the given product key is valid for the Extension and serve the request or deny it with HTTP 403.</li>
</ul>
Note that PHPPE does not specify whether you allow multiple downloads with a specific token or just one. It's up to you.<br><br>
To redirect tarball requests to a script, you'll need something like:<br><br>
<tt>.htaccess:</tt>
<pre>
RewriteEngine On
RewriteCond %{QUERY_STRING} key [OR]
RewriteCond %{REQUEST_URI} tgz
RewriteRule ^(.*)$ index.php?install=$1&%{QUERY_STRING}
</pre>
<tt>index.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br></pre>
<pre class='php'>
//this code will look for "data/".sha1(key) with extension name in it to validate http requests.
//So after a successful payment, you'll have to save purchased extension's name in "data/".sha1(sha256(product key))

if( !empty($_REQUEST['install']) ) {
    //check tarball
    if( strpos($_REQUEST['install'],"/")!==false || !file_exists($_REQUEST['install']) ) {
	header("HTTP/1.1 404 Not found");
	die("404 Not found");
    }
    //if it's world readable, no product key required
    $f=fileperms($_REQUEST['install']) & 0004;
    if( !$f && (empty($_REQUEST['key']) ||
	//tranaction id file exists?
	!file_exists( "data/".sha1($_REQUEST['key']) ) ||
	//has the same extension in it as given?
	trim( file_get_contents( "data/".sha1($_REQUEST['key']) ) ) != $_REQUEST['install'] ||
	//remove file right away, so each key can be used only once
	!unlink("data/".sha1($_REQUEST['key']))) ) {
		header("HTTP/1.1 403 Access Denied");
		die("403 Access Denied");
    }
    //serve the request
    $d = file_get_contents($_REQUEST['install']);
    header( "Content-type: application/octet-stream" );
    header( "Content-length: ".strlen($d) );
    die($d);
}
</pre></p>
That's all, folks!
</div>

<div id='helloworld' class='tab' rel='getstarted'>
<h2>Classic Hello World! Tutorial</h2>
<h3>Simpliest</h3>
We'll only use view layer, no controller at all. If PHPPE does not find any application and controller, it will only serve the view. This behaviour is ideal for pages like About Us and Impressum. Default routes apply here.<br><br>
<tt>app/views/helloworld.tpl:</tt>
<pre>
&lt;h1>Hello World!&lt;/h1>
</pre>
Now open a browser tab and go to <tt>(your homepage)/helloworld</tt> url to see the result.
<h3>Bit more</h3>
A very minimal application, with only one controller. The view here refers to an application property.<br><br>
<tt>app/views/helloworld.tpl:</tt>
<pre>
&lt;h1>&lt;!=hello>&lt;/h1>
</pre>
The application does not set any route, it uses the standard file naming convention for default routing. Also, action uses default action route.<br><br>
<tt>app/ctrl/helloworld.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9</pre>
<pre class='php'>
namespace PHPPE;
class helloworld extends App {
	public $hello;

	function action( $item )
	{
		$this->hello = "Hello " . ( $item ? $item : "World" ) . "!";
	}
}
</pre></p>
<h3>As a PHPPE Module</h3>
Assuming we want to serve the page in an arbitrary PHPPE Module.<br><br>
<tt>vendor/phppe/mymodule/views/myView.tpl:</tt>
<pre>
&lt;h1>Hello World!&lt;/h1>
</pre>
This time we'll set a routing rule for that, because the url does not align with file naming. It has to be done in the module's initialization code.<br><br>
<tt>vendor/phppe/mymodule/99_MyModule.php:</tt>
<p><pre class='lineno'>1<br></pre>
<pre class='php'>
PHPPE::route("helloworld","MyModule","myAction");
</pre></p>
Here's the controller, that sets the template's name for the view. No default action route here, we've specified the action method with route.<br><br>
<tt>vendor/phppe/mymodule/ctrl/MyModule.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7</pre>
<pre class='php'>
namespace PHPPE\Ctrl;
class MyModule extends \PHPPE\Ctrl {
	function myAction($item)
	{
		PHPPE::$core->template = "myView";
	}
}
</pre></p>
<h3>As a widget</h3>
Here we'll create a widget to display "Hello World". View refers to our widget without any specific controller.<br><br>
<tt>app/views/*.tpl:</tt>
<pre>
&lt;!widget helloworld>
<span style='color:#808080;'>   - or -</span>
&lt;!field helloworld obj.field>
</pre>
This will be the template that refers to our widget. Without reference, our widget never get's loaded.
<tt>app/addons/helloworld.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18</pre>
<pre class='php'>
namespace PHPPE;
class helloworld extends AddOn {
	function init()
	{
		//register our add-on
		PHPPE::addon( "helloworld", "Hello World! Tutorial" );
	}

	function show()
	{
		return "Hello " . ( $this->value ? $this->value : "World" ) . "!";
	}

	function edit()
	{
		return "Hello &lt;input type='text' value='" . htmlspecialchars($this->value) . "'>!";
	}
}
</pre></p>
Now we have a widget face to draw.
</div>

<div id='cron' class='tab' rel='script,background'>
<h2>Background Job Tutorial</h2>
Use crontab command from SSH Terminal. This will invoke an interactive editor:
<pre>
$ crontab -e
*/15 * * * * /usr/bin/php <i>(your DocumentRoot)</i>/index.php scripts quaterly
0    * * * * /usr/bin/php <i>(your DocumentRoot)</i>/index.php scripts hourly
</pre>
Or, if you're a system administrator, use system wide configuration file<br>
<tt>/etc/cron.d/phppe_<i>(vhost name)</i>:</tt>
<pre>
*/15 * * * * <i>(vhost's user name)</i> /usr/bin/php <i>(vhost's DocumentRoot)</i>/index.php scripts quaterly
0    * * * * <i>(vhost's user name)</i> /usr/bin/php <i>(vhost's DocumentRoot)</i>/index.php scripts hourly
</pre>
The appropriate controller that handles these actions goes like this, using default action routing mechanism.<br><br>
<tt>app/ctrl/scripts.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20</pre>
<pre class='php'>
namespace PHPPE;
use \PHPPE\Core as PHPPE;
class scripts extends App {

    function action_quaterly( $item ) {
	//here you can use the usual PHPPE environment. Don't forget to output text, not html.
	echo ( $item . "\n" );
	//scripts will exit without calling the templater
    }

    function action_hourly( $item ) {
	  //if you want templater to continue, set a template
	  PHPPE::$core->template = "scripts_ncursestmpl";
    }

    function action( $item ) {
	die( L("Bad action.") );
    }
}
</pre></p>
</div>

<div id='webserver' rel='apache,nginx,httpd' class='tab'>
<h2>Apache example</h2>
<pre><div style='overflow:auto;height:300px;'>
&lt;VirtualHost *:80>
    ServerName <i>mysite.tld</i>
    DocumentRoot "/var/www/<i>mysite</i>/public"
    &lt;Directory "/var/www/<i>mysite</i>/public">
        Options -Indexes +SymLinksIfOwnerMatch +ExecCGI
        AllowOverride None
        Order allow,deny
        Allow from all
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteRule ^(.*)$ index.php/$1
    &lt;/Directory>
    CustomLog /var/log/apache2/<i>mysite</i>-access.log combined
    ErrorLog /var/log/apache2/<i>mysite</i>-error.log
    php_admin_flag register_globals off
    php_admin_flag allow_url_fopen off
    php_admin_flag allow_url_include off
    php_admin_value open_basedir /var/www/<i>mysite</i>
    php_admin_value upload_tmp_dir /var/www/<i>mysite</i>/.tmp
&lt;/VirtualHost></div></pre>
<h2>NGINX example</h2>
<pre><div style='overflow:auto;height:300px;'>
user www-data;
<i>[...]</i>
http {
    <i>[...]</i>
    server {
	<i>[...]</i>
	root  /var/www/<i>mysite</i>/public;
	location / {
	    index index.php;
	    if (!-e $request_filename){
		rewrite ^(.*)$ /index.php;
	    }
	}
	location ~ /\.ht {
	    deny all;
	}
	location ~ \.php$ {
	    try_files $uri $uri/ =404;

	    ## for fastcgi daemon
	    #fastcgi_pass  127.0.0.1:9000;
	    ## for php-fpm
	    #fastcgi_pass  unix:/var/run/php-fpm.sock;

	    fastcgi_index  index.php;
	    fastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;
	    fastcgi_param  SCRIPT_NAME        $fastcgi_script_name;
	    fastcgi_param  QUERY_STRING       $query_string;
	    fastcgi_param  REQUEST_METHOD     $request_method;
	    fastcgi_param  REQUEST_URI        $request_uri;
	    fastcgi_param  DOCUMENT_URI       $document_uri;
	    fastcgi_param  DOCUMENT_ROOT      $document_root;
	    fastcgi_param  SERVER_PROTOCOL    $server_protocol;
	    fastcgi_param  HTTPS              $https if_not_empty;
	    fastcgi_param  GATEWAY_INTERFACE  CGI/1.1;
	    fastcgi_param  SERVER_SOFTWARE    nginx/$nginx_version;
	    fastcgi_param  REMOTE_ADDR        $remote_addr;
	    fastcgi_param  REMOTE_PORT        $remote_port;
	    fastcgi_param  SERVER_ADDR        $server_addr;
	    fastcgi_param  SERVER_PORT        $server_port;
	    ## !!! important !!! use $host or else catch-all server names won't work!
	    fastcgi_param  SERVER_NAME        $host;

	    ## required if PHP was built with --enable-force-cgi-redirect
	    #fastcgi_param  REDIRECT_STATUS    200;
	}
    }
}
</div></pre>
</div>

<div id='raspberry' rel='pi' class='tab'>
<h2>Setting up on Raspberry Pi</h2>
<h3>Step 1: install raspbian jessie</h3>
This is quite straightforward. Download image and use <tt>dd</tt>.
<h3>Step 2: install packages</h3>
You'll need these:
<pre>
# apt-get install lightdm nginx php5-cli php5-fpm phpp5-apcu php5-gd php5-sqlite openbox chromium
</pre>
Many of these may have already been installed on your Raspberry, and you can choose alternative db drivers like <tt>php5-pdo_mysql</tt> as well. Note that jessie may not include chromium, so you'll have to use this for RPi2:<br>
<a href='https://launchpad.net/ubuntu/precise/armhf/chromium-browser'>https://launchpad.net/ubuntu/precise/armhf/chromium-browser</a><br>
<a href='https://launchpad.net/ubuntu/precise/armhf/chromium-codecs-ffmpeg-extra'>https://launchpad.net/ubuntu/precise/armhf/chromium-codecs-ffmpeg-extra</a>
<h3>Step 3: configure nginx</h3>
You can find many tutorials on how to do this, but here's a brief configuration:<br>
<tt>/etc/nginx/sites-available/default</tt>
<pre>
server {
	listen 80 default_server;
	root /var/www/localhost/public;
	server_name example.org;

	location / {
		try_files $uri $uri/ =404;
		index index.php;
		if (!-e $request_filename){
			rewrite ^(.*)$ /index.php;
		}
	}
	location ~ \.php$ {
		include snippets/fastcgi-php.conf;
		fastcgi_pass unix:/var/run/php5-fpm.sock;
	}
}
</pre>
Basically we pass control to php5-fpm and we do a little rewrite trick for handling urls without ".php".<br>
For testing, create <tt>/var/www/localhost/public/index.php</tt>:
<pre>
&lt;?php
phpinfo();
</pre>
Now enable and start the service
<pre>
systemctl enable nginx
systemctl start nginx
</pre>
<h3>Step 4: setup automatic login</h3>
In <tt>/etc/lightdm/lightdm.conf</tt>, change the following lines:
<pre>
autologin-user=pi
autologin-user-timeout=0
</pre>
Alternatively you can use <tt>raspi-config</tt> to get the job done for you.
<h3>Step 5: set up full screen browser</h3>
For that we have to arrange a few things first. Create a session resource and copy the following lines to it.<br>
<tt>/home/pi/.xsessionrc</tt>
<pre>
export DISPLAY=":0"
xset s off
xset s noblank
xset -dpms
xdotool mousemove 8192 8192
openbox --sm-disable &
sudo bash -c "echo '[info] phppe: Starting fullscreen browser' >>/dev/console"
bash -c "while true; do (ps u|grep [c]hromium >/dev/null) || chromium -kiosk --incognito --start-maximized http://localhost; done"
</pre>
First line sets the display to be used, the x* commands turn screen blanking off and hides the mouse pointer. For fullscreen we need a window manager to accept fullscreen request,
in this tutorial I've used openbox since it's the default. The line after that logs a message on console so that you will know when it's executing (Raspberry's bootup process is slow).
And finally, the last line starts a fullscreen browser and makes sure of it that it would respawn if crashed.<br><br>
Now tell openbox to start chromium in fullscreen without decorations:<br>
<tt>/home/pi/openbox_rc.xml</tt>
<pre>
&lt;?xml version="1.0" encoding="UTF-8">
&lt;openbox_config xmlns="http://openbox.org/3.4/rc" xmlns:xi="http://www.w3.org/2001/XInclude">
  &lt;applications>
    &lt;application class="*">
      &lt;focus>yes&lt;/focus>
      &lt;fullscreen>yes&lt;/fullscreen>
      &lt;decor>no&lt;/decor>
    &lt;/application>
  &lt;/applications>
&lt;/openbox_config>
</pre>

<h3>Step 6: install PHPPE</h3>
Read further <a href='javascript:tab_switch("install");'>instructions here</a>.<br>
In a nutshell copy index.php there, call diagnostics mode then update with composer or download Pack tarball.
<h3>Step 7: configure PHPPE</h3>
<tt>/var/www/localhost/phppe/config.php</tt>
<pre class='php'>
$core->db = "sqlite:data/sqlite.db";
$core->cache = "apc";
</pre>
<h3>Step 8: Reboot and enjoy!</h3>
You should see the PHPPE Self Test and Cheat Sheet page in fullscreen after reboot, served by your own Raspberry!<br><br>
If you want to control your Raspberry Pi from your PHPPE Application (of course you do), you can use the GPIO Extension:
<pre class='php'>
PHPPE::lib("GPIO")->mode(n,in/out);
PHPPE::lib("GPIO")->read(n);
PHPPE::lib("GPIO")->write(n,value);
</pre>
But first you should add your webserver's user to gpio group:
<pre>
# addgroup www-data gpio
</pre>
Read <a href='javascript:tab_switch("phppe_gpio");'>more</a>.
</div>

<div id='routetut' class='tab' rel='phppe/init/00_routes.php'>
<h2>Routing Tutorial</h2>
If no route given, or neither of them applies, PHPPE will fallback to <a href='javascript:tab_switch("routing");'>default application route</a>.
<h3>Specify application</h3>
Adding application to routes, but relying on <a href='javascript:tab_switch("routing");'>default action route</a>.
See <a href='javascript:tab_switch("route");'>PHPPE::route()</a> documentation on how to specify routes.
<br><br>
<tt>app/99_app.php:</tt>
<p><pre class='lineno'>1</pre>
<pre class='php'>
PHPPE::route( "myurl", "MyApp" );
</pre></p>
The corresponding controller.<br><br>
<tt>app/ctrl/MyApp.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7</pre>
<pre class='php'>
use PHPPE\Core as PHPPE;
class MyApp extends \PHPPE\App {
	function action($item)
	{
		//something
	}
}
</pre></p>
This will be served when <i>(base)/myurl</i> called. If you enter <i>(base)/myurl/myaction</i> in the browser, PHPPE will look for the method action_myaction($item) in this class first, then fallbacks to action($item).
<h3>Specify action too</h3>
<tt>app/99_app.php:</tt>
<p><pre class='lineno'>1</pre>
<pre class='php'>
PHPPE::route( "myurl", "MyApp", "myAction" );
</pre></p>
The corresponding controller now uses a custom method name for action.<br><br>
<tt>app/ctrl/MyApp.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7</pre>
<pre class='php'>
use PHPPE\Core as PHPPE;
class MyApp extends \PHPPE\App {
	function myAction($item)
	{
		//something
	}
}
</pre></p>
<h3>Using custom arguments</h3>
This time we'll use pharenthesis in url regexp. Each corresponds to an argument to action method.<br><br>
<tt>app/01_app.php:</tt>
<p><pre class='lineno'>1</pre>
<pre class='php'>
PHPPE::route( "myurl([0-9]*)/([a-z]+)", "MyApp", "myAction" );
</pre></p>
And the controller.<br><br>
<tt>app/ctrl/MyApp.php:</tt>
<p><pre class='lineno'>1<br>2<br>3<br>4<br>5<br>6<br>7</pre>
<pre class='php'>
user PHPPE\Core as PHPPE;
class MyApp extends \PHPPE\App {
	function myAction($someNumber, $someLetters)
	{
		//something
	}
}
</pre></p>
<h3>Specifying filters</h3>
You can add a <a href='javascript:tab_switch("filters");'>filter</a> list as fourth argument to PHPPE::route(). As any other list in PHPPE, it can be a comma separated list or an array.<br>
Filters that starts with a '@' excpets the user to <a href='javascript:tab_switch("has");'>have an ACE</a>, others refer to a boolean logic placed in <tt>PHPPE\Filter\<i>name</i>::filter()</tt>.
<p><pre class='lineno'>1<br>2</pre>
<pre class='php'>
PHPPE::route( "myurl([0-9]*)/([a-z]+)", "MyApp", "myAction", "@loggedin,post" );
PHPPE::route( "myurl([0-9]*)/([a-z]+)", "MyApp", "myAction" , array( "@loggedin", "post" ) );
</pre></p>
<h3>Multiple matcher routes</h3>
Depending on your taste, you can organize controllers in two different way: have different handler for each action or have only one for all.<br>
<p><pre class='lineno'><br>1<br>2<br>3<br>4<br>5<br>6<br>7<br><br>1<br>2<br>3<br>4<br>5<br>6<br>7</pre>
<pre class='php'>
//app/ctrl/MyApp_myAction1.php:
use PHPPE\Core as PHPPE;
class MyApp extends \PHPPE\Ctrl {
	function action_myAction1($item)
	{
		//something
	}
}
//app/ctrl/MyApp_myAction2.php:
use PHPPE\Core as PHPPE;
class MyApp extends \PHPPE\Ctrl {
	function action_myAction2($item)
	{
		//something
	}
}
</pre></p>
Or in one you should have something like
<p><pre class='lineno'><br>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16</pre>
<pre class='php'>
//app/ctrl/MyApp.php:
use PHPPE\Core as PHPPE;
class MyApp extends \PHPPE\Ctrl {
	function action($item)
	{
		switch(PHPPE::$core->action) {
			case "myAction1":
				// something
				break;
			case "myAction2":
				// something
				break;
			default:
				// something
		}
	}
}
</pre></p>

</div>

<div id='apptutorial' class='tab' rel='app/ctrl'>
<h2>Application Tutorial</h2>
Let's assume we're using the url <i>(base)/tutorialapp</i> and <i>(base)/tutorialapp/myaction</i>.
For details see <a href='javascript:tab_switch("routing");'>routing</a>. For this tutorial, it's enough to know we're relying on default routing.<br><br>
<tt>app/views/tutorialapp.tpl:</tt>
<pre>
Tutorial default action's view
&lt;!form tutobj>
&lt;!field text tutobj.field1>
&lt;!field num tutobj.field2>
&lt;!field submit>
&lt;/form>
</pre>
<tt>app/views/tutorialapp_myaction.tpl:</tt>
<pre>
Tutotiral myaction view
&lt;!form tutobj>
&lt;!field text tutobj.field1>
&lt;!field submit>
&lt;/form>
&lt;!form tutobj2>
&lt;!field num tutobj2.field1>
&lt;!field submit>
&lt;/form>
</pre>
<tt>app/ctrl/tutorialapp.php:</tt>
<pre class='php'>
use PHPPE\Core as PHPPE;
class TutorialApp extends \PHPPE\App {
  function action( $item ) {
    //This flag is only set once for each form, making the transaction unrepeatable.
    if( PHPPE::isTry() ) {
	//Get the fields and their values from user request. This will call field validators automatically.
	$tutobj = PHPPE::req2obj('tutobj');
	//Here you can force more complex validation logic
	if( $tutobj->field1=="" && $tutobj->field2==1 )
	    PHPPE::error( L("Validation failed.") );
	//If you want to mark the invalid field, use index in error
	if( $tutobj->field2&lt;0 || $tutobj->field2>1 )
	    PHPPE::error( L("Invalid value!"), "tutobj.field2" );

	//If passed validation, you can save the data in database
	if( !PHPPE::iserror() ) {
	    //Log what we're going to do
	    PHPPE::log('A', "Creating a new instance of tutorialapp sid=" . session_id() . ", " . PHPPE::obj2str($tutobj) );
	    PHPPE::exec( "INSERT INTO tutorialapp SET " . PHPPE::obj2str( $tutobj ) . ";" );
	    //To avoid "Page expired" popups, you have to redirect user here
    	    PHPPE::redirect();
        }
    }
    //Here's the right place to load object from database.
    //But only if the object does not exists, otherwise it means the
    //user made an error somewhere, and we must not lost his/her input.
    if( !$tutobj && $item )
        $tutobj = PHPPE::field( "*", "tutorialapp", "id='" . addslashes( $item ) . "'" );
  }
}

</pre>
<tt>app/ctrl/tutorialapp_myaction.php:</tt>
<pre class='php'>
class TutorialApp_Ctrl extends TutorialApp {
  function action_myaction ($item) {
    if( PHPPE::isTry() ) {
	//This is our own $tutobj, differs from action()'s.
	$tutobj = PHPPE::req2obj( 'tutobj' );
	//another form
	$tutobj2 = PHPPE::req2arr( 'tutobj2' );
    }
  }
}
</pre>
</div>

<div id='module' class='tab' rel='phppe/init'>
<h2>Module Tutorial</h2>
<h3>Configuration</h3>
<tt>vendor/phppe/MyModule/config.php:</tt><br>
<pre class='php'>
//Configuration
return array(
    "dosomething" =&gt; true
);
</pre>
<h3>Translation</h3>
<tt>vendor/phppe/MyModule/lang/en.php:</tt>
<pre class='php'>
return array (
    "tutorialmod_helloworld" => "Hello World: "
);
</pre>
<h3>Initialization</h3>
The initialization file will be loaded for each module in a SysV init style. For that, filename is strict:<br>
<tt>vendor/phppe/<i>MyModule</i>/<i>99_MyModule</i>.php</tt>
<h4>Wrappers</h4>
There are used to route urls to a specific class and method defined outside of PHPPE's scope.
<pre class='php'>
&lt;?php
PHPPE::route("mymodule/myaction/(0-9]+)/([a-z]+)","MyClass","myMethod");
</pre>
<h3>Service Provider classes</h3>
These classes will be used by applications for services. They have to be initialized by PHPPE::lib().<br>
<pre class='php'>
&lt;?php
class MyModule {
    public $version = "1.0.0";
    private $dosomthingextra = false;

    //some service your module provides
    function exampleService( $a, $b, $c ) {
	return ( L("tutorialmod_helloworld") . round( $a + $b - $c ) );
    }

    //initialize our module
    function init($cfg)
    {
	//Register our module with dependency check (also loads multilanguage dictionary)
	PHPPE::lib(
		"MyModule",			//unix name
		"My Module's description",	//description, will be translated
		array( "DB", "Users" ),		//dependencies
		$this
	);

	//parse and validate your configuration here
	if( !empty( $cfg["dosomething"] ) )
		$this->dosomethingextra = true;

	//Do any module specific tests here, use PHPPE::log() to indicate errors
	if( $this->dosomething ) {
	    //Do feature specific tests here. If some test fails,
	    //Use PHPPE::log('E',...) for high level modules,
	    //	if your module called by applications directly (no other module depends on it)
	    //Use PHPPE::log('C',...) for low level modules,
	    //	if you expect other modules dependenting on your module
	    ...
	    PHPPE::log ( 'D', "Feature dosomething initialized." );
	} else
	    PHPPE::log ( 'D', "Feature dosomething disabled." );

	//register menu
	PHPPE::menu( L( "MyModule" ), "mymodule/myaction" );
    }

    //register a dock item on PHPPE panel
    function dock()
    {
	echo( "&lt;img alt='That is me!" . ( $this->dosomething ? " ds" : "" ) . "'>" );
    }
}
</pre>
In runtime you can access the service as simply as
<pre class='php'>
PHPPE::lib("MyModule")->exampleService(1,2,3);
</pre>
<br><b>NOTE:</b> the following module names are reserved: core, DS, DB, MC, Registry, CMS, Email, Users, Developer and Extensions.
</div>

<div id='fieldtut' class='tab' rel='phppe/libs'>
<h2>Field Tutorial</h2>
See <a href='javascript:tab_switch("addon");'>PHPPE::addon()</a> and <a href='javascript:tab_switch("addonstemp");'>templater</a>.<br><br>
You can use this field in view templates as:
<pre>
&lt;!field tutorialfld(1,2,3,4,5,6) obj.field1 opt1 opt2>
&lt;!var tutorialfld(1,2,3,4,5,6) obj.field1 opt1 opt2>
</pre>
The "field" tag calls the edit() hook unconditionally which renders editable value. Return an error message if referenced add-on is not installed.<br>
The "var" tag calls show(), unless edit mode ($_SESSION['pe_<b>e</b>']) is true. (Note <a href='javascript:tab_switch("widget");'>widget tag</a> checks <b>configuration mode</b>). Also,
if no show() method defined, or the add-on is not installed at all, &lt;!var> tag gives no error but simply displays plain value.<br>
<br>
<tt>vendor/phppe/tutorialfld/addons/tutorialfld.php:</tt>
<pre class='php'>
namespace PHPPE;
class tutorialfld extends AddOn {
    //initialize - this is used by view template editor to get configuration for this field
    //also called before the first "show" or "edit" method call
    function init()
    {
	PHPPE::addon( "tutorialfld", "Field tutorial" );
	//Include field specific stylesheet
	PHPPE::css( "tutorialfld.css" );
	//Include field's JavaScript
	PHPPE::jslib( "tutorialfld.js", "tutorialfld_init();" );
	PHPPE::jslib( "additional.js" );
	PHPPE::jslib( "more.js" );
    }

    //Value validator
    //OPTIONAL, but recommended
    static function validate( $name, &$value,$args,$attrs )
    {
	//do your check here
	if( !preg_match("/^[-]?[0-9\,\.\ ]+$/", $value) ) {
	    return array( false, "bad value!" );
	}
	return array( true, "value passed" );
    }

    //function to show the field's value
    //OPTIONAL, only "var" tag requires it
    function show( )
    {
	//in this example, it will receive:
	//  $this->value = from data source (like file, db, memcache etc.)
	//  $this->args = array( 1, 2, 3, 4, 5, 6 );
	//  $this->attrs = array ( "opt1", "opt2" );
	return htmlspecialchars($this->value);
    }

    //function to create HTML output for this addon
    function edit( ) {
	//in this example, it will receive:
	//  $this->value = either from data source, or validated user input on change
	//  $this->args = array( 1, 2, 3, 4, 5, 6 );
	//  $this->attrs = array ( "opt1", "opt2" );

	//Return HTML code for the field instance
	//  $this->css will be either "input" or "reqinput"
	//  $this->err is set when validation failed, and changes the background.
        //  also note that "." is not allowed in html input names, so replace it
	return
	    "&lt;input type='text' ".
	    "onchange='tutorialfld_dosomething(this);' ".
	    "class='" . $this->css ." myinput' ".
	    "name='" . str_replace( ".", "_", $this->name ) . "' ".
	    "value='" . htmlspecialchars( $this->value ) . "' ".
	    $this->err . " onfocus='this.style.background=\"\";'>";
    }

}
</pre>
<br><tt>vendor/phppe/lang/tutorialfld_en.php:</tt>
<pre class='php'>
return array (
    "tutorialfld_error" => "Invalid value!"
);
</pre>
<tt>vendor/phppe/tutorialfld/css/tutorialfld.css:</tt>
<pre>
.myinput { }
</pre>
<tt>vendor/phppe/tutorialfld/js/tutorialdfld.js:</tt>
<pre class='php'>
function tutorialfld_init() { }
function tutorialfld_dosomething(obj) { alert(obj.value); }
</pre>

</div>

<div id='widget' class='tab'>
<h2>Widget Tutorial</h2>
See <a href='javascript:tab_switch("addon");'>PHPPE::addon()</a> and <a href='javascript:tab_switch("addonstemp");'>templater</a>.<br><br>
You can use this field in view templates as:
<pre>
&lt;!widget tutorialwgt(1,2,3,4,5,6) instancename>
</pre>
The "widget" tag calls show(), unless configuration mode ($_SESSION['pe_<b>c</b>']) is true in which case it renders configuration panel by calling edit() hook.  (Note <a href='javascript:tab_switch("fieldtut");'>var tag</a> checks <b>edit mode</b>)<br><br>
Very similar to <a href='javascript:tab_switch("fieldtut");'>fields</a>, but methods has different usage.<br><br>
app/addons/tutorialwgt.php:
<pre class='php'>
namespace PHPPE;
class tutorialwgt extends AddOn {
    //initialize - this is used by view template editor to get configuration for this widget
    //also called right before the first "show" or "edit" method call once
    function init()
    {
	PHPPE::addon( "tutorialwgt", "Widget tutorial" );
	//Include widget specific stylesheet
	PHPPE::css( "tutorialwgt.css" );
    }

    //function to draw widget face
    function show( )
    {
	//Include widget's JavaScript - has to be done here since it requires instance name
	PHPPE::jslib( "tutorialwgt.js", "tutorialwgt_init('" . $this->name . "');" );
	//$this->args = array( 1, 2, 3, 4, 5, 6 );
	//$this->attrs = array ( $opts );
	return "face";
    }

    //function to create widget configuration form
    //OPTIONAL, leave it empty if there's no configuration at all
    function edit( ) {
	return "&lt;input type='text' onchange='tutorialwgt_saveconfig();' class='reqinput' ".
	    "name='" . $this->name . "_cfgopt1' value=''>&lt;br>\n" .
	    "&lt;input type='check' onchange='tutorialwgt_saveconfig();' name='" . $this->name . "_cfgopt2'> ".
	    L( "tutorialwgt_cfgopt2" );
    }

}
</pre>

</div>

<div id='downloads' class='tab' rel='production,deploy,download,source,git,github,latest'>
<h2>Downloads</h2>
<div class='dlbox'>
<img style='float:left;' src='data:image/png;base64,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'>
<b>PHPPE Core <small>(64k)</small></b><br>
Minified production version.<br>
<a onclick='phppe_download();'>Inlined</a>
<a href='http://phppe.org/index.php.txt' target='_new'>phppe.org</a>
<a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/public/index.php' target='_new'>github.com</a>
</div>
<div class='dlbox'>
<img style='float:left;' src='data:image/png;base64,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'>
<b>PHPPE Pack <small>(~80k)</small></b><br>
Core extensions.<br><br><span onclick='javascript:phppe_selftestpage();'>Self Test View <small>(24k)</small></span>
<a href='http://phppe.org/phppe3_pack.tgz' target='_new'>phppe.org</a>
<a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_pack.tgz' target='_new'>github.com</a>
<a href='https://github.com/bztsrc/phppe3/tree/master/vendor/phppe' target='_new'>Source</a>
</div>
<div class='dlbox'>
<img style='float:left;' src='data:image/png;base64,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'>
<b>PHPPE CMS <small>(40k)</small></b><br>
Content editor.<br>
<a href='http://phppe.org/phppe3_cms.tgz' target='_new'>phppe.org</a>
<a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_cms.tgz' target='_new'>github.com</a>
<a href='https://github.com/bztsrc/phppe3/tree/master/vendor/phppe/cms' target='_new'>Source</a>
</div>
<br style='clear:both;'>
<div class='dlbox'>
<img style='float:left;' src='data:image/png;base64,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'>
<b>PHPPE Source <small>(119k)</small></b><br>
Developer friendly version.
<a href='http://phppe.org/src.php.txt' target='_new'>phppe.org</a>
<a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/vendor/phppe/developer/src/index.php' target='_new'>github.com</a>
<a href='https://github.com/bztsrc/phppe3/tree/master' target='_new'>Browse online</a>
</div>
<div class='dlbox'>
<img style='float:left;' src='data:image/png;base64,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'>
<b>PHPPE Developer <small>(61k)</small></b><br>
Tests and repository build tools.<br>
<a href='http://phppe.org/phppe3_devel.tgz' target='_new'>phppe.org</a>
<a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_devel.tgz' target='_new'>github.com</a>
<a href='https://github.com/bztsrc/phppe3/tree/master/vendor/phppe/developer' target='_new'>Source</a>
</div>
<div class='dlbox'>
<img style='float:left;' src='data:image/png;base64,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'>
<b>PHPPE Extensions <small>(24k)</small></b><br>
Web-based extension manager.<br>
<a href='http://phppe.org/phppe3_extmgr.tgz' target='_new'>phppe.org</a>
<a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_extmgr.tgz' target='_new'>github.com</a>
<a href='https://github.com/bztsrc/phppe3/tree/master/vendor/phppe/extensions' target='_new'>Source</a>
</div>
<br style='clear:both;'>
<div class='dlbox'>
<img style='float:left;' src='data:image/png;base64,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'>
<b>PHPPE ClassMap <small>(4k)</small></b><br>
Class autoloader.<br>
<a href='http://phppe.org/phppe3_classmap.tgz' target='_new'>phppe.org</a>
<a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_classmap.tgz' target='_new'>github.com</a>
<a href='https://github.com/bztsrc/phppe3/tree/master/vendor/phppe/classmap' target='_new'>Source</a>
</div>
<div class='dlbox'>
<img style='float:left;margin-bottom:16px;' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAMAAADlCI9NAAABtlBMVEUAAAC7EEEAAAB1qScAAAC4D0DPEUhzpibOEUdRBhw0BBI6BBQVAQYAAAApOw0aAQkAAAAAAADYEkuGCy53CilijiEtAw8kAgwBAQC0Dz5jCCJNbxlABRUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADcEkywDz2PDDI+WhQNEwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABoCCQ5UhMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABHZxhFZBcAAAAAAAAAAAABAQASGQYQFwQIBAIAAAAAAAAAAAAAAAAAAQCHwy1DYhYXIQcAAAAAAAC7EEF0qCe8EEHGEUXDEES+EEK5D0DKEUZ5ryjSEkl3rSiAuSt7sinIEUXCEEN1qCfMEUcDBAB+tip2qydzpyabDTZXBx7LEUbFEES7D0GtDjyDvixvoSVNBhooAw2oDjqhDThxpSZHBRggAgsQAQXAEEKWDDSCCy1+CitzCScGAAFuCSYkNQwLAAPTEknQEUiLCzB5CipeByBfiR9YgB3VEko1TBEHCgGSDDJVexxRdRsKEANlkiIvRQ9snSQdKgnjE05qmSMSGgVr3NcAAAAATnRSTlMA/v7+/P7+/v7+/v7+8v7+igL+/v7+/v4Q/v7+/r+TWkEpFerh/v7+/v7PxralnHhKM/7+07F0Y088BgP+/vbbHwz+/vvNqX5tOf7+/taehrN6AAAH6UlEQVRo3rSUzU/bQBDFVx6kPWGlB0uRrAINOSRAgShAKSUFQVtRKKO5rXZXsvxxsy+++2YrUb6I4D/uWBG9V4p/65XWM4f39u1qxX/SGVycnxye7158agvxQaz5Jq7alw8Xzzs7v04Hoq43xG3ruIsYYs1296gt3rns3mDdqFtHx19EM+zufJ/Mse+uFsW0cN/Yw1Fn3bhhZfftetyb3i0xnIeHrVuxefZwgvdZOUtlbGKdv8yuEffbHPcDouONotcITKasn1VbYfhTbJ6v6Ea5tlZqggC0ttHMx8O6Pq8qY0FBnMSarALI+x/F5jnFrdISSa2ADQQBSJuOcVccYJUqWReAYgWSIBpiEwm0cPkSE2RVqSJJRKwHKjzYwyKt/4ilTV6VvFLln+0GLkEH+6WmJJbTpW8jSABIRj3nDD2VEMvrSA7HHnBDjfBYbJ4r/PEEwFJKD+/8yEqiQHmI9/UKpIHx3cxqIIoztxED4jNeKwIe0mSreWk0kX6dOCuTU2LNEw5tlENABNrFgWiAAXLaFNQpqNTHQlupPAf7Ns/NYn6/SOOEAjZgR/jMj+Pm6exPZjYBqEPITdZ3qjR1HUT/0fScZaQlEAEEcTzGlmiE37jlqVqGP6nSAnuuwwacUYE+bx+Igdz08EA0xH7Yi2OWD3gAmLGDbKCe0zQnrvBM1EuBJ6IhOl1cGSVZniiQxn83EGYK1gaSdBHyATQGP7tDzypIKAFDk38JFI+aEiKtdOWGZ6JBLv/SVm89TURRFIDnLM4Zp4VKQrGlBi+oQJQQXrw8aGJ48ZKYNenMdCyEZiDpSJu2NL1fbBEMEoya+pMdwPoLPF9ykrOfd9bar/nh96/KzMfdg1uPMUXcrOwe7MxUKheQm9uGTtsJuX9+cePrq88S/xA4//n9x863fcm7hm4bxBUJDBpfjsrF22lGEyFB8oWh2YOnZDNc7PVqErMZ0/c813ROgHQsrKYIYsvQaiXBWj0IHOcsjTDv2kKUbOFZZTQmTmCq/ojcNDR6mWDMcnLKO1tG01LiWlaZPbk4VsozM03Jt4Y+m1xeEJF8FYjnM2LKLUskTZUVrtMi3xu6rHCw5gq7cFwlgU7ei1ZgR89bHYJMjm2R+7QOPjN02WLDtFXbnwVBcliwHNd1nWNvSIIYjm0766cktTXBHXZ9YakaSALgfKxbrBe7sRYBAgwtN2edSt43NHnEesFcHwCcbwyH1blpFbf65bVyLwWmlH+YlHxuaPKQ3mFVAuh7pr9nejECJGYPg7bX9v0kMequ1qW2a7REGR8BaGWstogUFk4RqZnudRrz5RYQr4JvDC2WnlCCkKO1PSWuqGAeQMfJRX87Gv0iAErqqYKlBOfCAXAZePFX0AfmHDGlxmE095rUsoQNptUkJJtWzi6VovhHmXM7YDzIZe1L0RLcI/Jk4sbJe8b/9o5/ejO31raBIAprh13jW3CbmKQxcZu0TQO9N7T0BimFto9HaCULPUj4xfEFYgc7juOExHYg4L/dWcWmP6CSP0uwRsZzdka7R7squTqcEso+p9tEc4QTnRIVMoqbtmAcz+/SqdvyB5DfrET5bq1xrYVucMlbcTyHP8JlAd2mEbAg6FNPi1YjeUd4j81A2bqBy57rOG3RNvedo0eES9Pg0yRFBMdgASqzhaQfzB6jwrUP50YAe3A7FqCCHQJG9drCE9rGpU61qGWOsbZnJcprbPii5s9ABy2OVjMjrxZ1iICS9mwjhw9PdzEN2ZLGSHo+rvIf2yJbAeWC5Sj0ggIZbu+MGqMhPCW6qgvhl4H3VqL8QbnJPdsByY6r7Lbp893xwguuAk9xGZSX7QL9rGJHAr5aifIA3HOlL0GypG7c4dDNhDkiGmyWiND3Ms0wvPHyZqL2lQryeJbwFsUefrVU65wAPsYd2+6Ni9gauU2/LspnoJOL+YgTAqYReS+AqpUoD63fOFxf35FEfNDlYEBS5kJfMSI73KHFBUPB/A5frITZAzZmAIEWILfuxWNfCO8uH18ASpV5BYfHElXWnDDvIIHj6UWBKI52ppWIhx9PQ+6Ly1jAiTtx9ysAnj21kgeSTvZdHTQG0qT78N4Unfic9EFSjoNIsBiZ0gLtI+hA82BrhXli5qFY4Dg1vwySV3dGkjfckmyGKfAZPM2apEcZLgO3xRJH6Cl4PrIF027mJb5bKbB3hEZL3JtQkcAZWGILf4aSv7gnmvm0lmevcOHbcYfrByA2J3FvQo5tZ3cwbbIyU4Koy2MwFd4gx0GNAE8P6FpzaP7Cp607sjgcxm3hbl/LD1Yq7EJGyo5zPrklOgmWNmxnNvmbKQVTL6e4S4bDm7jQNfecJOWyzchxPDfjFkhe+Hz/8RVPn6W3MHkPnE+UMGE6RITiaNv1o874GkSNKM6Ak8njeXovjd5CNoLIZKBnBBDOupvd63h6PnfN8Gjd9IEPVnq8hrxVk2xmP0f/iAXk9rVbn/Q2zZNImjwGzgqVwzwZSrnZaGPj4nbLiOhPz8cFYO0rFyBNdquABEAy1+OnEK116Ge3+xKQJLH2gKOnzZNfJhjN1iMl7lHReh4kgeojaxX8/GQUHPxbItZcVZSEo8/Wqth9CVz3sss9Ih1uAXjwlKu/MvaqkLN63XPYmYJGEXj3zVoxb4Fuedvz7HkBONq1Vs+T5wCKRQmA32OvHK73t8+f1kD48fh/dib/AnAUIHVpMA/lAAAAAElFTkSuQmCC'>
<b>PHPPE GPIO <small>(5k)</small></b><br>
GPIO Interface for Raspberry Pi.<br>
<a href='http://phppe.org/phppe3_gpio.tgz' target='_new'>phppe.org</a>
<a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_gpio.tgz' target='_new'>github.com</a>
<a href='https://github.com/bztsrc/phppe3/tree/master/vendor/phppe/gpio' target='_new'>Source</a>
</div>
<div class='dlbox'>
<img style='float:left;margin-bottom:16px;' src='data:image/png;base64,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'>
<b>PHPPE RPi <small>(8k)</small></b><br>
Web-based monitoring tool for Raspberry Pi.<br>
<a href='http://phppe.org/phppe3_rpi.tgz' target='_new'>phppe.org</a>
<a href='https://raw.githubusercontent.com/bztsrc/phppe3/master/phppe3_rpi.tgz' target='_new'>github.com</a>
<a href='https://github.com/bztsrc/phppe3/tree/master/vendor/phppe/rpi' target='_new'>Source</a>
</div>

</div>

</div>
<script type='text/javascript'>
function phppe_download()
{
    window.open(/*core*/"data:text/plain;base64,PD9waHAKLyoKICogIFBIUCBQb3J0YWwgRW5naW5lIHYzLjAuMAogKiAgaHR0cHM6Ly9naXRodWIuY29tL2J6dHNyYy9waHBwZTMvCiAqCiAqICBDb3B5cmlnaHQgTEdQTCAyMDE1IGJ6dAogKgogKiAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKICogIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZAogKiAgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICogIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCiAqCiAqICBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKICogIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiAqICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCiAqICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KICoKICogICA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4KICoKICogIFBIUFBFIENvcmUgLSBVc2UgYXMgaXMKICovCm5hbWVzcGFjZSBQSFBQRXtkZWZpbmUoIlZFUlNJT04iLCIzLjAuMCIpO2NsYXNzIEFkZE9ue3B1YmxpYyRhcmdzO3B1YmxpYyRuYW1lO3B1YmxpYyRmbGQ7cHVibGljJHZhbHVlO3B1YmxpYyRhdHRycztwdWJsaWMkY3NzO2ZpbmFsIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRhLCRuLCYkdiwkdD1bXSwkcj0wKXskdGhpcy0+YXJncz0kYTskdGhpcy0+bmFtZT0kbjskdGhpcy0+ZmxkPXMoJG4sIi4iLCJfIik7JHRoaXMtPnZhbHVlPSR2OyR0aGlzLT5hdHRycz0kdDskdGhpcy0+Y3NzPSgoIWVtcHR5KCRyKT8icmVxIjoiIikuImlucHV0IikuKENvcmU6OmlzRXJyb3IoJG4pPyIgZXJyaW5wdXQiOiIiKTt9ZnVuY3Rpb24gc2hvdygpe3JldHVybiAiIjt9fWNsYXNzIEZpbHRlcnt9Y2xhc3MgQXBwe31jbGFzcyBDdHJsIGV4dGVuZHMgQXBwe31jbGFzcyBNb2RlbHtwdWJsaWMkaWQ7cHVibGljJG5hbWU7cHJvdGVjdGVkIHN0YXRpYyRfdGFibGU7ZmluYWwgZnVuY3Rpb24gZmluZCgkcz1bXSwkdz0iIiwkbz0iIil7aWYoZW1wdHkoc3RhdGljOjokX3RhYmxlKSl0aHJvdyBuZXdcRXhjZXB0aW9uKCJubyBfdGFibGUiKTtyZXR1cm4gQ29yZTo6cXVlcnkoIioiLHN0YXRpYzo6JF90YWJsZSwkdz8kdzooJHM/ImlkPT8iOiIiKSwiIiwkbywwLDAsYSgkcyk/JHM6WyRzXSk7fWZpbmFsIGZ1bmN0aW9uIGxvYWQoJGk9MCwkdz0iIiwkbz0iIil7aWYoZW1wdHkoc3RhdGljOjokX3RhYmxlKSl0aHJvdyBuZXdcRXhjZXB0aW9uKCJubyBfdGFibGUiKTskcj1Db3JlOjpmZXRjaCgiKiIsc3RhdGljOjokX3RhYmxlLCR3PyR3OiJpZD0/IiwiIiwkbyxhKCRpKT8kaTpbJGk/JGk6JHRoaXMtPmlkXSk7aWYoIWVtcHR5KCRyKSl7Zm9yZWFjaCgkdGhpcyBhcyRrPT4kdilpZigka1swXSE9J18nKSR0aGlzLT4kaz1pc19zdHJpbmcoJHJbJGtdKSYmKCRyWyRrXVswXT09J3snfHwkclska11bMF09PSdbJyk/amQoJHJbJGtdKTokclska107cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9ZmluYWwgZnVuY3Rpb24gc2F2ZSgkZj0wKXtpZihlbXB0eShzdGF0aWM6OiRfdGFibGUpKXRocm93IG5ld1xFeGNlcHRpb24oIm5vIF90YWJsZSIpOyRkPUNvcmU6OmRiKCk7aWYoZW1wdHkoJGQpKXRocm93IG5ld1xFeGNlcHRpb24oIm5vIGRzIik7JGE9W107Zm9yZWFjaCgkdGhpcyBhcyRrPT4kdilpZigka1swXSE9J18nJiYoJGZ8fCRrIT0naWQnKSYmJGshPSdjcmVhdGVkJykkYVska109aXNfc2NhbGFyKCR2KT8kdjpqc29uX2VuY29kZSgkdik7aWYoIUNvcmU6OmV4ZWMoKCR0aGlzLT5pZCYmISRmPyJVUERBVEUgIi5zdGF0aWM6OiRfdGFibGUuIiBTRVQgIi5pbXBsb2RlKCI9PywiLGFycmF5X2tleXMoJGEpKS4iPT8gV0hFUkUgaWQ9Ii4kZC0+cXVvdGUoJHRoaXMtPmlkKToiSU5TRVJUIElOVE8gIi5zdGF0aWM6OiRfdGFibGUuIiAoIi5pbXBsb2RlKCIsIixhcnJheV9rZXlzKCRhKSkuIikgVkFMVUVTICg/Ii5zdHJfcmVwZWF0KCIsPyIsY291bnQoJGEpLTEpLiIpIiksYXJyYXlfdmFsdWVzKCRhKSkpcmV0dXJuIGZhbHNlO2lmKCEkdGhpcy0+aWQpJHRoaXMtPmlkPSRkLT5sYXN0SW5zZXJ0SWQoKTtyZXR1cm4kdGhpcy0+aWQ7fX1jbGFzcyBDbGllbnR7cHVibGljJGlwO3B1YmxpYyRhZ2VudDtwdWJsaWMkdXNlcjtwdWJsaWMkdHo7cHVibGljJGxhbmc7cHVibGljJHNjcmVlbj1bXTt9Y2xhc3MgVXNlciBleHRlbmRzIE1vZGVse3B1YmxpYyRpZD0wO3B1YmxpYyRuYW1lPSJBbm9ueW1vdXMiO3B1YmxpYyRkYXRhPVtdO3ByaXZhdGUkYWNsPVtdO2ZpbmFsIGZ1bmN0aW9uIGhhcygkbCl7Zm9yZWFjaChhKCRsKT8kbDp4KCJ8IiwkbCkgYXMkYSl7JGE9cigkYSk7aWYoIWVtcHR5KCR0aGlzLT5pZCkmJigkdGhpcy0+aWQ9PS0xfHwkYT09ImxvZ2dlZGluInx8IWVtcHR5KCR0aGlzLT5hY2xbJGFdKXx8IWVtcHR5KCR0aGlzLT5hY2xbIiRhOiIuc2VsZjo6JGNvcmUtPml0ZW1dKSkpcmV0dXJuIDE7fXJldHVybiAwO31maW5hbCBmdW5jdGlvbiBncmFudCgkbCl7Zm9yZWFjaChhKCRsKT8kbDp4KCJ8IiwkbCkgYXMkYSl7JGE9cigkYSk7aWYoIWVtcHR5KCR0aGlzLT5pZCkmJiFlbXB0eSgkYSkpJHRoaXMtPmFjbFskYV09MTt9fWZpbmFsIGZ1bmN0aW9uIGNsZWFyKCRsPSIiKXtpZihlbXB0eSgkbCkpJHRoaXMtPmFjbD1bXTtlbHNle2ZvcmVhY2goYSgkbCk/JGw6eCgifCIsJGwpIGFzJGEpeyRhPXIoJGEpO3Vuc2V0KCR0aGlzLT5hY2xbJGFdKTtmb3JlYWNoKCR0aGlzLT5hY2wgYXMkaz0+JHYpaWYoeigkaywwLHUoJGEpKzEpPT0kYS4iOiIpdW5zZXQoJHRoaXMtPmFjbFska10pO319fX1jbGFzcyBDb250ZW50e2Z1bmN0aW9uIGFjdGlvbigkYSl7aWYoIWVtcHR5KENvcmU6OiRjb3JlLT5ub2N0cmwpfHxlbXB0eSgkYVsnY3RybCddKXx8IUNvcmU6OmlzdHJ5KCkpcmV0dXJuO29iX3N0YXJ0KCk7ZXZhbCgibmFtZXNwYWNlIFBIUFBFXEN0cmw7XG51c2UgUEhQUEVcQ29yZSBhcyBQSFBQRTtcbiIuJGFbJ2N0cmwnXSk7cmV0dXJuIG8oKTt9fWRlZmluZSgnTScsInZlbmRvci8iKTtkZWZpbmUoJ04nLE0uInBocHBlLyIpO2RlZmluZSgnUCcsTi4iY29yZS8iKTtkZWZpbmUoJ1BFJywiLnBocCIpO2RlZmluZSgnQycsIlxcUEhQUEVcXCIpO2RlZmluZSgnQScsQy4iQWRkT25cXCIpO2RlZmluZSgnSScsImluZGV4Iik7Y2xhc3MgQ29yZXtwcml2YXRlJGlkO3B1YmxpYyRiYXNlO3B1YmxpYyRzaXRlO3B1YmxpYyRydW5sZXZlbD0yO3B1YmxpYyRhcHA7cHVibGljJGFjdGlvbjtwdWJsaWMkaXRlbTtwdWJsaWMkZm9ybTtwdWJsaWMkbm93O3B1YmxpYyRuZWVkZnJhbWU9dHJ1ZTtwdWJsaWMkbmVlZGVycm9yPXRydWU7cHVibGljJHN5c2xvZz1mYWxzZTtwdWJsaWMkdGltZW91dDtwdWJsaWMkb3V0cHV0O3B1YmxpYyR0ZW1wbGF0ZTtwdWJsaWMkbWFpbGVyO3B1YmxpYyRjYWNoZTtwdWJsaWMkY2FjaGV0dGw9NjAwO3B1YmxpYyBzdGF0aWMkY29yZTtwdWJsaWMgc3RhdGljJHVzZXI7cHVibGljIHN0YXRpYyRjbGllbnQ7cHVibGljIHN0YXRpYyRsPVtdO3B1YmxpYyBzdGF0aWMkZm07cHJpdmF0ZSRtZXRhPVtdO3ByaXZhdGUkdHJ5O3ByaXZhdGUkc3RhcnRlZDtwcml2YXRlJGVycm9yO3ByaXZhdGUkbGlicztwcml2YXRlJGFkZG9ucztwcml2YXRlJGRpc2FibGVkO3ByaXZhdGUkanM7cHJpdmF0ZSRqc2xpYjtwcml2YXRlJGNzcztwcml2YXRlJG1lbnU7cHJpdmF0ZSBzdGF0aWMkcjtwcml2YXRlIHN0YXRpYyRuO3ByaXZhdGUgc3RhdGljJGM7cHJpdmF0ZSBzdGF0aWMkbztwcml2YXRlIHN0YXRpYyRwO3ByaXZhdGUgc3RhdGljJG1jO3ByaXZhdGUgc3RhdGljJHRjO3ByaXZhdGUgc3RhdGljJGRiO3ByaXZhdGUgc3RhdGljJHM7cHJpdmF0ZSBzdGF0aWMkYmlsbDtwcml2YXRlIHN0YXRpYyR3O3ByaXZhdGUgc3RhdGljJHY7c3RhdGljJGc7ZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGlzbGliPXRydWUpeyR0aGlzLT5zdGFydGVkPW1pY3JvdGltZSgxKTskY29yZT1zZWxmOjokY29yZT0mJHRoaXM7c2V0X2V4Y2VwdGlvbl9oYW5kbGVyKGZ1bmN0aW9uKFxFeGNlcHRpb24kZSl7c2VsZjo6bG9nKCdDJyxMKCJVbmNvdWdodCBleGNlcHRpb24iKS4iOiAiLiRlLT5nZXRNZXNzYWdlKCkuKCFlbXB0eShzZWxmOjokY29yZS0+dHJhY2UpPyJcblx0Ii5zKCRlLT5nZXRUcmFjZUFzU3RyaW5nKCksIlxuIiwiXG5cdCIpOiIiKSk7fSk7aW5pX3NldCgiZXJyb3JfbG9nIixuKF9fRElSX18pLiIvIi5QLiJsb2cvcGhwLmxvZyIpO2luaV9zZXQoImxvZ19lcnJvcnMiLDEpO2lmKHZlcnNpb25fY29tcGFyZShQSFBfVkVSU0lPTiwiNS41Iik8MClzZWxmOjpsb2coIkMiLCJQSFAgNS41LjAgcmVxdWlyZWQsIGZvdW5kICIuUEhQX1ZFUlNJT04pO2luaV9zZXQoImZpbGVfdXBsb2FkcyIsMSk7aW5pX3NldCgidXBsb2FkX3RtcF9kaXIiLG4oX19ESVJfXykuIi8udG1wIik7aW5pX3NldCgidXBsb2FkcHJvZ3Jlc3MuZmlsZS5maWxlbmFtZV90ZW1wbGF0ZSIsbihfX0RJUl9fKS4iLy50bXAvdXBkXyVzLnR4dCIpO2lmKHkoIm1iX2ludGVybmFsX2VuY29kaW5nIikpbWJfaW50ZXJuYWxfZW5jb2RpbmcoInV0Zi04Iik7aWYoZ2V0X21hZ2ljX3F1b3Rlc19ncGMoKSl7Zm9yZWFjaCgkX1JFUVVFU1QgYXMkaz0+JHYpaWYoaXNfc3RyaW5nKCR2KSkkX1JFUVVFU1RbJGtdPXN0cmlwc2xhc2hlcygkdik7ZWxzZWlmKGEoJHYpKWZvcmVhY2goJHYgYXMkSz0+JFYpaWYoaXNfc3RyaW5nKCRWKSkkX1JFUVVFU1RbJGtdWyRLXT1zdHJpcHNsYXNoZXMoJFYpO30kYz1fX0ZJTEVfXztpZihmaWxlc2l6ZSgkYykhPTY1NTM1fHwnMjBmOGFmOTM3M2VmZDk5MzZhMzVkYjA0ZTVmNTc2NjljMTkwNjFiYichPXNoYTEocHIoIi9cJyhbXlwnXSspXCdcIVw9c2hhMS8iLCInJyE9c2hhMSIsZygkYykpKSlzZWxmOjpsb2coIkMiLCJDb3JydXB0ZWQgIi5tKCRjKSk7Y2hkaXIobihfX0RJUl9fKSk7JFM9JF9TRVJWRVI7JFI9JF9SRVFVRVNUOyRjPVAuImNvbmZpZyIuUEU7aWYoZigkYykpcmVxdWlyZV9vbmNlKCRjKTskdGhpcy0+aWQ9IlBIUFBFIi5WRVJTSU9OO2lmKCR0aGlzLT5ydW5sZXZlbDwwfHwkdGhpcy0+cnVubGV2ZWw+MykkdGhpcy0+cnVubGV2ZWw9MDtpZigkdGhpcy0+dGltZW91dDw2MCkkdGhpcy0+dGltZW91dD03KjI0KjM2MDA7aWYoJHRoaXMtPmNhY2hldHRsPDEwKSR0aGlzLT5jYWNoZXR0bD0xMDtpZighZW1wdHkoJHRoaXMtPmFsbG93ZWQpJiYhYSgkdGhpcy0+YWxsb3dlZCkpJHRoaXMtPmFsbG93ZWQ9eCgiLCIsJHRoaXMtPmFsbG93ZWQpO2luaV9zZXQoImRpc3BsYXlfZXJyb3JzIiwkdGhpcy0+cnVubGV2ZWw+MT8xOjApOyR0aGlzLT5ub3c9dGltZSgpOyR0aGlzLT5lcnJvcj0kdGhpcy0+anM9JHRoaXMtPmpzbGliPSR0aGlzLT5jc3M9JHRoaXMtPmxpYnM9W107JHRoaXMtPnNlYz0odChnZXRlbnYoIkhUVFBTIikpPT0ib24iKT8xOjA7c2VsZjo6JHc9aXNzZXQoJFNbJ1JFUVVFU1RfTUVUSE9EJ10pPzE6MDskdGhpcy0+b3V0cHV0PXNlbGY6OiR3PyJodG1sIjoidHR5IjskdGhpcy0+dHJ5PXNlbGY6OiR0Yz0wOyRjPSRTWydTQ1JJUFRfTkFNRSddOyRDPW4oJGMpO2lmKCRDIT0iLyIpJEMuPSIvIjskZD0iU0VSVkVSX05BTUUiOyR0aGlzLT5iYXNlPSghZW1wdHkoJHRoaXMtPmJhc2UpPyR0aGlzLT5iYXNlOighZW1wdHkoJFNbJGRdKT8kU1skZF06ImxvY2FsaG9zdCIpKS4oJENbMF0hPSIvIj8iLyI6IiIpLiRDO2xpc3QoJGQpPXgoIj8iLEAkU1snUkVRVUVTVF9VUkknXSk7Zm9yZWFjaChbJGMsbigkYyldIGFzJEMpaWYoJEMhPSIvIiYmeigkZCwwLHUoJEMpKT09JEMpeyRkPXcoJGQsdSgkQykpO2JyZWFrO30kRD0iLS1kdW1wIjskQT0iYXJndiI7JGQ9eCgiLyIsIWVtcHR5KCRkKT8kZDoiLy8iKTtmb3JlYWNoKFsxPT4iYXBwIiwyPT4iYWN0aW9uIiwzPT4iaXRlbSJdIGFzJGM9PiR2KSR0aGlzLT4kdj0hZW1wdHkoJGRbJGNdKT90KCRkWyRjXSk6KCFlbXB0eSgkUlskdl0pP3IodCgkUlskdl0pKTooIXNlbGY6OiR3JiYhZW1wdHkoJFNbJEFdWyRjXSkmJiRTWyRBXVskY10hPSREP3IodCgkU1skQV1bJGNdKSk6KCRjPDM/KCRjPT0xP0k6ImFjdGlvbiIpOiIiKSkpOyRjPSR0aGlzLT5hcHAuIl8iLiR0aGlzLT5hY3Rpb247aWYoc3RycG9zKCRjLCIuLiIpIT09ZmFsc2V8fHN0cnBvcygkYywiLyIpIT09ZmFsc2V8fHcoJHRoaXMtPmFwcCwtNCk9PVBFfHx3KCR0aGlzLT5hY3Rpb24sLTQpPT1QRSkkdGhpcy0+cmVkaXJlY3QoIjQwMyIpOyR0aGlzLT50ZW1wbGF0ZT0kYzskYz1zZWxmOjpzaSgicG9zdF9tYXhfc2l6ZSIpOyRkPXNlbGY6OnNpKCJ1cGxvYWRfbWF4X2ZpbGVzaXplIik7JHY9c2VsZjo6c2koIm1lbW9yeV9saW1pdCIpO2lmKCRjPiRkJiYkZCkkYz0kZDtzZWxmOjokZm09KCRjPiR2JiYkdj8kdjokYyk7aWYoIXNlbGY6OiR3JiYhZW1wdHkoJFNbJEFdWzFdKSl7aWYoaWEoIi0tdmVyc2lvbiIsJFNbJEFdKSlkaWUoVkVSU0lPTi4iXG4iKTtpZihpYSgiLS1oZWxwIiwkU1skQV0pKWRpZSgiUEhQIFBvcnRhbCBFbmdpbmUgIi5WRVJTSU9OLiIsIExHUEwgMjAxNSBienRcblxucGhwICIubShfX0ZJTEVfXykuIiAoY21kIHwgW2FwcGxpY2F0aW9uIFthY3Rpb24gW2l0ZW1dXV0gKSBbICREIF1cblxuQ29tbWFuZHM6XG4gLS12ZXJzaW9uXG4gLS1kaWFnIFstLWdpZD14XVxuIik7fSR2PSJsaWJzL3Bhc3MiLlBFOyRjPSJhcHAvJHYiO2lmKGYoJGMpKWlvKCRjKTtlbHNleyRjPVAuJHY7aW8oJGMpO30kYz1QLiJsaWJzL21pbmlmeSIuUEU7aWYoZW1wdHkoJHRoaXMtPm5vbWluaWZ5KSlpbygkYyk7aWYoIXkoQy4ibWluaWZ5Iikpe2Z1bmN0aW9uIG1pbmlmeSgkdCwkVCl7cmV0dXJuJHQ7fX0kYz1NLiJhdXRvbG9hZCIuUEU7aWYoZigkYykpQGlvKCRjKTtzZWxmOjokcj1bXTskZD1AZ2xvYihOLiIqLypfKiIuUEUsR0xPQl9OT1NPUlQpO3Vzb3J0KCRkLGZ1bmN0aW9uKCRhLCRiKXtyZXR1cm4gc3RyY21wKG0oJGEpLG0oJGIpKTt9KTtmb3JlYWNoKCRkIGFzJGYpe2lmKHAoIi8oW15cL10rKVwvKFswLTldezJ9XyhbXlwuXSspXC5waHApJC8iLCRmLCRtKSYmJG1bMV09PXQoJG1bM10pJiYhaWEoJG1bM10sJHRoaXMtPmRpc2FibGVkKSl7JGM9Qy4kbVsxXTtpbygkZik7aWYoY2UoJGMpJiZ0KCRjKSE9IlxcIi50KF9fQ0xBU1NfXykpeyRDPW5ldyRjKCk7aWYoJG1bMV0hPSJEUyImJmVtcHR5KCR0aGlzLT5saWJzW3QoJG1bMV0pXSkpJHRoaXMtPmxpYnNbdCgkbVsxXSldPSRDO319fWlmKCFzZWxmOjokdyYmKCghZihQLiJjb25maWciLlBFKSYmISRpc2xpYil8fCghZW1wdHkoJFNbJEFdWzFdKSYmJFNbJEFdWzFdPT0iLS1kaWFnIikpKSR0aGlzLT5ib290ZGlhZygpO2Vsc2V7JHRoaXMtPmJvb3RzdHJhcCgpO2lmKCEkaXNsaWIpJHRoaXMtPnJ1bigpO319cHJpdmF0ZSBmdW5jdGlvbiBib290ZGlhZygpe2hlYWRlcigiQ29udGVudC1UeXBlOnRleHQvcGxhaW4iKTtpZighZXh0ZW5zaW9uX2xvYWRlZCgicG9zaXgiKSYmeSgiZGwiKSlAZGwoKFBIUF9TSExJQl9TVUZGSVg9PSJkbGwiPyJwaHBfIjoiIikuInBvc2l4LiIuUEhQX1NITElCX1NVRkZJWCk7aWYoIWVtcHR5KCRfU0VSVkVSWydhcmd2J11bMl0pJiZ6KCRfU0VSVkVSWydhcmd2J11bMl0sMCw2KT09Ii0tZ2lkPSIpJGdbImciXT1pbnR2YWwodygkX1NFUlZFUlsnYXJndiddWzJdLDYpKTtlbHNlaWYoeSgicG9zaXhfZ2V0cHduYW0iKSlmb3JlYWNoKFsid3d3IiwiX3d3dyIsInd3dy1kYXRhIiwiaHR0cCIsImh0dHBkIiwiYXBhY2hlIiwibmdpbngiXSBhcyRuKXskZz1wb3NpeF9nZXRwd25hbSgkbik7aWYoIWVtcHR5KCRnWyJnaWQiXSkpeyRnWyJnIl09JGdbImdpZCJdO2JyZWFrO319aWYoZW1wdHkoJGdbImciXSkpc2VsZjo6JGc9MzM7ZWxzZSBzZWxmOjokZz0kZ1siZyJdOyRVPWZpbGVvd25lcihfX0ZJTEVfXyk7aWYoJHRoaXMtPnJ1bmxldmVsKWVjaG8oIkRJQUctSTogdWlkICRVIGdpZCAiLnNlbGY6OiRnLiJcbiIpO2Z1bmN0aW9uIGkoJGMsJHIsJGY9MCwkYT0wNjQwKXtpZighZigkYyl8fCRmKXtpZighZigkYykpZWNobygiRElBRy1BOiAkY1xuIik7ZmlsZV9wdXRfY29udGVudHMoJGMsJHIpO31pZihmKCRjKSYmKCFAY2hncnAoJGMsXFBIUFBFXENvcmU6OiRnKXx8IUBjaG93bigkYyxmaWxlb3duZXIoX19GSUxFX18pKSkpZWNobygiRElBRy1FOiBjaG93bi9jaGdycCAkY1xuIik7cmV0dXJuIUBjaG1vZCgkYywkYSk7fSRFPSIiOyRDPTA3NTA7JFc9MDc3NTtpZih5KCJwb3NpeF9nZXR1aWQiKSYmcG9zaXhfZ2V0dWlkKCkhPTApZWNobygiRElBRy1XOiBub3Qgcm9vdCBvciBubyBwaHAtcG9zaXgsIGNob3duL2NoZ3JwIG1heSBmYWlsIVxuIik7JG89dW1hc2soMCk7QHN5bWxpbmsoTi4iY29yZSIsInBocHBlIik7JEQ9WyIudG1wIj0+JFcsImRhdGEiPT4kVywiYXBwIj0+MCxNPT4wNzU1LE0uImJpbiI9PjAsTj0+MCxOLiJjb3JlIj0+MCxQLiJsb2ciPT4kVyxQLiJ2aWV3cyI9PjAsUC4iY3RybCI9PjAsUC4ibGFuZyI9PjAsUC4ibGlicyI9PjAsUC4ib3V0Ij0+MCxQLiJzcWwiPT4wLCJwdWJsaWMvaW1hZ2VzIj0+MCwicHVibGljL2NzcyI9PjAsInB1YmxpYy9qcyI9PjAsImFwcC9jdHJsIj0+MCwiYXBwL2xhbmciPT4wLCJhcHAvbGlicyI9PjAsImFwcC92aWV3cyI9PjBdOyRBPVsiKiIsIiovKiIsIiovKi8qIiwiKi8qLyovKiIsIiovKi8qLyovKiJdO2ZvcmVhY2goJEEgYXMkdikkRCs9YXJyYXlfZmlsbF9rZXlzKEBnbG9iKE0uJHYpLDApO2ZvcmVhY2goJEQgYXMkZD0+JHApe2lmKGlzX2ZpbGUoJGQpKXskeD1zdWJzdHIoJGQsMCw0KT09Ii50bXAifHxzdWJzdHIoJGQsMCw0KT09ImRhdGEifHxzdWJzdHIoJGQsMCwyMSk9PVAuImxvZyI7JFA9ZmlsZXBlcm1zKCRkKSYwNzc3OyRwPSR4PzA2NjA6MDY0MDt9ZWxzZXtpZighJHApJHA9JEM7aWYoIWlzX2RpcigkZCkmJiFpc19maWxlKCRkKSl7ZWNobygiRElBRy1BOiAkZFxuIik7aWYoIW1rZGlyKCRkLCRwKSlzZWxmOjpsb2coIkMiLCJjcmVhdGluZyAkZCIsImRpYWciKTt9JFA9ZmlsZXBlcm1zKCRkKSYwNzc3O31pZigkUCE9JHApeyRFLj1zcHJpbnRmKCJcdCUwM28/XHQlMDNvICIsJFAsJHApLiIkZFxuIjtAY2htb2QoJGQsJHApO31pZighQGNoZ3JwKCRkLHNlbGY6OiRnKXx8IUBjaG93bigkZCwkVSkpZWNobygiRElBRy1FOiBjaG93bi9jaGdycCAkZFxuIik7fUBzeW1saW5rKCIuLi8uLi9hcHAiLE4uImFwcCIpO2ZvcmVhY2goWyJpbWFnZXMiLCJjc3MiLCJqcyJdIGFzJHYpe2lmKCFmKCJhcHAvJHYiKSllY2hvKCJESUFHLUE6IGFwcC8kdlxuIik7QHN5bWxpbmsoIi4uL3B1YmxpYy8kdiIsImFwcC8kdiIpO311bWFzaygwMDI3KTtpKCJhcHAvY29uZmlnIi5QRSwiIik7aSgicHVibGljL2Zhdmljb24uaWNvIiwiIik7aShQLiJjb25maWciLlBFLCIiKTskVT0iaHR0cDovL3BocHBlLm9yZy8iOyREPVAuInZpZXdzLyI7JGU9Ii50cGwiOyRjPSI8IWR1bXAgY29yZS5yZXEyYXJyKCdvYmonKT4iO2koJEQuIjQwMyRlIiwiPGgxPjQwMzwvaDE+PCE9TCgnQWNjZXNzIGRlbmllZCcpPiIpO2koJEQuIjQwNCRlIiwiPGgxPjQwNDwvaDE+PCE9TCgnTm90IGZvdW5kJyk+OiA8Yj48IT1jb3JlLmFwcD48L2I+Iik7aSgkRC4iZnJhbWUkZSIsIjxkaXYgaWQ9J2NvbnRlbnQnPjwhYXBwPjwvZGl2PiIpO2koJEQuSS4kZSwiPGgxPlBIUFBFIHdvcmtzITwvaDE+TmV4dCBzdGVwOiBpbnN0YWxsIDxhIGhyZWY9JyIuJFUuInBocHBlMy5odG1sI2luc3RhbGw6MTk1NicgdGFyZ2V0PSdfbmV3Jz5QSFBQRSBQYWNrPC9hPi48YnIvPjxici8+PCFpZiBjb3JlLmlzdHJ5KCk+PGRpdiBzdHlsZT0nZGlzcGxheTpub25lOyc+JGM8L2Rpdj48IS9pZj48ZGl2IHN0eWxlPSdiYWNrZ3JvdW5kOiNGMEYwRjA7cGFkZGluZzozcHg7Jz48Yj5UZXN0IGZvcm08L2I+PC9kaXY+PCFmb3JtIG9iaj5UZXh0PCFmaWVsZCB0ZXh0KDYpIG9iai5mMD4gUGFzczwhZmllbGQgcGFzcyg2KSBvYmouZjE+IE51bSgxMDAuLjk5OSk8IWZpZWxkICpudW0oNiw2LDEwMCw5OTkpIG9iai5mMj48IWZpZWxkIGNoZWNrIG9iai5mMyBDaGVjaz4gIEZpbGU8IWZpZWxkIGZpbGUgb2JqLmY0PiA8IWZpZWxkIGNhbmNlbD4gIDwhZmllbGQgc3VibWl0PjwvZm9ybT48dGFibGUgd2lkdGg9JzEwMCUnPjx0cj48dGQgdmFsaWduPSd0b3AnIHdpZHRoPSc1MCUnPjwhZHVtcCBfUkVRVUVTVD48IWR1bXAgX0ZJTEVTPjwvdGQ+PHRkIHZhbGlnbj0ndG9wJz4kYzwvdGQ+PC90cj48L3RhYmxlPlxuIik7aSgkRC4ibG9naW4kZSIsIjwhZm9ybSBsb2dpbj48IWZpZWxkIHRleHQgaWQ+PCFmaWVsZCBwYXNzIHBhc3M+PCFmaWVsZCBzdWJtaXQ+PC9mb3JtPiIpO2koImNvbXBvc2VyLmpzb24iLCJ7XG5cdFwibmFtZVwiOlwiTm8gbmFtZVwiLFxuXHRcInZlcnNpb25cIjpcIjEuMC4wXCIsXG5cdFwia2V5d29yZHNcIjpbXCJwaHBwZTNcIixcIlwiXSxcblx0XCJsaWNlbnNlXCI6W1wiTEdQTC0zLjArXCJdLFxuXG5cdFwidHlwZVwiOlwicHJvamVjdFwiLFxuXHRcInJlcG9zaXRvcmllc1wiOltcblx0XHR7XCJ0eXBlXCI6XCJjb21wb3NlclwiLFwidXJsXCI6XCIkVVwifVxuXHRdLFxuXHRcInJlcXVpcmVcIjp7XCJwaHBwZVwiOlwiMy4qXCJ9LFxuXG5cdFwic2NyaXB0c1wiOntcInBvc3QtdXBkYXRlLWNtZFwiOlwic3VkbyBwaHAgcHVibGljL2luZGV4LnBocCAtLWRpYWdcIn1cbn1cbiIpO2koIi5naXRpZ25vcmUiLCIudG1wXG5waHBwZVxudmVuZG9yXG4iKTtpZigkRSlzZWxmOjpsb2coIkUiLCJXcm9uZyBwZXJtaXNzaW9uczpcbiRFIiwiZGlhZyIpOyREPVtdOyRjPSIvc3FsL191cGRhdGUtKi4iOyRkPXNlbGY6OmxpYigiZHMiKTtmb3JlYWNoKCRBIGFzJHYpZm9yZWFjaCgkZD9bIiIsJGQtPnByaW1hcnldOlsiIl0gYXMkcykkRCs9YXJyYXlfZmlsbF9rZXlzKEBnbG9iKE0uJHYuJGMuJHMuIi5zcWwiKSwwKTtpZihjb3VudCgkRCkpZWNobygiRElBRy1JOiBkYiB1cGRhdGVcbiIpO2ZvcmVhY2goJEQgYXMkZj0+JHYpeyRzPXgoIjsiLGcoJGYpKTtAdW5saW5rKCRmKTtmb3JlYWNoKCRzIGFzJHEpc2VsZjo6ZXhlYygkcSk7fSR0aGlzLT5fZWgoImRpYWciKTt1bWFzaygkbyk7ZGllKCJESUFHLUk6IE9LXG4iKTt9cHJpdmF0ZSBmdW5jdGlvbiBib290c3RyYXAoKXskUz0kX1NFUlZFUjskUj0kX1JFUVVFU1Q7c2Vzc2lvbl9uYW1lKCFlbXB0eSgkdGhpcy0+c2Vzc2lvbnZhcik/JHRoaXMtPnNlc3Npb252YXI6InBlX3NpZCIpO3Nlc3Npb25fc3RhcnQoKTtpZihpbmlfZ2V0KCJzZXNzaW9uLnVzZV9jb29raWVzIikpc2V0Y29va2llKHNlc3Npb25fbmFtZSgpLHNlc3Npb25faWQoKSx0aW1lKCkrJHRoaXMtPnRpbWVvdXQsIi8iLCRTWyJTRVJWRVJfTkFNRSJdLCFlbXB0eSgkdGhpcy0+c2Vjc2Vzc2lvbik/MTowLDEpOyRjPUMuIlVzZXIiOyR1PSRjLiJzIjtpZighY2UoJHUpfHwhaXNfc3ViY2xhc3Nfb2YoJHUsJGMpKSR1PSRjOyRMPSJwZV91IjtpZighZW1wdHkoJF9TRVNTSU9OWyRMXSkmJmlzX29iamVjdCgkX1NFU1NJT05bJExdKSlzZWxmOjokdXNlcj0kX1NFU1NJT05bJExdO2Vsc2Ugc2VsZjo6JHVzZXI9JF9TRVNTSU9OWyRMXT1uZXckdSgpO3NlbGY6OiRjbGllbnQ9bmV3IENsaWVudDtpZihzZWxmOjokdyl7JEw9J0hUVFBfSUZfTU9ESUZJRURfU0lOQ0UnO2lmKCEkdGhpcy0+cnVubGV2ZWwmJmlzc2V0KCRTWyRMXSkmJiRTWyRMXSskdGhpcy0+Y2FjaGV0dGw8JHRoaXMtPm5vdyl7aGVhZGVyKCdIVFRQLzEuMSAzMDQgTm90IE1vZGlmaWVkJyk7ZGllO31pZihpc3NldCgkUlsicGVfY2FuY2VsIl0pKSR0aGlzLT5yZWRpcmVjdCgpO2lmKGlzc2V0KCRSWydjbGVhciddKSl7JHU9JF9TRVNTSU9OWyRMXTskX1NFU1NJT049W107JF9TRVNTSU9OWyRMXT0kdTskdGhpcy0+cmVkaXJlY3QoKTt9aWYoIWVtcHR5KHNlbGY6OiR1c2VyLT5pZCkpe2ZvcmVhY2goWyJlZGl0IiwiY29uZiJdIGFzJHYpe2lmKGlzc2V0KCRSWyR2XSkmJnNlbGY6OiR1c2VyLT5oYXMoJHYpKXskX1NFU1NJT05bJ3BlXycueigkdiwwLDEpXT0hZW1wdHkoJFJbJHZdKTskdGhpcy0+cmVkaXJlY3QoKTt9fX0kTD0icGVfdHoiO2lmKCR0aGlzLT5hcHA9PUkmJmVtcHR5KCRfU0VTU0lPTlskTF0pJiYhaXNzZXQoJFJbJ25vanMnXSkpeyRjPUwoIkVuYWJsZSBKYXZhU2NyaXB0Iik7aWYoZW1wdHkoJFJbJ24nXSkpeyRfU0VTU0lPTlsncGVfbiddPXNoYTEocmFuZCgpKTskdGhpcy0+X3IoKTskZz0iZ2V0VGltZXpvbmVPZmZzZXQoKSI7JGQ9InZhciBkJT1uZXcgRGF0ZSgpO2QlLnNldERhdGUoMSk7ZCUuc2V0TW9udGgoQCk7ZCU9cGFyc2VJbnQoZCUuJGcpOyI7ZGllKCI8aHRtbD48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+dmFyIG5vdz1uZXcgRGF0ZSgpOyIucygkZCxbJyUnPT4nMScsJ0AnPT4nMSddKS5zKCRkLFsnJSc9PicyJywnQCc9Pic3J10pLiJ0eHQ9bm93LnRvU3RyaW5nKCkucmVwbGFjZSgvW15cKF0rXCgoW15cKV0rKVwpLyxcIiQxXCIpO2RvY3VtZW50LmxvY2F0aW9uLmhyZWY9XCIiLiRfU0VTU0lPTlsicGVfciJdLihzdHJwb3MoJFNbJ1JFUVVFU1RfVVJJJ10sIj8iKT09PWZhbHNlPyI/IjoiJiIpLiJuPSIuJF9TRVNTSU9OWydwZV9uJ10uIiZ0PVwiKygtbm93LiRnKjYwKStcIiZkPVwiKyhkMT09ZDJ8fChkMTxkMiYmZDE9PXBhcnNlSW50KG5vdy4kZykpfHwoZDE+ZDImJmQyPT1wYXJzZUludChub3cuJGcpKT9cIjFcIjpcIjBcIikrXCImdz1cIitzY3JlZW4uYXZhaWxXaWR0aCtcIiZoPVwiK3NjcmVlbi5hdmFpbEhlaWdodDs8L3NjcmlwdD4kYzwvaHRtbD4iKTt9ZWxzZWlmKCRSWyduJ109PSRfU0VTU0lPTlsncGVfbiddKXt1bnNldCgkX1NFU1NJT05bJ3BlX24nXSk7JF9TRVNTSU9OWyRMXT10aW1lem9uZV9uYW1lX2Zyb21fYWJicigiIiwkUlsndCddKzAsJFJbJ2QnXSswKTskX1NFU1NJT05bJ3BlX3cnXT1mbG9vcigkUlsndyddKTskX1NFU1NJT05bJ3BlX2gnXT1mbG9vcigkUlsnaCddKTskdGhpcy0+cmVkaXJlY3QoKTt9ZWxzZSBkaWUoJGMpO30kZD0nSFRUUF9YX0ZPUldBUkRFRF9GT1InO3NlbGY6OiRjbGllbnQtPmlwPSFlbXB0eSgkU1skZF0pPyRTWyRkXTokU1snUkVNT1RFX0FERFInXTtzZWxmOjokY2xpZW50LT5zY3JlZW49IWVtcHR5KCRfU0VTU0lPTlsncGVfdyddKT9bJF9TRVNTSU9OWydwZV93J10sJF9TRVNTSU9OWydwZV9oJ11dOlswLDBdOyRkPSdIVFRQX1VTRVJfQUdFTlQnO3NlbGY6OiRjbGllbnQtPmFnZW50PSFlbXB0eSgkU1skZF0pPyRTWyRkXToiYnJvd3NlciI7JGQ9J1BIUF9BVVRIX1VTRVInO3NlbGY6OiRjbGllbnQtPnVzZXI9IWVtcHR5KCRTWyRkXSk/JFNbJGRdOiIiO31lbHNleyRUPWdldGVudigiVFoiKTskZD14KCIvIiwkVD8kVDpAcmVhZGxpbmsoIi9ldGMvbG9jYWx0aW1lIikpOyRjPWNvdW50KCRkKTskX1NFU1NJT05bJExdPSRjPjE/JGRbJGMtMl0uIi8iLiRkWyRjLTFdOiJVVEMiOyRjPWV4ZWMoInRwdXQgY29scyIpKzA7JGQ9ZXhlYygidHB1dCBsaW5lcyIpKzA7c2VsZjo6JGNsaWVudC0+aXA9IkNMSSI7c2VsZjo6JGNsaWVudC0+c2NyZWVuPVskYzwxPzgwOiRjLCRkPDE/MjU6JGRdOyRkPWdldGVudigiVEVSTSIpO3NlbGY6OiRjbGllbnQtPmFnZW50PSFlbXB0eSgkZCk/JGQ6InRlcm0iOyRkPWdldGVudigiVVNFUiIpO3NlbGY6OiRjbGllbnQtPnVzZXI9IWVtcHR5KCRkKT8kZDoiIjskdGhpcy0+bmVlZGZyYW1lPTA7aWYoJHRoaXMtPmFwcD09SSkkdGhpcy0+YXBwPSJzY3JpcHRzIjt9ZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldChzZWxmOjokY2xpZW50LT50ej0hZW1wdHkoJF9TRVNTSU9OWyRMXSk/JF9TRVNTSU9OWyRMXToiVVRDIik7JEw9J3BlX2wnOyRhPSIiOyRkPVtdO2lmKGVtcHR5KCRfU0VTU0lPTlskTF0pKXskaT0nSFRUUF9BQ0NFUFRfTEFOR1VBR0UnOyRkPXgoIiwiLHMoIWVtcHR5KCRTWyRpXSk/JFNbJGldOihnZXRlbnYoJ0xBTkcnKXx8ImVuIiksIi8iLCIiKSk7fWlmKCFlbXB0eSgkUlsnbGFuZyddKSkkZD1bcyhyKCRSWydsYW5nJ10pLCIvIiwiIildO2ZvcmVhY2goJGQgYXMkdil7bGlzdCgkYSk9eCgiOyIsdCgkdikpO2lmKCFlbXB0eSgkYSkmJihmKFAuImxhbmcvJGEiLlBFKXx8ZigiYXBwL2xhbmcvJGEiLlBFKSkpeyRfU0VTU0lPTlskTF09JGE7YnJlYWs7fX1pZihlbXB0eSgkX1NFU1NJT05bJExdKSkkX1NFU1NJT05bJExdPSJlbiI7c2VsZjo6JGNsaWVudC0+bGFuZz0kdj0kX1NFU1NJT05bJExdOyRpPXgoIl8iLHMoJHYsIi0iLCJfIikpO3NldGxvY2FsZShMQ19BTEwsdCgkaVswXSkuIl8iLmsoIWVtcHR5KCRpWzFdKT8kaVsxXTokaVswXSkuIi5VVEY4Iik7aWYoc2VsZjo6aXNJbnN0KCJDb3JlIikpeyR0aGlzLT5qc2xpYlsiY29yZS4kdi5qcyJdPVAuImpzL2NvcmUuanMiLlBFOyR0aGlzLT5jc3NbImNvcmUuY3NzIl09UC4iY3NzL2NvcmUuY3NzIjt9c2VsZjo6JGw9W107TEFOR19JTklUKCJjb3JlIiwkaSk7Zm9yZWFjaCgkdGhpcy0+bGlicyBhcyRrPT4kdil7TEFOR19JTklUKCRrLCRpKTskYz1OLnQoJGspLiIvY29uZmlnIi5QRTtpZihxKCR2LCJpbml0IikmJiEkdi0+aW5pdChmKCRjKT9pbygkYyk6W10pKXVuc2V0KCR0aGlzLT5saWJzWyRrXSk7fUxBTkdfSU5JVCgiYXBwIiwkaSk7aWYoIWVtcHR5KCR0aGlzLT5jYWNoZSkpeyRDPSJjYWNoZSI7JGM9UC4ibGlicy8kQyIuUEU7aWYoZigkYykpc2VsZjo6JG1jPXJlcXVpcmVfb25jZSgkYyk7aWYoIWlzX29iamVjdChzZWxmOjokbWMpKXskTT0iXFxNZW0kQyI7aWYoIWNlKCRNKSlzZWxmOjpsb2coJ0MnLCJubyBwaHAtbWVtY2FjaGVkIiwkQyk7JG09eCgiOiIsJHRoaXMtPiRDKTtpZigkbVswXT09InVuaXgiKXskcD0wOyRoPSRtWzFdO31lbHNleyRwPSRtWzFdKzA7JGg9JG1bMF07fXNlbGY6OiRtYz1uZXckTTtpZighQHNlbGY6OiRtYy0+cGNvbm5lY3QoJGgsJHAsMSkpe3VzbGVlcCgxMDApO2lmKCFAc2VsZjo6JG1jLT5wY29ubmVjdCgkaCwkcCwxKSlzZWxmOjokbWM9bnVsbDt9fXNlbGY6OmxpYigibWMiLEwodWNmaXJzdCgkQykpLCIiLHNlbGY6OiRtYyk7fWlmKCFlbXB0eSgkdGhpcy0+ZGIpKXtzZWxmOjpkYigkdGhpcy0+ZGIpOyRkPSJDVVJSRU5UX1RJTUVTVEFNUCI7dHJ5eyR0PUBzdHJ0b3RpbWUoQHNlbGY6OmZpZWxkKCRkKSk7aWYoJHQ+MCkkdGhpcy0+bm93PSR0O31jYXRjaChcRXhjZXB0aW9uJGUpe319fWZ1bmN0aW9uIHJ1bigkbj0iIiwkYWM9IiIpe2xpc3QoJGMpPXgoIj8iLEAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSk7JHM9JF9TRVJWRVJbJ1NDUklQVF9OQU1FJ107JHU9dygkYywoeigkYywwLHUoJHMpKT09JHM/dSgkcyk6dShuKCRzKSkpKzEpO2lmKCR1WzBdPT0iLyIpJHU9dygkYywxKTtpZigkdVt1KCR1KS0xXT09Ii8iKSR1PXooJHUsMCx1KCR1KS0xKTskQz0iY2FjaGUiOyRhPSJhY3Rpb24iO2lmKCFlbXB0eSgkX0dFVFskQ10pKXskZD1yKCRfR0VUWyRDXSk7c3dpdGNoKCRkKXtjYXNlICJsb2dvIjpjKCJpbWFnZS9wbmciKTskYz1QLiJpbWFnZXMvLnBocHBlIjtkaWUoZigkYyk/ZygkYyk6YmFzZTY0X2RlY29kZSgiUjBsR09EbGhLZ0FZQU1JSEFBQUNBQWNBQUJZQUF5Z0JERDRCRUZ3QUdHb0JHd1dZSVNINUJBRUtBQWNBTEFBQUFBQXFBQmdBQUFPeGVMcmNDc0RKU1NrSW9lcnRZT1NnQm1YaDVwM01pVDRxSkdJdzloM0JGWlAwTFZjZVUwYzkxc3kxdU13a3dRZm1ZRXpoaUN3YzhzaDBRUStGck1GUUlBZ1kyY0lXdVV4OUxvdXRXc3hOczl1ZGF4REtEYis3V3p0aCtodVJSbWxjSkFOclcxNDhOakpEZEYyRGIydDdFelVVa3dwcUF4OEVhb1dSVXlDWGdWeDVMMVFVZVFRREJHd0ZoSVlEQXhOTkhKdWJCUXFQQmlXbWVXcWRXRys2RW1yQnhKWnd4YnFqeU1uSHk4N1AwQk1KQURzPSIpKTtjYXNlICJjc3MiOmMoInRleHQvY3NzIik7JHA9InBvc2l0aW9uOmZpeGVkO3RvcDoiOyRzPSJ0ZXh0LXNoYWRvdzoycHggMnB4IDJweCAjRkZGOyI7ZGllKCIjcGVfcHsiLiRwLiIwO3otaW5kZXg6OTk5O2xlZnQ6MDt3aWR0aDoxMDAlO3BhZGRpbmc6MCAycHggMCAzMnB4O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHJnYmEoMTM2LDE0NiwxOTEsMC40KSxyZ2JhKDEzNiwxNDYsMTkxLDAuNikscmdiYSgxMzYsMTQ2LDE5MSwwLjgpLHJnYmEoMTM2LDE0NiwxOTEsMC45KSxyZ2JhKDEzNiwxNDYsMTkxLDEpIDkwJSxyZ2JhKDAsMCwwLDEpKTtoZWlnaHQ6MzFweCAhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OmhlbHZldGljYTtmb250LXNpemU6MTRweCAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjIwcHggIWltcG9ydGFudDt9I3BlX3AgU1BBTnttYXJnaW46MCA1cHggMCAwO2N1cnNvcjpwb2ludGVyO30jcGVfcCBVTHtsaXN0LXN0eWxlLXR5cGU6bm9uZTttYXJnaW46M3B4O3BhZGRpbmc6MDt9I3BlX3AgSU1He2JvcmRlcjowO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt9I3BlX3AgQXt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjojMDAwOyIuJHMuIn0jcGVfcCAubWVudSB7cG9zaXRpb246Zml4ZWQ7dG9wOjhweDtsZWZ0OjkwcHg7fSNwZV9wIC5zdGF0IFNQQU57Ii4kcy4ifSNwZV9wIExJe2N1cnNvcjpwb2ludGVyO30jcGVfcCBMSTpob3ZlcntiYWNrZ3JvdW5kOiNGMEYwRjA7fSNwZV9wIC5zdGF0eyIuJHAuIjZweDtyaWdodDo0OHB4O30jcGVfcCAuc3VieyIuJHAuIjI4cHg7ZGlzcGxheTppbmxpbmU7YmFja2dyb3VuZDojRkZGO2JvcmRlcjpzb2xpZCAxcHggIzgwODA4MDtib3gtc2hhZG93OjJweCAycHggNnB4ICMwMDA7ei1pbmRleDoxMDAwO30jcGVfcCAubWVudV9pe3BhZGRpbmc6NXB4IDZweCA1cHggNnB4OyIuJHMuIn0jcGVfcCAubWVudV9he3BhZGRpbmc6NHB4IDVweCA1cHggNXB4O2JvcmRlci10b3A6c29saWQgIzAwMCAxcHg7Ym9yZGVyLWxlZnQ6c29saWQgIzAwMCAxcHg7Ym9yZGVyLXJpZ2h0OnNvbGlkICMwMDAgMXB4O2JhY2tncm91bmQ6I0ZGRjt9QG1lZGlhIHByaW50eyNwZV9we2Rpc3BsYXk6bm9uZTt9fSIpO2RlZmF1bHQ6aWYoIWVtcHR5KHNlbGY6OiRtYykpeyRjPXNlbGY6OiRtYy0+Z2V0KCJjXyRkIik7aWYoc2VsZjo6JHcmJmEoJGMpJiYhZW1wdHkoJGNbJ2QnXSkpe2MoKCFlbXB0eSgkY1snbSddKT8kY1snbSddOiJ0ZXh0L3BsYWluIikpO2RpZSgkY1snZCddKTt9fWRpZShrKCRDKS4iLUU6ICIuJGQpO319JExBPXNlbGY6OiRjbGllbnQtPmxhbmc7aWYoaWEoJHRoaXMtPmFwcCxbImNzcyIsImpzIiwiaW1hZ2VzIl0pKXtmdW5jdGlvbiBiKCRhLCRiKXtjKCRhPT0iY3NzIj8idGV4dC9jc3MiOigkYT09ImpzIj8idGV4dC9qYXZhc2NyaXB0IjoiaW1hZ2UvcG5nIikpO2RpZShtaW5pZnkoJGIsJGEpKTt9JE49J2FfJy5zaGExKCR0aGlzLT5iYXNlLiR1LiJfIi5zZWxmOjokdXNlci0+aWQuIl8iLiRMQSk7JGQ9IiI7aWYoIWVtcHR5KHNlbGY6OiRtYykpJGQ9c2VsZjo6JG1jLT5nZXQoJE4pO2lmKCFlbXB0eSgkZCkpYigkdGhpcy0+YXBwLCRkKTtlbHNle2ZvcmVhY2goWyR0aGlzLT4kYSxwcigiL15jb3JlXC5bXlwuXStcLmpzLyIsImNvcmUuanMiLCR0aGlzLT4kYSkuUEUsJHRoaXMtPiRhLigkdGhpcy0+aXRlbT8iLyIuJHRoaXMtPml0ZW06IiIpXSBhcyRwKXskQT1OLiIqLyIuJHRoaXMtPmFwcC4iLyIucygkcCxbIioiPT4iIiwiLi4iPT4iIl0pOyRjPUBnbG9iKCRBLEdMT0JfTk9TT1JUKVswXTtpZigkYyl7aWYoZigkYykmJncoJGMsLTQpIT1QRSl7JGQ9ZygkYyk7JHRoaXMtPmNhY2hldHRsKj0xMDt9ZWxzZXtvYl9zdGFydCgpO2lvKCRjKTskZD1vKCk7fX1pZighZW1wdHkoJGQpKXtpZighZW1wdHkoc2VsZjo6JG1jKSYmZW1wdHkoJHRoaXMtPm5vY2FjaGUpKSR0aGlzLT5fbXMoJE4sJGQpO2IoJHRoaXMtPmFwcCwkZCk7fX19JGM9IjQwNCBOb3QgRm91bmQiO2hlYWRlcigiSFRUUC8xLjEgJGMiKTtkaWU7fXNlbGY6OiRvPVtdO3NlbGY6OiRvWyJjb3JlIl09JiR0aGlzO3NlbGY6OiRvWyJ1c2VyIl09JnNlbGY6OiR1c2VyO3NlbGY6OiRvWyJjbGllbnQiXT0mc2VsZjo6JGNsaWVudDskdGhpcy0+bWV0YVsidmlld3BvcnQiXT0id2lkdGg9ZGV2aWNlLXdpZHRoLGluaXRpYWwtc2NhbGU9MS4wIjskQT1QLiJjdHJsLyI7JFg9W107JHc9MDtpZighZW1wdHkoJG4pKXskdGhpcy0+YXBwPSRuOyR0aGlzLT4kYT0hZW1wdHkoJGFjKT8kYWM6JGE7JGY9IiI7fWVsc2VpZighZW1wdHkoJGMpJiYhZW1wdHkoc2VsZjo6JHIpKXt1YXNvcnQoc2VsZjo6JHIsZnVuY3Rpb24oJGEsJGIpe3JldHVybiBzdHJjbXAoJGJbMF0sJGFbMF0pO30pO2ZvcmVhY2goc2VsZjo6JHIgYXMkdil7aWYocCgiIV4iLnMoJHZbMF0sIiEiLCIiKS4iIWkiLCR1LCRYKSl7aWYoIXNlbGY6Ol9jZigkdlszXSkpeyR3PTE7Y29udGludWU7fWFycmF5X3NoaWZ0KCRYKTskZD0kdlsxXTskZj0kdlsyXTticmVhazt9fX1pZihlbXB0eSgkZCkpJGQ9JHc/IjQwMyI6JHRoaXMtPmFwcDskUj0kX1JFUVVFU1Q7aWYoc2VsZjo6JHcpeyRjPSR0aGlzLT5hcHAuIi4iLiR0aGlzLT4kYTskUz0hZW1wdHkoJF9TRVNTSU9OWyJwZV9zIl1bJGNdKT8kX1NFU1NJT05bInBlX3MiXVskY106IiI7Zm9yKCRpPTE7JGk8PTk7JGkrKylpZihpc3NldCgkUlsicGVfdHJ5Ii4kaV0pJiYhZW1wdHkoJFJbInBlX3MiXSkmJiRSWyJwZV9zIl09PSRTKXskdGhpcy0+dHJ5PSRpOyR0aGlzLT5mb3JtPSFlbXB0eSgkUlsncGVfZiddKT9yKCRSWydwZV9mJ10pOiIiOyRfU0VTU0lPTlsicGVfcyJdWyRjXT0wO2JyZWFrO31pZihlbXB0eSgkX1NFU1NJT05bInBlX3MiXVskY10pKSRfU0VTU0lPTlsicGVfcyJdWyRjXT1zaGExKHVuaXFpZCgpLiR0aGlzLT5pZCk7fWlmKGVtcHR5KCRmKSkkZj0kYS4iXyIudCgkdGhpcy0+JGEpO2lmKCR0aGlzLT5hcHA9PSJsb2dpbiJ8fCRkPT0ibG9naW4iKXskQT0iYWRtaW4iO2lmKCR0aGlzLT5pc3RyeSgpJiYhZW1wdHkoJFJbJ2lkJ10pJiYkUlsnaWQnXT09JEEpe2lmKCFlbXB0eSgkdGhpcy0+bWFzdGVycGFzc3dkKSYmZW1wdHkoc2VsZjo6JHVzZXItPmlkKSYmcGFzc3dvcmRfdmVyaWZ5KCRfUE9TVFsncGFzcyddLCR0aGlzLT5tYXN0ZXJwYXNzd2QpKXtzZWxmOjpsb2coIkEiLCJMb2dpbiAiLkwoJEEpLCJ1c2VycyIpOyRfU0VTU0lPTlsicGVfdSJdLT5pZD0tMTskX1NFU1NJT05bInBlX3UiXS0+bmFtZT1MKCRBKTskdGhpcy0+cmVkaXJlY3QoKTt9fWlmKCRfU0VTU0lPTlsicGVfdSJdLT5pZCkkdGhpcy0+cmVkaXJlY3QoIi8iKTt9ZWxzZWlmKCR0aGlzLT5hcHA9PSJsb2dvdXQifHwkZD09ImxvZ291dCIpeyRpPXNlbGY6OiR1c2VyLT5pZDtpZigkaSl7c2VsZjo6bG9nKCJBIiwiTG9nb3V0ICIuc2VsZjo6JHVzZXItPm5hbWUsInVzZXJzIik7aWYoJGkhPS0xJiZxKHNlbGY6OiR1c2VyLCJsb2dvdXQiKSlzZWxmOjokdXNlci0+bG9nb3V0KCk7fXNlc3Npb25fZGVzdHJveSgpOyR0aGlzLT5yZWRpcmVjdCgiLyIpO30kQT0hZW1wdHkoc2VsZjo6JG1jKSYmZW1wdHkoJHRoaXMtPm5vY2FjaGUpO2lmKCFjYygkZCkpe2lmKCRkWzBdPT0iXFwiKSRkPXcoJGQsMSk7JEM9dCgkZCk7JEQ9dWNmaXJzdCgkZCk7JEU9JHRoaXMtPiRhOyRGPXQoJEUpOyRHPXVjZmlyc3QoJEUpOyRQPSJhcHAvY3RybC8iOyRIPU4uIiovY3RybC8iO2ZvcmVhY2goYXJyYXlfdW5pcXVlKFsiJFAkZCIuIl8kRSIuUEUsIiRQJEMiLiJfJEYiLlBFLCIkUCREIi4iXyRHIi5QRSwiJFAkZCIuUEUsIiRQJEMiLlBFLCIkUCREIi5QRSwiJEgkZCIuIl8kRSIuUEUsIiRIJEMiLiJfJEYiLlBFLCIkSCREIi4iXyRHIi5QRSwiJEgkZCIuUEUsIiRIJEMiLlBFLCIkSCREIi5QRV0pIGFzJHYpeyRjPUBnbG9iKCR2KTtpZighZW1wdHkoJGNbMF0pKXtpbygkY1swXSk7c2VsZjo6JHA9bihuKCRjWzBdKSk7YnJlYWs7fX19JEc9ZihQLiJzcWwvcGFnZXMuc3FsIik7JFA9Qy4iQXBwIjskRD0iQ3RybFxcIjskVj0icGVfdiI7aWYoY2MoQy4kZCkpJGQ9Qy4kZDtlbHNlaWYoY2MoQy4kRC4kZCkpJGQ9Qy4kRC4kZDtsaXN0KCRkLCRmKT0kdGhpcy0+X2VoKCJhcHAiLFskZCwkZl0pOyREPSRvPVtdO2lmKCFjYygkZCkpe2lmKCFzZWxmOjokdylkaWUoIlBIUFBFLUM6ICIuTCgkZC4iXyRhIG5vdCBmb3VuZCEiKS4iXG4iKTskZD0kUDtpZighZW1wdHkoQ29yZTo6ZGIoMCkpJiYkRyl7dHJ5eyRUPSJ0ZW1wbGF0ZSI7JEM9J2RfJy5zaGExKCR0aGlzLT5iYXNlLiR1KTtpZigkQSkkRD1zZWxmOjokbWMtPmdldCgkQyk7aWYoZW1wdHkoJERbJFRdKSl7Q29yZTo6ZHMoMCk7JEQ9Q29yZTo6ZmV0Y2goIioiLCJwYWdlcyIsIihpZD0/IE9SID8gTElLRSBpZHx8Jy8lJykgQU5EIChsYW5nPScnIE9SIGxhbmc9PykgQU5EIHB1YmQ8PUNVUlJFTlRfVElNRVNUQU1QIEFORCAoZXhwZD0wIE9SIGV4cGQ+Q1VSUkVOVF9USU1FU1RBTVApIiwiIiwiaWQgREVTQyxjcmVhdGVkIERFU0MiLFskdSwkdSwkTEFdKTtpZigkQSYmIWVtcHR5KCREWyRUXSkpJHRoaXMtPl9tcygkQywkRCk7fWlmKCFlbXB0eSgkRFskVF0pKXtpZighc2VsZjo6X2NmKCREWydmaWx0ZXInXSkpeyR0aGlzLT4kVD0iNDAzIjt0aHJvdyBuZXdcRXhjZXB0aW9uKCk7fWFycmF5X3Vuc2hpZnQoJFgsJEQpOyRkPUMuIkNvbnRlbnQiOyRmPSRhO0NvcmU6OiRjb3JlLT50ZW1wbGF0ZT0kRFskVF07JG89QGpkKCREWydkYXRhJ10pO2lmKCFhKCRvKSkkbz1bXTskYz13KCR1LHUoJERbJ2lkJ10pKzEpOyRvWydwYXJhbXMnXT14KCIvIiwkYyk7fX1jYXRjaChcRXhjZXB0aW9uJGUpeyREPVtdO319fSRwPXMoJGQsWyJQSFBQRVxcQXBwXFwiPT4iIiwiUEhQUEVcXEN0cmxcXCI9PiIiXSk7Zm9yZWFjaChbdCgkcCksdCgkdGhpcy0+YXBwKV0gYXMkQyl7JGM9QGluY2x1ZGUoTi4iJEMvY29uZmlnIi5QRSk7aWYoYSgkYykpYnJlYWs7fWlmKCFlbXB0eSgkX1NFU1NJT05bJFZdKSlzZWxmOjokdj0kX1NFU1NJT05bJFZdO3NlbGY6OiRvWyJhcHAiXT0kYXBwPW5ldyRkKGEoJGMpPyRjOltdKTtpZighcSgkYXBwLCRmKSkkZj0kYTtzZWxmOjpsb2coIkQiLCR0aGlzLT5hcHAuIi8iLiR0aGlzLT4kYS4iIC0+JGQ6OiRmICIuJHRoaXMtPnRlbXBsYXRlLCJyb3V0ZXMiKTskQSY9ZW1wdHkoJHRoaXMtPm5vY2FjaGUpOyRtPSJtYWludGVuYW5jZSI7aWYoZW1wdHkoJHRoaXMtPiRtKXx8IXNlbGY6OiR3KXskQz0ncF8nLnNoYTEoJHRoaXMtPmJhc2UuJHUuIl8iLnNlbGY6OiR1c2VyLT5pZC4iXyIuJExBKTskVD0iIjtpZigkQSYmIXNlbGY6OmlzdHJ5KCkpeyRwPXNlbGY6OiRtYy0+Z2V0KCRDKTtpZihhKCRwKSl7Zm9yZWFjaChbJ20nPT4nbWV0YScsJ2MnPT4nY3NzJywnaic9PidqcycsJ0onPT4nanNsaWInXSBhcyRrPT4kdilpZihhKCRwWyRrXSkpJHRoaXMtPiR2PWFycmF5X21lcmdlKCR0aGlzLT4kdiwkcFska10pOyRUPSRwWydkJ107fX1pZighJFQpeyRwPVtdOyRkPSJkZHMiOyRsPSJ0ZW1wbGF0ZSI7aWYoJEcpe3RyeXskRj1zZWxmOjpmZXRjaCgiKiIsInBhZ2VzIiwiaWQ9J2ZyYW1lJyIpOyRFPUBqZCgkRlsnZGF0YSddKTtzZWxmOjokb1snZnJhbWUnXT0kRTskRT1AamQoJEZbJGRdKTtpZihhKCRFKSkkcCs9JEU7fWNhdGNoKFxFeGNlcHRpb24kZSl7fX1pZighZW1wdHkoJEQpKXskZT1qZCgkRFskZF0pO2lmKGEoJGUpKSRwKz0kZTskdGhpcy0+c2l0ZT0kRFsnbmFtZSddO2ZvcmVhY2goWyJpZCIsIm5hbWUiLCRsLCJsYW5nIiwibW9kaWZ5ZCJdIGFzJHYpJG9bJHZdPSREWyR2XTt9aWYoYSgkcCkpe2ZvcmVhY2goJHAgYXMkaz0+JGMpaWYoJGshPSRkKXt0cnl7JG9bJGtdPUBzZWxmOjpxdWVyeSgkY1swXSwkY1sxXSxAJGNbMl0sQCRjWzNdLEAkY1s0XSxAJGNbNV0sQCRjWzZdKTt9Y2F0Y2goXEV4Y2VwdGlvbiRlKXtzZWxmOjpsb2coIkUiLCREWydpZCddLiIgIi4kZS0+Z2V0TWVzc2FnZSgpLiIgIi5pbXBsb2RlKCIgIiwkYyksJGQpO319fWZvcmVhY2goJG8gYXMkaz0+JHYpaWYoJGshPSRkKSRhcHAtPiRrPSR2OyR0aGlzLT5fZWgoImN0cmwiLFskZCwkZl0pO2lmKHEoJGFwcCwkZikpIWVtcHR5KCRYKT9jYWxsX3VzZXJfZnVuY19hcnJheShbJGFwcCwkZl0sJFgpOiRhcHAtPiRmKCR0aGlzLT5pdGVtKTtpZighZW1wdHkoJGFwcC0+X21ldGEpKSR0aGlzLT5tZXRhPWFycmF5X21lcmdlKCR0aGlzLT5tZXRhLCRhcHAtPl9tZXRhKTskX1NFU1NJT05bJFZdPVtdO2lmKCFlbXB0eSgkdGhpcy0+dGVtcGxhdGUpKXskVD0kdGhpcy0+dGVtcGxhdGUoJHRoaXMtPnRlbXBsYXRlKTtpZighJFQpJFQ9JHRoaXMtPnRlbXBsYXRlKCR0aGlzLT5hcHApO2lmKCEkVCYmc2VsZjo6JHcpJFQ9JHRoaXMtPnRlbXBsYXRlKCI0MDQiKTt9aWYoJHRoaXMtPm5lZWRmcmFtZSl7JGQ9JHRoaXMtPnRlbXBsYXRlKCJmcmFtZSIpO2lmKHAoIi88IWFwcD4vaW1zIiwkZCwkbSxQUkVHX09GRlNFVF9DQVBUVVJFKSkkVD16KCRkLDAsJG1bMF1bMV0pLiRULncoJGQsJG1bMF1bMV0rNik7fWlmKCRBJiYkVCkkdGhpcy0+X21zKCRDLFsibSI9PiR0aGlzLT5tZXRhLCJjIj0+JHRoaXMtPmNzcywiaiI9PiR0aGlzLT5qcywiSiI9PiR0aGlzLT5qc2xpYiwiZCI9PiRUXSk7fX1lbHNleyRUPSR0aGlzLT50ZW1wbGF0ZSgkbSk7aWYoZW1wdHkoJFQpKSRUPUwodWNmaXJzdCgkbSkpO31pZigoQGlhKCItLWR1bXAiLCRfU0VSVkVSWydhcmd2J10pfHxpc3NldCgkUlsnLS1kdW1wJ10pKSYmJHRoaXMtPnJ1bmxldmVsPjEpe2MoInRleHQvcGxhaW4iKTtwcmludF9yKCRfU0VSVkVSKTtwcmludF9yKHNlbGY6OiRvKTtkaWU7fWlmKCFlbXB0eShzZWxmOjokZGIpKWZvcmVhY2goc2VsZjo6JGRiIGFzJGQpaWYocSgkZCwiY2xvc2UiKSkkZC0+Y2xvc2UoKTtzZWxmOjokZGI9W107c2VsZjo6JHM9MDskVD0kdGhpcy0+X2VoKCJ2aWV3IiwkVCk7JG89aXNzZXQoJGFwcC0+X291dHB1dCk/JGFwcC0+X291dHB1dDokdGhpcy0+b3V0cHV0O2lmKHNlbGY6OiR3KXtoZWFkZXIoIlByYWdtYTpuby1jYWNoZSIpO2hlYWRlcigiQ2FjaGUtQ29udHJvbDpuby1jYWNoZSxuby1zdG9yZSxwcml2YXRlLG11c3QtcmV2YWxpZGF0ZSxtYXgtYWdlPTAiKTtoZWFkZXIoIkNvbnRlbnQtVHlwZToiLighZW1wdHkoJGFwcC0+X21pbWV0eXBlKT8kYXBwLT5fbWltZXR5cGU6InRleHQvIi4oIWVtcHR5KCRvKT8kbzoiaHRtbCIpKS4iO2NoYXJzZXQ9dXRmLTgiKTt9aWYoIWVtcHR5KCRvKSl7JGM9QGdsb2IoTi4iKi9vdXQvIi4kby4iX2hlYWRlciIuUEUpO2lmKCFlbXB0eSgkY1swXSkpaW8oJGNbMF0pO2Vsc2VpZigkbz09Imh0bWwiKXskUD1lbXB0eSgkdGhpcy0+bm9wYW5lbCkmJnNlbGY6OiR1c2VyLT5oYXMoInBhbmVsIik7JE89IiI7JEk9bShfX0ZJTEVfXykuIi8iO2lmKCRJPT1JLiIucGhwLyIpJEk9IiI7JEI9Imh0dHAiLigkdGhpcy0+c2VjPyJzIjoiIikuIjovLyIuJHRoaXMtPmJhc2U7JE8uPSI8IURPQ1RZUEUgSFRNTD5cbjxodG1sIGxhbmc9JyIuJExBLiInPjxoZWFkPjx0aXRsZT4iLighZW1wdHkoJHRoaXMtPnNpdGUpPyR0aGlzLT5zaXRlOiR0aGlzLT5pZCkuIjwvdGl0bGU+PGJhc2UgaHJlZj0nJEInLz48bWV0YSBjaGFyc2V0PSd1dGYtOCcvPlxuPG1ldGEgbmFtZT0nR2VuZXJhdG9yJyBjb250ZW50PSciLiR0aGlzLT5pZC4iJy8+XG4iO2ZvcmVhY2goJHRoaXMtPm1ldGEgYXMkaz0+JG0paWYoJG0pJE8uPSI8bWV0YSBuYW1lPSckaycgY29udGVudD0nIi5oKCRtKS4iJy8+XG4iOyRPLj0iPGxpbmsgcmVsPSdzaG9ydGN1dCBpY29uJyBocmVmPSciLighZW1wdHkoJGFwcC0+X2Zhdmljb24pPyRhcHAtPl9mYXZpY29uOidmYXZpY29uLmljbycpLiInLz5cbiI7JE8uPSI8c3R5bGUgbWVkaWE9J2FsbCc+XG4iOyRkPSJAaW1wb3J0IHVybCgnJXMnKTtcbiI7JE49JHRoaXMtPmJhc2UuIl8iLiR0aGlzLT5hcHAuIi4iLiR0aGlzLT4kYS4iXyIuc2VsZjo6JHVzZXItPmlkLiJfIi4kTEE7aWYoJFApJE8uPXNwcmludGYoJGQsIiRJP2NhY2hlPWNzcyIpO2lmKCFlbXB0eSgkdGhpcy0+Y3NzKSl7aWYoIWVtcHR5KHNlbGY6OiRtYykmJmVtcHR5KCR0aGlzLT5ub2FnZ3IpKXskbj1zaGExKCROLiJfY3NzIik7aWYoZW1wdHkoc2VsZjo6JG1jLT5nZXQoImNfJG4iKSkpeyRkYT0iIjtmb3JlYWNoKCR0aGlzLT5jc3MgYXMkdT0+JHYpaWYoJHYmJncoJHYsLTMpIT0icGhwIiYmJHVbMF0hPSI/IikkZGEuPW1pbmlmeShyKGcoJHYpKSwiY3NzIikuIlxuIjskdGhpcy0+X21zKCJjXyRuIixbIm0iPT4idGV4dC9jc3MiLCJkIj0+JGRhXSk7fSRPLj1zcHJpbnRmKCRkLCIkST9jYWNoZT0kbiIpO2ZvcmVhY2goJHRoaXMtPmNzcyBhcyR1PT4kdilpZigkdiYmKCR1WzBdPT0iPyJ8fHcoJHYsLTMpPT0icGhwIikpJE8uPXNwcmludGYoJGQsKCR1WzBdPT0iPyI/IiI6JEkuImNzcy8iKS4kdSk7fWVsc2V7Zm9yZWFjaCgkdGhpcy0+Y3NzIGFzJHU9PiR2KWlmKCR2KSRPLj1zcHJpbnRmKCRkLCgkdVswXT09Ij8iPyIiOiRJLiJjc3MvIikuJHUpO319JE8uPSI8L3N0eWxlPlxuIjskZD0iPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIjskZT0iPC9zY3JpcHQ+XG4iOyRhPSIgYXN5bmMgc3JjPSciLiRJLiJqcy8iO2lmKCFlbXB0eSgkdGhpcy0+anNsaWIpKXtpZighZW1wdHkoc2VsZjo6JG1jKSYmZW1wdHkoJHRoaXMtPm5vYWdncikpeyRuPXNoYTEoJE4uIl9qcyIpO2lmKGVtcHR5KHNlbGY6OiRtYy0+Z2V0KCJjXyRuIikpKXskZGE9IiI7Zm9yZWFjaCgkdGhpcy0+anNsaWIgYXMkdT0+JHYpaWYoJHYmJncoJHYsLTMpIT0icGhwIikkZGEuPW1pbmlmeShyKGcoJHYpKSwianMiKS4iXG4iOyR0aGlzLT5fbXMoImNfJG4iLFsibSI9PiJ0ZXh0L2phdmFzY3JpcHQiLCJkIj0+JGRhXSk7fSRPLj0iJGQgYXN5bmMgc3JjPSckST9jYWNoZT0kbic+JGUiO2ZvcmVhY2goJHRoaXMtPmpzbGliIGFzJHU9PiR2KWlmKCR2JiZ3KCR2LC0zKT09InBocCIpJE8uPSIkZCRhJHUnPiRlIjt9ZWxzZXtmb3JlYWNoKCR0aGlzLT5qc2xpYiBhcyR1PT4kdilpZigkdikkTy49IiRkJGEkdSc+JGUiO319JGM9InVzZXJzLmpzIjtpZigkUCYmIWlzc2V0KCR0aGlzLT5qc2xpYlskY10pJiZmKE4uInVzZXJzL2pzLyIuJGMuUEUpKSRPLj0iJGQkYSRjJz4kZSI7JGM9JHRoaXMtPmpzOyRhPSIiO2lmKCRQJiZlbXB0eSgkdGhpcy0+Y3NzWyJjb3JlLmNzcyJdKSl7JHg9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZV8nIjskeT0iLnN0eWxlLnZpc2liaWxpdHkiOyRhPSJwZV90PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtwZV9wKCcnKTt9LDIwMDApIjskY1siTCh0KSJdPSJyZXR1cm4gdC5yZXBsYWNlKC9fL2csJyAnKTsiOyRjWydwZV9wKGkpJ109InZhciBvPSR4K2kpO2lmKHBlX3QhPW51bGwpY2xlYXJUaW1lb3V0KHBlX3QpO2lmKHBlX2MmJnBlX2MhPWkpJHgrcGVfYykkeT0naGlkZGVuJztwZV90PXBlX2M9bnVsbDtpZihvIT1udWxsKXtpZihvJHk9PSd2aXNpYmxlJylvJHk9J2hpZGRlbic7ZWxzZXtvJHk9J3Zpc2libGUnO3BlX2M9aTskYTt9fXJldHVybiBmYWxzZTsiOyRjWydwZV93KCknXT0iaWYocGVfdCE9bnVsbCljbGVhclRpbWVvdXQocGVfdCk7JGE7cmV0dXJuIGZhbHNlOyI7JGE9IixwZV90LHBlX2MiO31pZighZW1wdHkoJGMpKXskTy49JGQuIj5cbnZhciBwZV9vdD0iLigkUD8zMTowKS4iJGE7XG4iO2ZvcmVhY2goJGMgYXMkZnU9PiRjbykkTy49ImZ1bmN0aW9uICRmdSB7Ii4kY28uIn1cbiI7JE8uPSRlO30kTy49IjwvaGVhZD5cbjxib2R5Ii4oIWVtcHR5KCR0aGlzLT5qc1siaW5pdCgpIl0pPyIgb25sb2FkPSdpbml0KCk7JyI6IiIpLiI+XG4iO2lmKCRQKXskSD0iIGNsYXNzPSdzdWInIHN0eWxlPSd2aXNpYmlsaXR5OmhpZGRlbjsnIG9ubW91c2Vtb3ZlPSdyZXR1cm4gcGVfdygpOyciOyRPLj0iPGRpdiBpZD0ncGVfcCc+PGEgaHJlZj0nIi51cmwoIi8iKS4iJz48aW1nIHNyYz0nJEk/Y2FjaGU9bG9nbycgYWx0PSciLiR0aGlzLT5pZC4iJyBzdHlsZT0nbWFyZ2luOjNweCAxMHB4IC0zcHggMTBweDsnPjwvYT48ZGl2IGNsYXNzPSdtZW51Jz4iOyR4PTA7aWYoIWVtcHR5KCR0aGlzLT5tZW51KSl7Zm9yZWFjaCgkdGhpcy0+bWVudSBhcyRlPT4kTCl7QGxpc3QoJHRpLCRhKT14KCJAIiwkZSk7aWYoIWVtcHR5KCRhKSYmIXNlbGY6OiR1c2VyLT5oYXMoJGEpKWNvbnRpbnVlOyRhPTA7aWYoYSgkTCkpJGw9JExbYXJyYXlfa2V5cygkTClbMF1dO2Vsc2UkbD0kTDskVT0kX1NFUlZFUlsnUkVRVUVTVF9VUkknXTtpZih6KCRsLDAsdSgkVSkpPT0kVXx8Ii8iLnooJGwsMCx1KCRVKSk9PSRVKSRhPTE7ZWxzZXskZD14KCIvIiwkbCk7aWYoZW1wdHkoJGRbMF0pKSRkPWFycmF5X3NoaWZ0KCRkKTtpZigkdGhpcy0+YXBwPT0oIWVtcHR5KCRkWzBdKT8kZFswXTpJKSkkYT0xO3Vuc2V0KCRkKTt9aWYoYSgkTCkpeyRPLj0iPGRpdiBpZD0ncGVfbSR4JyRIPjx1bD4iO2ZvcmVhY2goJEwgYXMkdD0+JGwpaWYoJHQpe0BsaXN0KCRZLCRBKT14KCJAIiwkdCk7aWYoZW1wdHkoJEEpfHxzZWxmOjokdXNlci0+aGFzKCRBKSkkTy49IjxsaSBvbmNsaWNrPVwiZG9jdW1lbnQubG9jYXRpb24uaHJlZj0nIi4kSS4iJGwnO1wiPjxhIGhyZWY9JyIuJEkuIiRsJz4iLmgoTCgkWSkpLiI8L2E+PC9saT4iO30kTy49IjwvdWw+PC9kaXY+PHNwYW4gY2xhc3M9J21lbnVfIi4oJGE/ImEiOiJpIikuIicgb25jbGljaz0ncmV0dXJuIHBlX3AoXCJtJHhcIik7Jz4iLmgoTCgkdGkpKS4iPC9zcGFuPiI7JHgrKzt9ZWxzZSRPLj0iPHNwYW4gY2xhc3M9J21lbnVfIi4oJGE/ImEiOiJpIikuIic+PGEgaHJlZj0nIi4kSS4iJEwnPiIuaChMKCR0aSkpLiI8L2E+PC9zcGFuPiI7fX0kTy49IjwvZGl2PjxkaXYgY2xhc3M9J3N0YXQnPiI7Zm9yZWFjaCgkdGhpcy0+bGlicyBhcyRkKWlmKHEoJGQsInN0YXQiKSkkTy49IjxzcGFuPiIuJGQtPnN0YXQoKS4iPC9zcGFuPiI7JE8uPSI8ZGl2IGlkPSdwZV9sJyRIPjx1bD4iO2lmKCFlbXB0eSgkX1NFU1NJT05bJ3BlX2xzJ10pKSRkPSRfU0VTU0lPTlsncGVfbHMnXTtlbHNleyREPWFycmF5X3VuaXF1ZShAc2NhbmRpcigiYXBwL2xhbmciKStAc2NhbmRpcihQLiJsYW5nIikpOyRkPVtdO2ZvcmVhY2goJEQgYXMkZilpZih3KCRmLC00KT09Ii5waHAiKSRkW3ooJGYsMCx1KCRmKS00KV09MTskX1NFU1NJT05bJ3BlX2xzJ109JGQ7fWZvcmVhY2goJGQgYXMkaz0+JHYpaWYoJGspJE8uPSI8bGk+PGEgaHJlZj0nIi51cmwoKS4iP2xhbmc9JGsnPjxpbWcgc3JjPSdpbWFnZXMvbGFuZ18kay5wbmcnIGFsdD0nJGsnIHRpdGxlPSckayc+Ii4oJGshPUwoJGspPyImbmJzcDsiLkwoJGspOiIiKS4iPC9hPjwvbGk+IjskTy49IjwvdWw+PC9kaXY+Ijskaz0kTEE7JGY9ImltYWdlcy9sYW5nXyRrLnBuZyI7JGM9IWVtcHR5KCRfU0VTU0lPTlsncGVfYyddKTskTy49IjxzcGFuIG9uY2xpY2s9J3JldHVybiBwZV9wKFwibFwiKTsnPiIuKGYoUC4kZik/IjxpbWcgc3JjPSckZicgaGVpZ2h0PScxMCcgYWx0PSckaycgdGl0bGU9JyRrJz4iOiRrKS4iPC9zcGFuPjxkaXYgaWQ9J3BlX3UnJEg+PHVsPjxsaSBvbmNsaWNrPSdwZV9wKFwiXCIpO2lmKHR5cGVvZiB1c2Vyc19wcm9maWxlPT1cImZ1bmN0aW9uXCIpdXNlcnNfcHJvZmlsZSh0aGlzKTtlbHNlIGFsZXJ0KFwiIi5MKCJJbnN0YWxsIFBIUFBFIFBhY2siKS4iXCIpOyc+Ii5MKCJQcm9maWxlIikuIjwvbGk+Ii4oc2VsZjo6JHVzZXItPmhhcygiY29uZiIpPyI8bGk+PGEgaHJlZj0nIi51cmwoKS4iP2NvbmY9Ii4oMS0kYykuIic+Ii5MKCgkYz8iTG9jayI6IlVubG9jayIpKS4iPC9hPjwvbGk+IjoiIikuIjxsaT48YSBocmVmPSciLnVybCgibG9nb3V0IikuIic+Ii5MKCJMb2dvdXQiKS4iPC9hPjwvbGk+PC91bD48L2Rpdj48c3BhbiBvbmNsaWNrPSdyZXR1cm4gcGVfcChcInVcIik7Jz4iLighZW1wdHkoc2VsZjo6JHVzZXItPm5hbWUpP3NlbGY6OiR1c2VyLT5uYW1lOiIjIi5zZWxmOjokdXNlci0+aWQpLiI8L3NwYW4+PC9kaXY+PC9kaXY+PGRpdiBzdHlsZT0naGVpZ2h0OjMycHggIWltcG9ydGFudDsnPjwvZGl2PlxuIjt9ZWNobyRPO319ZWNobygkVCk7aWYoIWVtcHR5KCRvKSl7JGM9QGdsb2IoTi4iKi9vdXQvIi4kby4iX2Zvb3RlciIuUEUpO2lmKCFlbXB0eSgkY1swXSkpaW8oJGNbMF0pO2Vsc2VpZigkbz09Imh0bWwiKXskRD1jb3VudCgkdGhpcy0+ZXJyb3IpOyRkPSdSRVFVRVNUX1RJTUVfRkxPQVQnOyRUPSFlbXB0eSgkX1NFUlZFUlskZF0pPyRfU0VSVkVSWyRkXTokdGhpcy0+c3RhcnRlZDtpZigkRD4wJiYkdGhpcy0+bmVlZGVycm9yKXskYz0iIjtmb3JlYWNoKCR0aGlzLT5lcnJvciBhcyR2KSRjLj1pbXBsb2RlKCJcbiIsJHYpLiJcbiI7ZWNobygiPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPlxuYWxlcnQoJyIucyhhZChyKCRjKSksIlxuIiwiXFxuIikuIicpO1xuPC9zY3JpcHQ+XG4iKTt9ZWNobygiXG48IS0tIE1PTklUT1JJTkc6ICIuKCREPjA/IkVSUk9SIjooJHRoaXMtPnJ1bmxldmVsPjA/IldBUk5JTkciOiJPSyIpKS4iLCBwYWdlICIuc3ByaW50ZigiJS40ZiBzZWMsIGRiICUuNGYgc2VjLCBzZXJ2ZXIgJS40ZiBzZWMsIG1lbSAlLjRmIG1iJXMgLS0+XG48L2JvZHk+XG48L2h0bWw+XG4iLG1pY3JvdGltZSgxKS0kVCxzZWxmOjokYmlsbCwkdGhpcy0+c3RhcnRlZC0kVCxtZW1vcnlfZ2V0X3BlYWtfdXNhZ2UoKS8xMDI0LzEwMjQsIWVtcHR5KHNlbGY6OiRtYyk/IiwgbWMiOiIiKSk7fX1zZXNzaW9uX3dyaXRlX2Nsb3NlKCk7fXN0YXRpYyBmdW5jdGlvbiBsYW5nSW5pdCgkYz0iIiwkaT1bXSl7aWYoJGM9PSIiKSRjPW0obihuKGQoMikpKSk7JEw9ZW1wdHkoc2VsZjo6JGNsaWVudC0+bGFuZyk/ImVuIjpzZWxmOjokY2xpZW50LT5sYW5nO2lmKGVtcHR5KCRpWzBdKSkkaT14KCJfIixzKCRMLCItIiwiXyIpKTskbGE9IiI7JGM9Ti4iJGMvbGFuZy8iO2ZvcmVhY2goWyRMLCRpWzBdLCJlbiJdIGFzJGwpe2lmKGYoJGMuJGwuUEUpKXskbGE9aW8oJGMuJGwuUEUpO2JyZWFrO319aWYoYSgkbGEpKXNlbGY6OiRsKz0kbGE7fXN0YXRpYyBmdW5jdGlvbiBsb2coJHcsJG0sJG49bnVsbCl7aWYoIWlzX3N0cmluZygkbSl8fHNlbGY6OiRjb3JlLT5ydW5sZXZlbDwzJiYkdz09IkQiKXJldHVybjskdz1rKCR3KTtpZighaWEoJHcsWyJEIiwiSSIsIkEiLCJXIiwiRSIsIkMiXSkpJHc9IkEiO2lmKGVtcHR5KCRuKSkkbj0hZW1wdHkoc2VsZjo6JGNvcmUtPmFwcCk/c2VsZjo6JGNvcmUtPmFwcDoiY29yZSI7JG09cihzKCRtLG4obihfX0ZJTEVfXykpLiIvIiwiIikpOyRnPSFlbXB0eShzZWxmOjokbFskbV0pP0woJG0pOiRtOyR0PSIiO2lmKCFlbXB0eShzZWxmOjokY29yZS0+dHJhY2UpKXskcz1kZWJ1Z19iYWNrdHJhY2UoREVCVUdfQkFDS1RSQUNFX0lHTk9SRV9BUkdTKTtmb3JlYWNoKCRzIGFzJGQpJHQuPSJcdCIudygkZFsnZmlsZSddLHUobihfX0RJUl9fKSkrMSkuIjoiLiRkWydsaW5lJ10uIjoiLiRkWydmdW5jdGlvbiddLiJcbiI7fSRlPWUoMCk7ZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCgiVVRDIik7JHA9ZGF0ZSgiWS1tLWQiKS4iVCIuZGF0ZSgiSDppOnMiKS4iWi0kdy0iLmsoJG4pLiI6ICI7aWYoJHc9PSJBInx8JHc9PSJDInx8c2VsZjo6JGNvcmUtPnN5c2xvZylzeXNsb2coJHc9PSJDIj9MT0dfRVJSOkxPR19OT1RJQ0Usc2VsZjo6JGNvcmUtPmJhc2UuIjpQSFBQRS0kdy0iLmsoJG4pLiI6ICIucygkbSxbIlxuIj0+IlxcbiIsIlxyIj0+IlxcciJdKS5zKCR0LCJcbiIsIiIpKTskbD1QLiJsb2cvIi4kbi4iLmxvZyI7aWYoIXNlbGY6OiRjb3JlLT5zeXNsb2cmJiFmaWxlX3B1dF9jb250ZW50cygkbCwkcC5zKCRtLFsiXG4iPT4iXFxuIiwiXHIiPT4iXFxyIl0pLiJcbiIuJHQsRklMRV9BUFBFTkR8TE9DS19FWCkpeyR3PSJDIjskZy49KCFzZWxmOjokdz8iXG5MT0ctQyI6Ijxici8+XG4iLmRhdGUoIlktbS1kIikuIlQiLmRhdGUoIkg6aTpzIikuIlotQy1MT0ciKS4iOiAiLkwoInVuYWJsZSB0byB3cml0ZSIpLiIgJGwiO31AY2htb2QoJGwsMDY2MCk7aWYoJHc9PSJDIil7aWYoc2VsZjo6JGNvcmUtPm91dHB1dCE9Imh0bWwiKWRpZShrKCIkbi1DIikuIjogIi4kZy4iXG4iLiR0KTtkaWUoIlxuPGh0bWw+PGJvZHkgc3R5bGU9J21hcmdpbjo4cHg7YmFja2dyb3VuZDojMDAwMDAwO2NvbG9yOiNBMDAwMDA7Jz48ZGl2IHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MjhweDtjb2xvcjojZmYwMDAwOyc+UEhQUEUiLlZFUlNJT04uIiAtICIuTCgiRGV2ZWxvcGVyIENvbnNvbGUiKS4iPC9kaXY+PGJyLz48YnIvPlxuIi4kcC5ubDJicihzKCRnLiJcbiIuJHQsIlx0IiwiJm5ic3A7Jm5ic3A7IikpLiI8L2JvZHk+PC9odG1sPlxuIik7fWVsc2VpZighc2VsZjo6JHcmJiR3IT0iRCImJiR3IT0iSSIpZndyaXRlKFNUREVSUixrKCIkbi0kdyIpLiI6ICIuJGcuIlxuIik7ZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCgkX1NFU1NJT05bJ3BlX3R6J10pO2UoJGUpO3JldHVybiB0cnVlO31zdGF0aWMgZnVuY3Rpb24gbGliKCRuPSIiLCRsPSIiLCREPSIiLCYkbz1udWxsKXskTD0mc2VsZjo6JGNvcmUtPmxpYnM7aWYoJGw9PSIiJiZlbXB0eSgkRCkmJiEkbylyZXR1cm4gZW1wdHkoJG4pPyRMOihlbXB0eSgkTFt0KCRuKV0pP251bGw6JExbdCgkbildKTskZD0iIjtpZihlbXB0eSgkbikpeyRuPW0oZCgxKSk7aWYocCgiLyhbMC05XStcXyk/KFteXC9cX10rKShbXlwvXSopXC5waHAkL2kiLCRuLCRtKSkkbj0kbVsyXTt1bnNldCgkbSk7fWlmKCREKXtpZighYSgkRCkpJEQ9eCgiLCIsJEQpO2ZvcmVhY2goJEQgYXMkdilpZighc2VsZjo6aXNJbnN0KCR2KSkkZC49KCRkPyIsIjoiIikuJHY7aWYoJGQpc2VsZjo6bG9nKCJDIiwiJG4gIi5MKCJkZXBlbmRzIG9uIikuIjogJGQiKTt9aWYoISRkJiYkbil7aWYoZW1wdHkoJExbdCgkbildKSkkTFt0KCRuKV09JG8/JG86bmV3XFN0ZENsYXNzKCk7JExbdCgkbildLT5uYW1lPUwoZW1wdHkoJGwpPyRuOiRsKS4oIWVtcHR5KCRvLT52ZXJzaW9uKT8iICgiLiRvLT52ZXJzaW9uLiIpIjoiIik7fX1zdGF0aWMgZnVuY3Rpb24gYWRkb24oJG49IiIsJGw9IiIsJEQ9IiIsJGM9IiIpe2lmKGVtcHR5KCRuKSl7JFM9W3NlbGY6OiRjb3JlLT5hZGRvbnMsc2VsZjo6JGNvcmUtPmpzLHNlbGY6OiRjb3JlLT5qc2xpYixzZWxmOjokY29yZS0+Y3NzXTskZD1AZ2xvYihOLiIqL2FkZG9ucy8qIi5QRSk7Zm9yZWFjaCgkZCBhcyRmKXskRj1tKCRmKTskZD1pbygkZik7JHc9eigkRiwwLHUoJEYpLTQpOyRXPUEuJHc7aWYoY2UoJFcpKXtzZWxmOjphZGRvbigkdywiYWRkb24gJHciKTtpZihxKCRXLCJpbml0IikpeyRXPW5ldyRXKFtdLCR3LCR3KTskVy0+aW5pdCgpO3Vuc2V0KCRXKTt9fX0kcj1zZWxmOjokY29yZS0+YWRkb25zO2xpc3Qoc2VsZjo6JGNvcmUtPmFkZG9ucyxzZWxmOjokY29yZS0+anMsc2VsZjo6JGNvcmUtPmpzbGliLHNlbGY6OiRjb3JlLT5jc3MpPSRTO3JldHVybiRyO30kZD0iIjtpZigkRCl7aWYoIWEoJEQpKSREPXgoIiwiLCREKTtmb3JlYWNoKCREIGFzJHYpaWYoIXNlbGY6OmlzSW5zdCgkdikpJGQuPSgkZD8iLCI6IiIpLiR2O31pZihlbXB0eSgkZCkpe3NlbGY6OiRjb3JlLT5hZGRvbnNbJG5dPShvYmplY3QpWyduYW1lJz0+TChlbXB0eSgkbCk/JG46JGwpLCdjb25mJz0+JGNdO0xBTkdfSU5JVCgkbik7fWVsc2Ugc2VsZjo6bG9nKCJFIiwiJG4gIi5MKCJkZXBlbmRzIG9uIikuIjogJGQiKTt9c3RhdGljIGZ1bmN0aW9uIGlzSW5zdCgkbil7cmV0dXJuKGlzc2V0KHNlbGY6OiRjb3JlLT5saWJzW3QoJG4pXSl8fGlzc2V0KHNlbGY6OiRjb3JlLT5hZGRvbnNbJG5dKXx8Y2UoQy4kbil8fGNlKEEuJG4pfHwhZW1wdHkoQGdsb2IoTi4iKi9hZGRvbnMvIi4kbi5QRSlbMF0pKTt9c3RhdGljIGZ1bmN0aW9uIGUoJHcsJGMsJG0pe3JldHVybiFlbXB0eShzZWxmOjokY29yZS0+b3V0cHV0KSYmc2VsZjo6JGNvcmUtPm91dHB1dD09Imh0bWwiPyI8c3BhbiBzdHlsZT0nYmFja2dyb3VuZDojRjAwMDAwO2NvbG9yOiNGRUEwQTA7cGFkZGluZzozcHg7Jz4iLigkdz8iJHctIjoiIikuKCRjPyIkYzombmJzcDsiOiIiKS5oKCRtKS4iPC9zcGFuPiI6IiRjLSR3OiAiLnMoJG0sWyJcciI9PiIiLCJcbiI9PiJcXG4iXSkuIlxuIjt9c3RhdGljIGZ1bmN0aW9uIGVycm9yKCRtPSIiLCRmPSIiKXtpZihlbXB0eSgkbSkpcmV0dXJuIHNlbGY6OiRjb3JlLT5lcnJvcjtpZighaXNzZXQoc2VsZjo6JGNvcmUtPmVycm9yWyRmXSkpc2VsZjo6JGNvcmUtPmVycm9yWyRmXT1bXTtzZWxmOjokY29yZS0+ZXJyb3JbJGZdW3IoJG0pXT1yKCRtKTtpZihzZWxmOjokY29yZS0+cnVubGV2ZWw+MSlzZWxmOjpsb2coIkUiLCRmLiJAIi4kX1NFUlZFUlsnUkVRVUVTVF9VUkknXS4iICIuJG0sInZhbGlkYXRlIik7fXN0YXRpYyBmdW5jdGlvbiBpc0Vycm9yKCRmPSIiKXtyZXR1cm4hZW1wdHkoJGYpP2lzc2V0KHNlbGY6OiRjb3JlLT5lcnJvclskZl0pOiFlbXB0eShzZWxmOjokY29yZS0+ZXJyb3IpO31zdGF0aWMgZnVuY3Rpb24gcm91dGUoJHU9IiIsJG49IiIsJGE9IiIsJGY9W10pe2lmKGVtcHR5KCR1KSlyZXR1cm4gc2VsZjo6JHI7JEE9ImFjdGlvbiI7JEY9ImZpbHRlcnMiOyRVPSJ1cmwiOyROPSJuYW1lIjtpZihpc19zdHJpbmcoJHUpJiYhZW1wdHkoJG4pKXtpZighYSgkZikpJGY9eCgiLCIsJGYpO3NlbGY6OiRyW2ooJHUsJG4sJGEpXT1bJHUsJG4sJGEsJGZdO31lbHNlaWYoYSgkdSkmJiFlbXB0eSgkdVskVV0pJiYhZW1wdHkoJHVbJE5dKSl7JGY9IWVtcHR5KCR1WyRGXSk/JHVbJEZdOltdOyRhPSFlbXB0eSgkdVskQV0pPyR1WyRBXToiIjtzZWxmOjokcltqKCR1WyRVXSwkdVskTl0sJGEpXT1bJHVbJFVdLCR1WyROXSwkYSxhKCRmKT8kZjp4KCIsIiwkZildO31lbHNlaWYoYSgkdSkmJiFlbXB0eShjdXJyZW50KCR1KVswXSkpe2ZvcmVhY2goJHUgYXMkdilzZWxmOjokcltqKCR2WzBdLCR2WzFdLCghZW1wdHkoJHZbMl0pPyR2WzJdOiIiKSldPSR2O31lbHNlaWYoaXNfb2JqZWN0KCR1KSYmIWVtcHR5KCR1LT4kVSkmJiFlbXB0eSgkdS0+JE4pKXskZj0hZW1wdHkoJHUtPiRGKT8kdS0+JEY6W107JGE9IWVtcHR5KCR1LT4kQSk/JHUtPiRBOiIiO3NlbGY6OiRyW2ooJHUtPiRVLCR1LT4kTiwkYSldPVskdS0+JFUsJHUtPiROLCRhLGEoJGYpPyRmOngoIiwiLCRmKV07fWVsc2Ugc2VsZjo6bG9nKCJXIiwiYmFkIHJvdXRlOiAiLnNlcmlhbGl6ZSgkdSkpO2lmKGNvdW50KHNlbGY6OiRyKT49NTEyKXNlbGY6OmxvZygiQyIsInRvbyBtYW55IHJvdXRlcyIpO31zdGF0aWMgZnVuY3Rpb24gaXNUcnkoJGY9IiIpe3JldHVybiBlbXB0eSgkZil8fCRmPT1zZWxmOjokY29yZS0+Zm9ybT9zZWxmOjokY29yZS0+dHJ5OjA7fXN0YXRpYyBmdW5jdGlvbiBtYygpe3JldHVybiBzZWxmOjokbWM7fXN0YXRpYyBmdW5jdGlvbiB1cmwoJG09IiIsJHA9IiIpeyRjPXNlbGY6OiRjb3JlLT5iYXNlOyRmPW0oX19GSUxFX18pO2lmKGVtcHR5KCRtKSYmIWVtcHR5KHNlbGY6OiRjb3JlLT5hcHApKSRtPXNlbGY6OiRjb3JlLT5hcHA7aWYoZW1wdHkoJHApJiYhZW1wdHkoc2VsZjo6JGNvcmUtPmFwcCkmJnNlbGY6OiRjb3JlLT5hcHA9PSRtKSRwPXNlbGY6OiRjb3JlLT5hY3Rpb247JGE9KCRtIT0iLyI/KCRtLiRwIT1JLiJhY3Rpb24iPyRtLiIvIjoiIikuKCFlbXB0eSgkcCkmJiRwIT0iYWN0aW9uIj8kcC4iLyI6IiIpOiIiKTtyZXR1cm4gImh0dHAiLihzZWxmOjokY29yZS0+c2VjPyJzIjoiIikuIjovLyIuJGMuKCRjW3UoJGMpLTFdIT0iLyI/Ii8iOiIiKS4oJGYhPUkuUEU/JGYuKCRhPyIvIjoiIik6IiIpLiRhO31zdGF0aWMgZnVuY3Rpb24gcmVkaXJlY3QoJHU9IiIsJHM9MCl7aWYoJHMpc2VsZjo6X3IoKTtpZihlbXB0eSgkdSkmJiFlbXB0eSgkX1NFU1NJT05bInBlX3IiXSkpeyR1PSRfU0VTU0lPTlsicGVfciJdO3Vuc2V0KCRfU0VTU0lPTlsicGVfciJdKTt9c2Vzc2lvbl93cml0ZV9jbG9zZSgpO2hlYWRlcigiSFRUUC8xLjEgMzAyIEZvdW5kIik7JGY9bShfX0ZJTEVfXyk7aGVhZGVyKCJMb2NhdGlvbjoiLighZW1wdHkoJHUpPyhzdHJwb3MoJHUsIjovLyIpPyR1OiJodHRwIi4oc2VsZjo6JGNvcmUtPnNlYz8icyI6IiIpLiI6Ly8iLnNlbGY6OiRjb3JlLT5iYXNlLigkZiE9SS5QRT8kZi4iLyI6IiIpLigkdSE9Ii8iPyR1OiIiKSk6c2VsZjo6dXJsKCkuc2VsZjo6JGNvcmUtPml0ZW0pKTtleGl0KCk7fXN0YXRpYyBmdW5jdGlvbiBnZXQoJHUsJHA9IiIsJFQ9MywkbD0wKXtzdGF0aWMkQztpZigkbD43KXJldHVybjtpZihwKCIvXihbXlw6XSspXDpcL1wvKFteXC9cOl0rKVw6PyhbMC05XSopKC4qKSQvIiwkdSwkbSkpeyRzPTA7aWYoJG1bMV0hPSJodHRwIiYmJG1bMV0hPSJodHRwcyIpcmV0dXJuO2lmKCRtWzFdPT0iaHR0cHMiKXskcz0xOyRtWzJdPSJzc2w6Ly8iLiRtWzJdO31pZigkbVszXT09IiIpJG1bM109KCRtWzFdPT0iaHR0cCI/ODA6NDQzKTtpZigkbVs0XT09IiIpJG1bNF09Ii8iOyRmPWZzb2Nrb3BlbigkbVsyXSwkbVszXSwkbiwkZSwkVCk7aWYoISRmKXtzZWxmOjpsb2coIkUiLCIkdSAjJG4gJGUiLCJodHRwIik7cmV0dXJuKCRzJiZzdHJwb3MoJGUsJyJzc2wiJyk/ZmlsZV9nZXRfY29udGVudHMoJHUpOiIiKTt9JFA9YSgkcCk/aHR0cF9idWlsZF9xdWVyeSgkcCwiXyIpOiIiOyRvPSgkUD8iUE9TVCI6IkdFVCIpLiIgIi4kbVs0XS4iIEhUVFAvMS4wXHJcbkhvc3Q6ICIuJG1bMl0uIlxyXG5BY2NlcHQtTGFuZ3VhZ2U6ICIuc2VsZjo6JGNsaWVudC0+bGFuZy4iO3E9MC44XHJcbiIuKCRDPyJDb29raWU6ICIuaHR0cF9idWlsZF9xdWVyeSgkQywiIiwiOyIpLiJcclxuIjoiIikuKCRQPyJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxyXG5Db250ZW50LUxlbmd0aDogIi51KCRQKS4iXHJcbiI6IiIpLiJDb25uZWN0aW9uOiBjbG9zZTtcclxuXHJcbiIuJFA7ZndyaXRlKCRmLCRvKTskZD0kSD0kbj0iIjskaD0iLSI7JHQ9MDtzdHJlYW1fc2V0X3RpbWVvdXQoJGYsJFQpO3doaWxlKCFmZW9mKCRmKSYmcigkaCkhPSIiKXskaD1yKChmZ2V0cygkZiw0MDk2KSkpO2lmKCFlbXB0eSgkaCkpJEg9dCgkaCk7aWYoeigkSCwwLDgpPT0ibG9jYXRpb24iKSRuPXIodygkaCw5KSk7aWYoeigkSCwwLDEyKT09ImNvbnRlbnQtdHlwZSImJnN0cnBvcygkaCwidGV4dC8iKSkkdD0xO2lmKHooJEgsMCwxMCk9PSJzZXQtY29va2llIil7JGM9eCgiPSIseCgiOyIscih3KCRoLDExKSkpWzBdKTtAJENbJGNbMF1dPSRjWzFdO319aWYoJG4mJiRuIT0kdSlyZXR1cm4gc2VsZjo6Z2V0KCRuLCRwLCRULCRsKzEpO2lmKCRIKXt3aGlsZSghZmVvZigkZikpJGQuPWZyZWFkKCRmLDY1NTM1KTtzZWxmOjpsb2coIkQiLCIkdSAiLnN0cmxlbigkZCksImh0dHAiKTt9ZWxzZSBzZWxmOjpsb2coIkUiLCIkdSB0aW1lZCBvdXQgJFQiLCJodHRwIik7ZmNsb3NlKCRmKTtyZXR1cm4kdD9zKCRkLCJcciIsIiIpOiRkO319c3RhdGljIGZ1bmN0aW9uIHNpKCRpKXskdj1yKGluaV9nZXQoJGkpKTskbD10KCR2W3UoJHYpLTFdKTtzd2l0Y2goJGwpe2Nhc2UgJ3QnOiR2Kj0xMDI0O2Nhc2UgJ2cnOiR2Kj0xMDI0O2Nhc2UgJ20nOiR2Kj0xMDI0O2Nhc2UgJ2snOiR2Kj0xMDI0O31yZXR1cm4kdjt9c3RhdGljIGZ1bmN0aW9uIHZhbGlkYXRlKCRmLCR2LCRyPTAsJGE9W10sJHQ9W10pe2lmKHEoQS4kdiwidmFsaWRhdGUiKSlzZWxmOjokdlskZl1bJHZdPVshZW1wdHkoJHIpLCRhLCR0XTt9c3RhdGljIGZ1bmN0aW9uIHJlcTJhcnIoJHAsJFY9W10pe3JldHVybiBzZWxmOjpyZXEyb2JqKCRwLCRWLDEpO31zdGF0aWMgZnVuY3Rpb24gcmVxMm9iaigkcCwkVj1bXSwkYT0wKXtpZigkYSkkbz1hcnJheSgpO2Vsc2Ukbz1uZXdcc3RkQ2xhc3MoKTtpZighZW1wdHkoc2VsZjo6JHYpKSRWKz1zZWxmOjokdjskUj0kX1JFUVVFU1Q7JEU9ImVycm9yIjtmb3JlYWNoKCRWIGFzJEs9PiR2KXtpZih6KCRLLDAsdSgkcCkrMSk9PSRwLiIuIil7JGQ9dygkSyx1KCRwKSsxKTskcj0kcC4iXyIuJGQ7Zm9yZWFjaCgkdiBhcyRUPT4kQyl7aWYoKCRUPT0iY2hlY2sifHwhZW1wdHkoJENbMF0pKSYmZW1wdHkoJFJbJHJdKSkkUlskcl09JFQ9PSJjaGVjayI/ZmFsc2U6IiI7ZWxzZWlmKCgkVD09ImRhdGUifHwkVD09InRpbWUiKSYmIWVtcHR5KCRSWyRyLiI6eSJdKSlsaXN0KCRSWyRyXSk9QWRkT25cZGF0ZTo6dmFsaWRhdGUoJEssJHIsJENbMV0sJENbMl0pO2Vsc2VpZigkVD09ImZpbGUiKXskZj1lbXB0eSgkX0ZJTEVTWyRyXSk/W106JF9GSUxFU1skcl07aWYoIWVtcHR5KCRmWyRFXSkmJiRmWyRFXSE9NClzZWxmOjplcnJvcihMKHVjZmlyc3QoJGQpKS4iICIuTCgiZmFpbGVkIHRvIHVwbG9hZCBmaWxlLiIpLCRLKTskUlskcl09aXNzZXQoJGZbJEVdKSYmJGZbJEVdPT0wPyRmOltdO319fX1rc29ydCgkUik7Zm9yZWFjaCgkUiBhcyRrPT4kdil7aWYoeigkaywwLHUoJHApKzEpPT0kcC4iXyImJiRrW3UoJGspLTJdIT0iOiIpeyRkPXcoJGssdSgkcCkrMSk7JEs9JHAuIi4iLiRkO2lmKGlzc2V0KCRWWyRLXSkpe2ZvcmVhY2goJFZbJEtdIGFzJFQ9PiRDKXskdD1BLiRUO2lmKCRUPT0ibnVtIikkdis9MC4wO2lmKCRUPT0iY2hlY2siKSR2PSR2Pygkdj09MXx8JHY9PScxJz90cnVlOiR2KTpmYWxzZTtpZighZW1wdHkoJENbMF0pJiZlbXB0eSgkdikpeyR2PW51bGw7c2VsZjo6ZXJyb3IoTCh1Y2ZpcnN0KCRkKSkuIiAiLkwoImlzIGEgcmVxdWlyZWQgZmllbGQuIiksJEspO31lbHNlaWYoIWVtcHR5KCR2KSYmcSgkdCwidmFsaWRhdGUiKSl7bGlzdCgkciwkbSk9JHQ6OnZhbGlkYXRlKCRLLCR2LCRDWzFdLCRDWzJdKTtpZighJHImJiRtKXtsaXN0KCRPLCRmKT14KCIuIiwkSyk7c2VsZjo6ZXJyb3IoTCh1Y2ZpcnN0KCFlbXB0eSgkZik/JGY6JE8pKS4iICIuTCgkbSksJEspO319fX0kdj0kdj09InRydWUiP3RydWU6KCR2PT0iZmFsc2UiP2ZhbHNlOiR2KTtpZigkYSkkb1skZF09JHY7ZWxzZSRvLT4kZD0kdjt9fXJldHVybiRvO31zdGF0aWMgZnVuY3Rpb24gYXJyMnN0cigkbywkcz0iIiwkYz0iICIpe3JldHVybiBzZWxmOjpvYmoyc3RyKCRvLCRzLCRjKTt9c3RhdGljIGZ1bmN0aW9uIG9iajJzdHIoJG8sJHM9IiIsJGM9IiAiKXtpZighYSgkcykpJHM9eCgiLCIsJHMpOyRyPSIiOyRkPUNvcmU6OmRiKCk7aWYoaXNfc3RyaW5nKCRvKSkkbz1bJG9dO2ZvcmVhY2goJG8gYXMkaz0+JHYpe2lmKCFpYSgkaywkcykpJHIuPSgkcj8kYzoiIikuJGsuIj0iLigkYz09IiwiJiYhZW1wdHkoJGQpPyRkLT5xdW90ZSgkdik6IiciLnN0cl9yZXBsYWNlKFsiXHIiLCJcbiIsIlx0IiwiXHgxYSJdLFsiXFxyIiwiXFxuIiwiXFx0IiwiXFx4MWEiXSxhZCgkdikpLiInIik7fXJldHVybiRyO31zdGF0aWMgZnVuY3Rpb24gdmFsMmFycigkcywkYz0iLCIpe2lmKGEoJHMpKXJldHVybiRzO2Vsc2VpZigkcyE9IiIpeyR2PXNlbGY6OmdldHZhbCgkcyk7aWYoYSgkdikpcmV0dXJuJHY7cmV0dXJuIHgoJGMsJHYpO31yZXR1cm4gbnVsbDt9c3RhdGljIGZ1bmN0aW9uIHRyZTJhcnIoJHQsJHA9IiAgIiwkcz0iIiwkUD0iIiwkUz0iIiwmJGQ9bnVsbCl7Zm9yZWFjaCgkdCBhcyR2KXskaT1jb3VudCgkZCk7Zm9yZWFjaCgkdiBhcyRrPT4kdyl7aWYoJGshPSJfIil7JGM9dCgkayk9PSJuYW1lIiYmISRzPyRQLiR3LiRTOiR3O2lmKGEoJHYpKSRkWyRpXVska109JGM7ZWxzZWlmKGlzX29iamVjdCgkdikpJGRbJGldLT4kaz0kYzt9fWlmKGEoJHYpJiYhZW1wdHkoJHZbIl8iXSl8fGlzX29iamVjdCgkdikmJiFlbXB0eSgkdi0+Xykpe2lmKCRzKXskYz0iXG4iLnNwcmludGYoJHAsJGkpO2lmKGEoJGRbJGldKSYmaXNzZXQoJGRbJGldWyJuYW1lIl0pKSRkWyRpXVsibmFtZSJdLj0kYztlbHNlaWYoaXNfb2JqZWN0KCRkWyRpXSkmJmlzc2V0KCRkWyRpXS0+bmFtZSkpJGRbJGldLT5uYW1lLj0kYzt9JGQ9c2VsZjo6dHJlMmFycihhKCR2KT8kdlsiXyJdOiR2LT5fLCRwLCRzLCRQLigkcz8iIjokcCksKCRzPyIiOiRzKS4kUywkZCk7aWYoJHMpeyRjPSJcbiIuJHM7aWYoYSgkZFtjb3VudCgkZCktMV0pJiZpc3NldCgkZFtjb3VudCgkZCktMV1bIm5hbWUiXSkpJGRbY291bnQoJGQpLTFdWyJuYW1lIl0uPSRjO2Vsc2VpZihpc19vYmplY3QoJGRbY291bnQoJGQpLTFdKSYmaXNzZXQoJGRbY291bnQoJGQpLTFdLT5uYW1lKSkkZFtjb3VudCgkZCktMV0tPm5hbWUuPSRjO319fXJldHVybiRkO31zdGF0aWMgZnVuY3Rpb24gZGIoJHU9bnVsbCwkTz1udWxsKXtpZihlbXB0eSgkdSkpcmV0dXJuIHNlbGY6OiRkYltzZWxmOjokc107JFM9bWljcm90aW1lKDEpO3RyeXtpZighcCgiL14oLiopQChbXkA6XSspPzo/KFteOl0qKSQvIiwkdSwkZCkpJGRbMV09JHU7aWYoIWEoc2VsZjo6JGRiKSlzZWxmOjokZGI9W107c2VsZjo6JHM9Y291bnQoc2VsZjo6JGRiKTtzZWxmOjokZGJbXT1pc19vYmplY3QoJE8pPyRPOm5ld1xQRE8oJGRbMV0sIWVtcHR5KCRkWzJdKT8kZFsyXToiIiwhZW1wdHkoJGRbM10pPyRkWzNdOiIiLFtcUERPOjpBVFRSX0VSUk1PREU9PlxQRE86OkVSUk1PREVfRVhDRVBUSU9OLFxQRE86OkFUVFJfRU1VTEFURV9QUkVQQVJFUz0+MF0pO2lmKCFpc3NldChzZWxmOjokZGJbc2VsZjo6JHNdKSl0aHJvdyBuZXdcRXhjZXB0aW9uKCk7JGQ9JnNlbGY6OiRkYltzZWxmOjokc107JGQtPmlkPWNvdW50KHNlbGY6OiRkYik7JGQtPm5hbWU9aXNfb2JqZWN0KCRPKT9nZXRfY2xhc3MoJE8pOiRkLT5nZXRBdHRyaWJ1dGUoXFBETzo6QVRUUl9EUklWRVJfTkFNRSk7JGQtPnM9QGluY2x1ZGUoQGdsb2IoTi4iKi9saWJzL2RiXyIuJGQtPm5hbWUuUEUpWzBdKTtpZighaXNzZXQoc2VsZjo6JGNvcmUtPmxpYnNbImRzIl0pKXtzZWxmOjpsaWIoImRzIiwiRGF0YVNvdXJjZSIpO3NlbGY6OiRjb3JlLT5saWJzWyJkcyJdLT5wcmltYXJ5PSRkLT5uYW1lO30kYz14KCI7IixnKFAuInNxbC9faW5pdC4iLiRkLT5uYW1lLiIuc3FsIikuIjsiLmcoImFwcC9zcWwvX2luaXQuIi4kZC0+bmFtZS4iLnNxbCIpKTtmb3JlYWNoKCRjIGFzJG49PiRDKWlmKCFlbXB0eShyKCRDKSkpJGQtPmV4ZWMocigkQykpO31jYXRjaChcRXhjZXB0aW9uJGUpe3NlbGY6OmxvZyhzZWxmOjokcz8iRSI6IkMiLCJVbmFibGUgdG8gaW5pdDogJHUsICIuJGUtPmdldE1lc3NhZ2UoKSwiZGIiKTt0aHJvdyRlO31zZWxmOjokYmlsbCs9bWljcm90aW1lKDEpLSRTO3JldHVybiBzZWxmOjokczt9c3RhdGljIGZ1bmN0aW9uIGRzKCRzPS0xKXtpZigkcz49MCYmJHM8Y291bnQoc2VsZjo6JGRiKSYmIWVtcHR5KHNlbGY6OiRkYlskc10pKXNlbGY6OiRzPSRzO3JldHVybiBzZWxmOjokczt9c3RhdGljIGZ1bmN0aW9uIGxpa2UoJHMpe3JldHVybiBwcigiL1slX10rLyIsIiUiLCIlIi5wcigiL1teYS16MC05XCVdL2kiLCJfIixwcigiL1tcIFx0XSsvIiwiJSIscyhyKCRzKSwiJSIsIiIpKSkuIiUiKTt9c3RhdGljIGZ1bmN0aW9uIGV4ZWMoJHEsJGE9W10pe3NlbGY6OmxvZygiRCIsJHEuIiAiLmpzb25fZW5jb2RlKCRhKSwiZGIiKTtpZighYSgkYSkpJGE9WyRhXTtpZihlbXB0eShzZWxmOjokZGJbc2VsZjo6JHNdKSl0aHJvdyBuZXdcRXhjZXB0aW9uKEwoIkludmFsaWQgZHMiKS4iICMiLnNlbGY6OiRzKTskcT1yKCRxKTtpZihlbXB0eSgkcSl8fCRxWzBdPT0nLSd8fCRxWzBdPT0nLycpcmV0dXJuIDE7JHQ9bWljcm90aW1lKDEpOyRyPW51bGw7JGg9c2VsZjo6JGRiW3NlbGY6OiRzXTt0cnl7JGk9dCh6KCRxLDAsNikpPT0ic2VsZWN0IjtpZihhKCRoLT5zKSlmb3JlYWNoKCRoLT5zIGFzJGs9PiR2KSRxPXByKCRrLCR2LCRxKTskcz0kaC0+cHJlcGFyZSgkcSk7JHMtPmV4ZWN1dGUoJGEpOyRyPSRpPyRzLT5mZXRjaEFsbChcUERPOjpGRVRDSF9BU1NPQyk6JHMtPnJvd0NvdW50KCk7fWNhdGNoKFxFeGNlcHRpb24kZSl7JEU9JGUtPmdldE1lc3NhZ2UoKTtpZigocCgiL2FibGU6P1wgW1wnXCJdPyhbYS16MC05X1wuXSspL21pIixzKCRFLCJsZSBvciB2IiwiIiksJGQpfHxwKCIvKFthLXowLTlfXC5dKylbXCdcIl0gZG9lc1wgP24vbWkiLCRFLCRkKXx8cCgiL25hbWU6P1wgW1wnXCJdPyhbYS16MC05X1wuXSspL21pIiwkRSwkZCkpJiYhZW1wdHkoJGRbMV0pKXskYz0iIjskbT0iLiIudCgkaC0+bmFtZSk7JGQ9eCgiLiIsJGRbMV0pOyRkPXIoIWVtcHR5KCRkWzFdKT8kZFsxXTokZFswXSk7bGlzdCgkRCk9eCgiXyIsJGQpO2ZvcmVhY2goWyJhcHAvc3FsLyRkIixzZWxmOjokcD9zZWxmOjokcC4iL3NxbC8kZCI6IiIsTi4iJEQvc3FsLyRkIixOLnVjZmlyc3QoJEQpLiIvc3FsLyRkIixQLiJzcWwvJGQiLE4uc2VsZjo6JGNvcmUtPmFwcC4iL3NxbC8kZCJdIGFzJGYpe2lmKCRmJiZmKCIkZiRtLnNxbCIpKXskYz1nKCIkZiRtLnNxbCIpO2JyZWFrO31pZigkZiYmZigiJGYuc3FsIikpeyRjPWcoIiRmLnNxbCIpO2JyZWFrO319aWYoZW1wdHkoJGMpKXtzZWxmOjpsb2coIkMiLCRFLCJkYiIpO3Rocm93JGU7fSRjPXgoIjsiLCRjKTtmb3JlYWNoKCRjIGFzJG49PiRDKXt0cnl7aWYoIWVtcHR5KHIoJEMpKSkkaC0+ZXhlYyhyKCRDKSk7fWNhdGNoKFxFeGNlcHRpb24kZSl7c2VsZjo6bG9nKCJDIiwiY3JlYXRpbmcgJGQgbGluZToiLigkbisxKS4iICIuJGUtPmdldE1lc3NhZ2UoKSwiZGIiKTt9fXNlbGY6OmxvZygiQSIsIiRkIGNyZWF0ZWQuIiwiZGIiKTskcz0kaC0+cHJlcGFyZSgkcSk7JHMtPmV4ZWN1dGUoJGEpOyRyPSRpPyRzLT5mZXRjaEFsbChcUERPOjpGRVRDSF9BU1NPQyk6JHMtPnJvd0NvdW50KCk7fWVsc2V7c2VsZjo6bG9nKCJFIiwkcS4iICIuanNvbl9lbmNvZGUoJGEpLiIgIi4kRSwiZGIiKTskcj1udWxsO3Rocm93JGU7fX1zZWxmOjokYmlsbCs9bWljcm90aW1lKDEpLSR0O3JldHVybiRyO31zdGF0aWMgZnVuY3Rpb24gcXVlcnkoJGYsJHQsJHc9IiIsJGc9IiIsJG89IiIsJHM9MCwkbD0wLCRhPVtdKXskcT0iU0VMRUNUICIuJGYuKCR0PyIgRlJPTSAiLiR0OiIiKS4oJHc/IiBXSEVSRSAiLiR3OiIiKS4oJGc/IiBHUk9VUCBCWSAiLiRnOiIiKS4oJG8/IiBPUkRFUiBCWSAiLiRvOiIiKS4oJGw/KCIgTElNSVQgIi4oJHM/JHMuIiwiOiIiKS4kbCk6IiIpLiI7IjtyZXR1cm4gc2VsZjo6ZXhlYygkcSwkYSk7fXN0YXRpYyBmdW5jdGlvbiBmZXRjaCgkZiwkdD0iIiwkdz0iIiwkZz0iIiwkbz0iIiwkYT1bXSl7JHI9c2VsZjo6cXVlcnkoJGYsJHQsJHcsJGcsJG8sMCwxLCRhKTtyZXR1cm4gZW1wdHkoJHJbMF0pP1tdOiRyWzBdO31zdGF0aWMgZnVuY3Rpb24gZmllbGQoJGYsJHQ9IiIsJHc9IiIsJGc9IiIsJG89IiIsJGE9W10pe3JldHVybiByZXNldChzZWxmOjpmZXRjaCgkZiwkdCwkdywkZywkbywkYSkpO31zdGF0aWMgZnVuY3Rpb24gdHJlZSgkcSwkcD0wKXskcj1zZWxmOjpleGVjKCRxLFskcF0pO2lmKGVtcHR5KCRyKSlyZXR1cm5bXTtmb3JlYWNoKCRyIGFzJGs9PiR2KXskaT1pc3NldCgkdlsnaWQnXSk/JHZbJ2lkJ106LTE7aWYoIWVtcHR5KCRpKSYmJGkhPSRwKXskYz1zZWxmOjp0cmVlKCRxLCRpKTtpZighZW1wdHkoJGMpKSRyWyRrXVsiXyJdPSRjO319cmV0dXJuJHI7fXN0YXRpYyBmdW5jdGlvbiBjc3MoJGM9IiIpe2lmKGVtcHR5KCRjKSlyZXR1cm4gc2VsZjo6JGNvcmUtPmNzczskYT1uKGQoMSkpO2lmKGlhKG0oJGEpLFsiY3RybCIsImxpYnMiLCJqcyIsImNzcyIsImFkZG9ucyJdKSkkYT1uKCRhKTskYS49Ii9jc3MvIi5AeCgiPyIsJGMpWzBdO2lmKCFmKCRhKSkkYS49Ii5waHAiO2lmKCFpc3NldChzZWxmOjokY29yZS0+Y3NzWyRjXSkmJmYoJGEpKXNlbGY6OiRjb3JlLT5jc3NbJGNdPXJlYWxwYXRoKCRhKTt9c3RhdGljIGZ1bmN0aW9uIGpzbGliKCRsPSIiLCRpPSIiKXtpZihlbXB0eSgkbCkpcmV0dXJuIHNlbGY6OiRjb3JlLT5qc2xpYjskYT1uKGQoMSkpO2lmKGlhKG0oJGEpLFsiY3RybCIsImxpYnMiLCJqcyIsImNzcyIsImFkZG9ucyJdKSkkYT1uKCRhKTskYS49Ii9qcy8iLkB4KCI/IiwkbClbMF07aWYoIWYoJGEpKSRhLj0iLnBocCI7aWYoIWlzc2V0KHNlbGY6OiRjb3JlLT5qc2xpYlskbF0pKXNlbGY6OiRjb3JlLT5qc2xpYlskbF09cmVhbHBhdGgoJGEpO2lmKCFlbXB0eSgkaSkmJihlbXB0eShzZWxmOjokY29yZS0+anNbImluaXQoKSJdKXx8c3RycG9zKHNlbGY6OiRjb3JlLT5qc1siaW5pdCgpIl0scigkaSkpPT09ZmFsc2UpKXskaT1yKCRpKTtzZWxmOjpqcygiaW5pdCgpIiwkaS4oJGlbdSgkaSktMV0hPSI7Ij8iOyI6IiIpLHRydWUpO319c3RhdGljIGZ1bmN0aW9uIGpzKCRmPSIiLCRjPSIiLCRhPTApeyRDPW1pbmlmeSgkYywianMiKTskQy49KCRDW3UoJEMpLTFdIT0iOyI/IjsiOiIiKTtpZigkYSl7aWYoIWlzc2V0KHNlbGY6OiRjb3JlLT5qc1skZl0pKXNlbGY6OiRjb3JlLT5qc1skZl09IiI7aWYoc3RycG9zKHNlbGY6OiRjb3JlLT5qc1skZl0sJEMpPT09ZmFsc2Upc2VsZjo6JGNvcmUtPmpzWyRmXS49JEM7fWVsc2Ugc2VsZjo6JGNvcmUtPmpzWyRmXT0kQzt9c3RhdGljIGZ1bmN0aW9uIG1lbnUoJHQ9IiIsJGw9IiIpe2lmKGlzX3N0cmluZygkbCl8fGEoJGwpKXNlbGY6OiRjb3JlLT5tZW51WyR0XT0kbDt9c3RhdGljIGZ1bmN0aW9uIHBpY3R1cmUoJG8sJG4sJHcsJGgsJGM9MCwkbD0xLCRXPSIiLCRzPTgxOTIsJG09NSl7JGQ9Zygkbyk7aWYoIXkoImdkX2luZm8iKXx8ZW1wdHkoJGQpfHwhKCRpPUBpbWFnZWNyZWF0ZWZyb21zdHJpbmcoJGQpKSl7Q29yZTo6bG9nKCdXJywibm8gcGhwLWxpYmdkIG9yIGJhZCBpbWFnZTogJG8iLCJwaWN0dXJlIik7aWYoZigkbykpQGNvcHkoJG8sJG4pO3JldHVybiBmYWxzZTt9JHg9aW1hZ2VzeCgkaSk7JHk9aW1hZ2VzeSgkaSk7JHE9OTskbT0oJG0+MCYmJG08MTA/JG06NSk7JHM9KCRzPjY0PyRzOjY0KSoxMDI0OyRqPSJpbWFnZXBuZyI7aWYoISRsKXskaj0iaW1hZ2VqcGVnIjskbSo9MTA7JHE9OTk7fUNvcmU6OmxvZygnRCcsJG8uIigkeCwkeSkgLT4gIi4kbi4iKCR3LCRoLCIuKCRjPyJjcm9wIjoicmVzaXplIikuIiwkaiwkcywkcSkgJFciLCJwaWN0dXJlIik7aWYoISRjKXskWD0keDwkeT9mbG9vcigoJGgvJHkpKiR4KTokdzskWT0keDwkeT8kaDpmbG9vcigoJHcvJHgpKiR5KTskYz0kZD0wOyRlPSR4OyRmPSR5O31lbHNleyRYPSR3OyRZPSRoOyRjPSR4PiR5P2Zsb29yKGFicygkeC0keSkvMik6MDskZD0keD4keT8wOmZsb29yKGFicygkeS0keCkvMik7JGU9JHg+JHk/Zmxvb3IoJHcqJHkvJGgpOiR4OyRmPSR4PiR5PyR5OmZsb29yKCR3KiR4LyRoKTt9JE49aW1hZ2VjcmVhdGV0cnVlY29sb3IoJFgsJFkpO2lmKCRsKXtpbWFnZWFscGhhYmxlbmRpbmcoJE4sMCk7JGE9aW1hZ2Vjb2xvcmFsbG9jYXRlYWxwaGEoJE4sMjU1LDI1NSwyNTUsMjU1KTtpbWFnZXNhdmVhbHBoYSgkTiwxKTt9ZWxzZSRhPWltYWdlY29sb3JhbGxvY2F0ZSgkTiwyNTUsMjU1LDI1NSk7aW1hZ2VmaWxsKCROLDAsMCwkYSk7aW1hZ2Vjb3B5cmVzYW1wbGVkKCROLCRpLDAsMCwkYywkZCwkWCwkWSwkZSwkZik7JFQ9ImRhdGEvIi4kVy4iLnBuZyI7aWYoIWVtcHR5KCRXKSYmZigkVCkpeyRnPWltYWdlY3JlYXRlZnJvbXBuZygkVCk7JGE9aW1hZ2VzeCgkZyk7JGI9aW1hZ2VzeSgkZyk7Zm9yKCR5PTA7JHk8JFk7JHkrPSRhKWZvcigkeD0wOyR4PCRYOyR4Kz0kYSlpbWFnZWNvcHlyZXNhbXBsZWQoJE4sJGcsJHgsJHksMCwwLCRhLCRiLCRhLCRiKTt9QHVubGluaygkbik7d2hpbGUoIWYoJG4pfHwoZmlsZXNpemUoJG4pPiRzJiYkcT49JG0pKXtAdW5saW5rKCRuKTtpZighJGooJE4sJG4sJHEtLSkpe0Bjb3B5KCRvLCRuKTtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9c3RhdGljIGZ1bmN0aW9uIHRlbXBsYXRlKCRuKXtpZigkbj09IjQwMyJ8fCRuPT0iNDA0IiloZWFkZXIoIkhUVFAvMS4xICRuICIuKCRuPT0iNDAzIj8iQWNjZXNzIERlbmllZCI6Ik5vdCBGb3VuZCIpKTskZD1zZWxmOjpfZ3QoJG4pO2lmKGVtcHR5KCRkKSlyZXR1cm4gIiI7c2VsZjo6JG49LTE7c2VsZjo6JGM9W107cmV0dXJuIHNlbGY6Ol90KCRkKTt9c3RhdGljIGZ1bmN0aW9uIGdldHZhbCgkeCl7aWYoc3RycG9zKCR4LCIkIikhPT1mYWxzZXx8cCgiL1teIT1dPVtePV0vIiwkeCkpcmV0dXJuIHNlbGY6OmUoIlciLCJCQURJTlAiLCR4KTskbD0kcj0iIjskZD0keDtmb3IoJGk9MDskaTx1KCRkKTskaSsrKXskYz0kZFskaV07aWYoJGM9PSciJ3x8JGM9PSInIil7JHIuPSRjOyRpKys7JGI9IiI7d2hpbGUoJGk8dSgkZCkmJiRiIT0kYyl7aWYoJGI9PSJcXCIpJGIuPSRkWysrJGldOyRyLj0kYjskYj0kZFskaSsrXTt9JHIuPSRjOyRsPSIiO31pZigoY3R5cGVfYWxwaGEoJGMpfHwkYz09Il8iKSYmIWN0eXBlX2FsbnVtKCRsKSYmJGwhPSIuIiYmJGwhPSJfIil7JGo9JGk7JGI9JGRbJGpdO3doaWxlKCRiJiYoY3R5cGVfYWxudW0oJGIpfHwkYj09Il8iKSl7JGorKzskYj1pc3NldCgkZFskal0pPyRkWyRqXToiIjt9aWYoJGIhPSIoIiYmJGIhPSI6Iil7JHY9eigkZCwkaSwkai0kaSk7c3dpdGNoKCR2KXtjYXNlICJLRVkiOmNhc2UgIklEWCI6Y2FzZSAiVkFMVUUiOmlmKGlzc2V0KHNlbGY6OiRjW3NlbGY6OiRuXS0+JHYpKSR2PXNlbGY6OiRjW3NlbGY6OiRuXS0+JHY7aWYoYSgkdikpcmV0dXJuJHY7QCRyLj0iJyIuYWQoJHYpLiInIjskaT0kajticmVhaztjYXNlICJPREQiOiRyLj1zZWxmOjokY1tzZWxmOjokbl0tPklEWCUyOyRpPSRqO2JyZWFrO2Nhc2UgInBhcmVudCI6JFk9c2VsZjo6JG4tMTt3aGlsZSh6KCRkLCRqLDcpPT0iLnBhcmVudCIpeyRqKz03OyRZLS07fSRuPXooJGQsJGorMSwzKTskais9NCsoJG49PSJWQUwiPzI6MCk7aWYoJG49PSJPREQiKSR2PXNlbGY6OiRjWyRZXS0+SURYJTI7ZWxzZWlmKGlzc2V0KHNlbGY6OiRjWyRZXS0+JG4pKSR2PXNlbGY6OiRjWyRZXS0+JG47ZWxzZWlmKGlzc2V0KHNlbGY6OiRjWyRZXS0+VkFMVUUtPiRuKSkkdj1zZWxmOjokY1skWV0tPlZBTFVFLT4kbjtlbHNlaWYoaXNzZXQoc2VsZjo6JGNbJFldLT5WQUxVRVskbl0pKSR2PXNlbGY6OiRjWyRZXS0+VkFMVUVbJG5dO2Vsc2Ukdj0iIjskci49IiciLmFkKCR2KS4iJyI7JGk9JGo7YnJlYWs7Y2FzZSAidHJ1ZSI6Y2FzZSAiZmFsc2UiOmNhc2UgIm51bGwiOmJyZWFrO2RlZmF1bHQ6aWYoaXNzZXQoc2VsZjo6JGNbc2VsZjo6JG5dKSYmYShzZWxmOjokY1tzZWxmOjokbl0tPlZBTFVFKSl7QCRyLj0iJyIuYWQoc2VsZjo6JGNbc2VsZjo6JG5dLT5WQUxVRVskdl0pLiInIjskaT0kajt9ZWxzZWlmKGlzc2V0KHNlbGY6OiRjW3NlbGY6OiRuXS0+VkFMVUUtPiR2KSl7QCRyLj0iJyIuYWQoc2VsZjo6JGNbc2VsZjo6JG5dLT5WQUxVRS0+JHYpLiInIjskaT0kajt9ZWxzZXskci49IlwkIjskZlskdl09MTt9fX1lbHNlaWYoJGI9PSIoIiYmKCRqLSRpIT0xfHwkZFskaV0hPSJMIikmJnooJGQsJGksNSkhPSJjb3JlLiImJnooJGQsJGksJGotJGkpIT0iYXJyYXkiJiYhZW1wdHkoc2VsZjo6JGNvcmUtPmFsbG93ZWQpJiYhaWEoeigkZCwkaSwkai0kaSksc2VsZjo6JGNvcmUtPmFsbG93ZWQpKXJldHVybiBzZWxmOjplKCJFIiwiQkFERk5DIiwkeCk7fSRyLj0oJGM9PSIuIj8iLT4iOihpc3NldCgkZFskaV0pPyRkWyRpXToiIikpOyRsPSRjO30kcj1zKCRyLFsiKyciPT4iLiciLCIrXCIiPT4iLlwiIiwiJysiPT4iJy4iLCJcIisiPT4iXCIuIl0pO2lmKCFlbXB0eSgkZikpe2ZvcmVhY2goJGYgYXMkaz0+JHYpe2lmKCFpc3NldCgkJGspJiZpc3NldChzZWxmOjokb1ska10pKSQkaz1zZWxmOjokb1ska107ZWxzZWlmKCFpc3NldCgkJGspJiZpc3NldChzZWxmOjokb1siYXBwIl0tPiRrKSkkJGs9c2VsZjo6JG9bImFwcCJdLT4kazt9fXRyeXskZT1lKCk7ZSgkZSZ+RV9OT1RJQ0UpO29iX3N0YXJ0KCk7JFI9ZXZhbCgicmV0dXJuICIuJHIuIjsiKTskbz1vKCk7ZSgkZSk7aWYoc2VsZjo6JGNvcmUtPnJ1bmxldmVsPjJ8fCFlbXB0eSgkbykpc2VsZjo6bG9nKCFlbXB0eSgkbyk/IkUiOiJEIiwkeC4iID0+ICIuJHIuIiA9ICIuc2VyaWFsaXplKCRSKSwicGhwIik7fWNhdGNoKFxFeGNlcHRpb24kRSl7c2VsZjo6bG9nKCJFIiwkRS0+Z2V0TWVzc2FnZSgpLiIgIi4kciwicGhwIik7fXJldHVybiRSO31zdGF0aWMgZnVuY3Rpb24gYXNzaWduKCRuLCYkbyl7c2VsZjo6JG9bJG5dPSYkbzt9c3RhdGljIGZ1bmN0aW9uIF9yKCl7JF9TRVNTSU9OWydwZV9yJ109Imh0dHAiLihzZWxmOjokY29yZS0+c2VjPyJzIjoiIikuIjovLyIuJF9TRVJWRVJbIlNFUlZFUl9OQU1FIl0uJF9TRVJWRVJbIlJFUVVFU1RfVVJJIl07fXN0YXRpYyBmdW5jdGlvbiBfY2YoJGMpe2lmKCFhKCRjKSkkYz14KCIsIiwkYyk7aWYoIWVtcHR5KCRjKSlmb3JlYWNoKCRjIGFzJEYpeyRGPXIoJEYpOyRHPUMuIkZpbHRlclxcJEYiO2lmKCFlbXB0eSgkRikmJigoJEZbMF09PSdAJyYmIXNlbGY6OiR1c2VyLT5oYXModygkRiwxKSkpfHwoJEZbMF0hPSdAJyYmIUAkRzo6ZmlsdGVyKCkpKSl7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fXN0YXRpYyBmdW5jdGlvbiBfdGMoKXtyZXR1cm4rK3NlbGY6OiR0Yzt9c3RhdGljIGZ1bmN0aW9uIF9ndCgkbil7JHQ9IiI7JG09W107JE09Im1ldGEiOyRWPSJ2aWV3cyI7JGU9Ii50cGwiO2lmKCFlbXB0eShzZWxmOjokbWMpKXskQz0ndF8nLnNoYTEoc2VsZjo6JGNvcmUtPmJhc2UuIl8iLiRuKTskcD1zZWxmOjokbWMtPmdldCgkQyk7aWYoYSgkcCkpe2lmKGEoJHBbJ20nXSkpJG09JHBbJ20nXTtpZighZW1wdHkoJHBbJ2QnXSkpJHQ9JHBbJ2QnXTt9fWlmKCEkdCl7aWYoIWVtcHR5KHNlbGY6OiRkYlswXSkmJmYoUC4ic3FsLyRWLnNxbCIpKXskZD1zZWxmOjokcztzZWxmOjpkcygwKTt0cnl7Zm9yZWFjaChbc2VsZjo6JGNvcmUtPmFwcC4iLyIuJG4sJG5dIGFzJHYpeyRwPXNlbGY6OmZldGNoKCIqIiwkViwiaWQ9PyIsIiIsIiIsWyR2XSk7aWYoIWVtcHR5KCRwWydkYXRhJ10pKXtmb3JlYWNoKFsiY3NzIiwianNsaWIiXSBhcyRjKXskdD1qZCgkcFskY10pO2lmKGEoJHQpKWZvcmVhY2goJHQgYXMkdikke3NlbGY6OiRjb3JlLT4kY31bbSgkdildPSR2O30kdD0kcFsnZGF0YSddO2lmKCFlbXB0eSgkcFskTV0pKSRtPWpkKCRwWyRNXSwxKTticmVhazt9fX1jYXRjaChcRXhjZXB0aW9uJGUpe31zZWxmOjpkcygkZCk7fWlmKCEkdClmb3JlYWNoKFsiYXBwLyRWLyRuJGUiLHNlbGY6OiRwP3NlbGY6OiRwLiIvJFYvJG4kZSI6IiIsTi5zZWxmOjokY29yZS0+YXBwLiIvJFYvJG4kZSIsUC4iJFYvJG4kZSJdIGFzJEYpaWYoJEYmJiR0PWcoJEYpKXt3aGlsZShwKCIvXltcclxuXCBcdF0qPCRNIG5hbWU9JyhbXiddKyknIGNvbnRlbnQ9JyhbXiddKyknPi9tIiwkdCwkcikpeyR0PXcoJHQsdSgkclswXSkpOyRtWyRyWzFdXT0kclsyXTt9YnJlYWs7fSR0PXByKCIvPCEtLio/LT5bXHJcbl0qL21zIiwiIixwcigiLzxcPy4qP1w/XD5bXHJcbl0qL21zIiwiIiwkdCkpO2lmKCFlbXB0eShzZWxmOjokbWMpJiYhZW1wdHkoJHQpKSR0aGlzLT5fbXMoJEMsWyJtIj0+JG0sImQiPT4kdF0pO31zZWxmOjokY29yZS0+bWV0YSs9YSgkbSk/JG06WyRtXTtyZXR1cm4kdDt9c3RhdGljIGZ1bmN0aW9uIF90KCR4LCRyZT0wKXskTD1zZWxmOjplKCJXIiwiVE9PTU5ZIixMKCJyZWN1cnNpb24gbGltaXQgZXhjZWVkZWQiKSk7aWYoJHJlPj02NClyZXR1cm4kTDskQ009c2VsZjo6JGNvcmUtPmFwcD09ImNtcyImJnNlbGY6OiRjb3JlLT5hY3Rpb249PSJwYWdlcyImJnEoQy4iQ01TIiwiaWNvbiIpO2lmKHByZWdfbWF0Y2hfYWxsKCIvPCEoW15cW1wtXVtePl0rKT5bXHJcbl0qL21zIiwkeCwkVCxQUkVHX09GRlNFVF9DQVBUVVJFfFBSRUdfU0VUX09SREVSKSl7JG89W107JEk9MDtmb3JlYWNoKCRUIGFzJGs9PiR2KXskVFska11bMF1bMl09dSgkdlswXVswXSk7JHQ9dCh6KCR2WzFdWzBdLDAsNCkpO2lmKHooJHQsMCwyKT09ImlmInx8JHQ9PSJmb3JlInx8JHQ9PSJ0ZW1wIikkb1skSSsrXT0kaztlbHNlaWYoJHQ9PSJlbHNlIikkVFskb1skSS0xXV1bNF09JGs7ZWxzZWlmKHooJHQsMCwzKT09Ii9pZiJ8fCR0PT0iL2ZvciJ8fCR0PT0iL3RlbSIpJFRbJG9bLS0kSV1dWzNdPSRrO31pZigkSSlyZXR1cm4gc2VsZjo6ZSgiVyIsIlVOQ0xTIixMKCJ1bmNsb3NlZCB0YWciKSk7dW5zZXQoJG8pOyRDPTA7Zm9yKCRrPTA7JGs8Y291bnQoJFQpJiYkbT0kVFska107JGsrKyl7JHRhPXIoJG1bMV1bMF0pOyR3PSIiOyRhPSIiO2lmKCR0YVswXT09Ij0iKSR0PSI9IjtlbHNlJHQ9dChzdHJzdHIoJHRhLCcgJyx0cnVlKSk7aWYoZW1wdHkoJHQpKSR0PSR0YTtlbHNlJGE9cih3KCR0YSx1KCR0KSkpOyRBPXgoIiAiLCRhKTskb289JG1bMF1bMV07JG9zPSRtWzBdWzJdO3N3aXRjaCgkdCl7Y2FzZSAiYXBwIjokdz0iPCFhcHA+IjticmVhaztjYXNlICJpbmNsdWRlIjokYz1zZWxmOjpfZ3QoJGEpO2lmKCEkYykkYz1zZWxmOjpfZ3Qoc2VsZjo6Z2V0dmFsKCRhKSk7JHc9c2VsZjo6X3QoJGMsJHJlKzEpO2JyZWFrO2Nhc2UgIj0iOiR3PXNlbGY6OmdldHZhbCgkYSk7YnJlYWs7Y2FzZSAidGVtcGxhdGUiOiR3PXNlbGY6Ol90KHMoc2VsZjo6X3QoeigkeCwkbVswXVsxXSskbVswXVsyXSskQywkVFskbVszXV1bMF1bMV0tJG1bMF1bMV0tJG1bMF1bMl0pLCRyZSksIjwlIiwiPCEiKSwkcmUrMSk7JGs9JG1bM107JG9zPSRUWyRtWzNdXVswXVsxXS0kbVswXVsxXSskVFskbVszXV1bMF1bMl07YnJlYWs7Y2FzZSAiZm9yZWFjaCI6JGQ9c2VsZjo6Z2V0dmFsKCRhKTtzZWxmOjokbisrO3NlbGY6OiRjW3NlbGY6OiRuXT0ob2JqZWN0KVsnSURYJz0+MV07JHQ9eigkeCwkbVswXVsxXSskbVswXVsyXSskQywkVFskbVszXV1bMF1bMV0tJG1bMF1bMV0tJG1bMF1bMl0pO2lmKChhKCRkKSYmY291bnQoJGQpPjApfHxpc19vYmplY3QoJGQpKWZvcmVhY2goJGQgYXMkaz0+JHYpe3NlbGY6OiRjW3NlbGY6OiRuXS0+S0VZPSRrO3NlbGY6OiRjW3NlbGY6OiRuXS0+VkFMVUU9JHY7JHcuPXNlbGY6Ol90KCR0LCRyZSsxKTtzZWxmOjokY1tzZWxmOjokbl0tPklEWCsrO30kaz0kbVszXTskb3M9JFRbJG1bM11dWzBdWzFdLSRtWzBdWzFdKyRUWyRtWzNdXVswXVsyXTt1bnNldChzZWxmOjokY1tzZWxmOjokbl0pO3NlbGY6OiRuLS07YnJlYWs7Y2FzZSAiaWYiOiRvcz0kVFskbVszXV1bMF1bMV0rJFRbJG1bM11dWzBdWzJdLSRtWzBdWzFdOyR3PXNlbGY6Ol90KCgkYSE9ImNtcyImJiFlbXB0eShzZWxmOjpnZXR2YWwoJGEpKSl8fCgkYT09ImNtcyImJiRDTSk/eigkeCwkb28rJEMrJG1bMF1bMl0sIWVtcHR5KCRtWzRdKT8kVFskbVs0XV1bMF1bMV0tJG1bMF1bMV0tJG1bMF1bMl06JG9zLSRtWzBdWzJdLSRUWyRtWzNdXVswXVsyXSk6KCFlbXB0eSgkbVs0XSk/eigkeCwkVFskbVs0XV1bMF1bMV0rJEMrJFRbJG1bNF1dWzBdWzJdLCRUWyRtWzNdXVswXVsxXS0kVFskbVs0XV1bMF1bMV0tJFRbJG1bNF1dWzBdWzJdKToiIiksJHJlKzEpOyRrPSRtWzNdO2JyZWFrO2Nhc2UgImZvcm0iOnNlbGY6OiR0Yz0wOyRjPXNlbGY6OiRjb3JlLT5hcHAuIi4iLnNlbGY6OiRjb3JlLT5hY3Rpb247JG49IWVtcHR5KCRBWzBdKSYmJEFbMF0hPSItIj91cmxlbmNvZGUoJEFbMF0pOiJmb3JtIjskdz0iPGZvcm0gbmFtZT0nIi4kbi4iJyBhY3Rpb249JyIudXJsKCFlbXB0eSgkQVsxXSkmJiRBWzFdIT0iLSI/JEFbMV06IiIpLiInIG1ldGhvZD0ncG9zdCcgZW5jdHlwZT0nbXVsdGlwYXJ0L2Zvcm0tZGF0YSciLighZW1wdHkoJEFbMl0pJiYkQVsyXSE9Ii0iPyIgb25zdWJtaXQ9XCIiLnMoJEFbMl0sIlwiIiwiXFxcIiIpLiJcIiI6IiIpLiI+PGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nTUFYX0ZJTEVfU0laRScgdmFsdWU9JyIuc2VsZjo6JGZtLiInPjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J3BlX3MnIHZhbHVlPSciLkAkX1NFU1NJT05bInBlX3MiXVskY10uIic+PGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0ncGVfZicgdmFsdWU9JyIuJG4uIic+Ii4oIWVtcHR5KHNlbGY6OiRjb3JlLT5pdGVtKT8iPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0naXRlbScgdmFsdWU9JyIuaChzZWxmOjokY29yZS0+aXRlbSkuIic+IjoiIik7YnJlYWs7Y2FzZSAidGltZSI6Y2FzZSAiZGF0ZSI6JHY9c2VsZjo6Z2V0dmFsKCRBWzBdKTskdz0hZW1wdHkoJHYpP2RhdGUoKCFlbXB0eShzZWxmOjokbFsnZGF0ZWZvcm1hdCddKT9zZWxmOjokbFsnZGF0ZWZvcm1hdCddOiJZLW0tZCIpLigkdD09InRpbWUiPyIgSDppOnMiOiIiKSx0cygkdikpOighZW1wdHkoJEFbMV0pPyIiOkwoIkVwb2NoIikpO2JyZWFrO2Nhc2UgImRpZmZ0aW1lIjokdz0iIjskdj1zZWxmOjpnZXR2YWwoJEFbMF0pO2lmKCFlbXB0eSgkQVsxXSkpe2lmKCEkdil7JHc9Ii0iO2JyZWFrO30kdi09dHMoc2VsZjo6Z2V0dmFsKCRBWzFdKSk7fWlmKCR2PDApeyR3PSItICI7JHY9LSR2O30kYz1mbG9vcigkdi84NjQwMCk7JGI9Zmxvb3IoKCR2LSRjKjg2NDAwKS8zNjAwKTskYT1mbG9vcigoJHYtJGMqODY0MDAtJGIqMzYwMCkvNjApOyR3Lj0kYz8iJGMgIi5MKCJkYXkiLigkYz4xPyJzIjoiIikpOigkYj8iJGIgIi5MKCJob3VyIi4oJGI+MT8icyI6IiIpKToiIikuKCRhfHwhJGI/KCRiPyIsICI6IiIpLiIkYSAiLkwoIm1pbiIuKCRhPjE/InMiOiIiKSk6IiIpO2JyZWFrO2Nhc2UgImwiOiR3PWlzc2V0KHNlbGY6OiRsWyRhXSk/TCgkYSk6Ik5BXyIuJGE7YnJlYWs7Y2FzZSAiZHVtcCI6JGw9c2VsZjo6JGNvcmUtPnJ1bmxldmVsO2lmKCRsPDEpJHc9IiI7ZWxzZXtvYl9zdGFydCgpOyRzPW51bGw7aWYoJEFbMF09PSJfU0VTU0lPTiIpeyRzPSRfU0VTU0lPTjt1bnNldCgkc1sicGVfdSJdKTt1bnNldCgkc1sicGVfcyJdKTt1bnNldCgkc1sicGVfdiJdKTt9ZWxzZSRzPXNlbGY6OmdldHZhbCgkQVswXSk7aWYoJGw+MSl7dmFyX2R1bXAoJHMpOyRuPW8oKTtpZigkblswXSE9IjwiKSRuPSI8cHJlPiIuJG4uIjwvcHJlPiI7fWVsc2V7cHJpbnRfcigkcyk7JG49IjxwcmU+Ii5oKG8oKSkuIjwvcHJlPiI7fSR3PSI8YiBzdHlsZT0nZm9udC1mYW1pbHk6bW9ub3NwYWNlOyc+Ii4kQVswXS4iOjwvYj4iLnMoJG4sIjxwcmUiLCI8cHJlIHN0eWxlPSdtYXJnaW46MDsnIik7fWJyZWFrO2Nhc2UgImNtcyI6e2lmKCRDTSkkdz1DTVM6Omljb24oJEEpLiI8c3Bhbj4iO31jYXNlICJ3aWRnZXQiOmNhc2UgInZhciI6Y2FzZSAiZmllbGQiOiRaPSRSPSRtPWZhbHNlO2lmKCRBWzBdWzBdPT0nQCcpeyRaPXcoJEFbMF0sMSk7YXJyYXlfc2hpZnQoJEEpO31pZigkQVswXVswXT09JyonKXskUj10cnVlOyRBWzBdPXcoJEFbMF0sMSk7fSRmPSRBWzBdO2lmKHAoIi9eKFteXChdKylbXChdPyhbXlwpXSopLyIsJEFbMF0sJG1hKSYmIWVtcHR5KCRtYVsxXSkpeyRmPSRtYVsxXTtpZigkZj09InN1Ym1pdCIpJGY9InVwZGF0ZSI7JGE9c2VsZjo6Z2V0dmFsKCJbIi4kbWFbMl0uIl0iKTthcnJheV9zaGlmdCgkQSk7JG49IWVtcHR5KCRBWzBdKT8kQVswXToiIjthcnJheV9zaGlmdCgkQSk7aWYoIWlhKCRmLFsidXBkYXRlIiwiY2FuY2VsIiwiYnV0dG9uIl0pKSR2PXNlbGY6OmdldHZhbCgkbik7JGQ9QS4kZjtpZighY2UoJGQpJiYkRD1AZ2xvYihOLiIqL2FkZG9ucy8iLiRmLlBFKVswXSlpbygkRCk7aWYoY2UoJGQpJiZpc19zdWJjbGFzc19vZigkZCxDLiJBZGRPbiIpKXskRj1uZXckZCgkYSwkbiwkdiwkQSwkUik7aWYoZW1wdHkoc2VsZjo6JGNvcmUtPmFkZG9uc1skZl0pJiZxKCRGLCJpbml0IikpJEYtPmluaXQoKTtpZigkUnx8JGY9PSJjaGVjayJ8fCRmPT0iZmlsZSJ8fHEoQS4kZiwidmFsaWRhdGUiKSkkX1NFU1NJT05bInBlX3YiXVskbl1bJGZdPVskUiwkYSwkQV07JG09JHQhPSJjbXMiJiYoJHQ9PSJmaWVsZCJ8fCFlbXB0eSgkX1NFU1NJT05bJHQ9PSJ2YXIiPyJwZV9lIjoicGVfYyJdKSkmJnEoJEYsImVkaXQiKT8iZWRpdCI6InNob3ciOyR3Lj1xKCRGLCRtKSYmKCEkWnx8c2VsZjo6JHVzZXItPmhhcygkWikpPyRGLT4kbSgpOiR2O3Vuc2V0KCRGKTticmVhazt9fSR3Lj0kdD09ImNtcyJ8fCgkdD09InZhciImJmVtcHR5KCRfU0VTU0lPTlsncGVfZSddKSk/KGlzX3NjYWxhcigkdik/JHYuIiI6JHYmJmpzb25fZW5jb2RlKCR2KSk6c2VsZjo6ZSgiVyIsIlVOS0FERE9OIiwkZik7JHcuPSR0PT0iY21zIiYmJENNPyI8L3NwYW4+IjoiIjticmVhaztkZWZhdWx0OiR3PXNlbGY6OmUoIlciLCJVTktUQUciLCR0KTt9JEQ9JG9vKyRDJiYkeFskb28rJEMtMV09PSJcbiI/MTowOyRFPWlzc2V0KCR4WyRvbyskb3MrJENdKSYmJHhbJG9vKyRvcyskQ109PSJcbiI/MTowOyR4PXooJHgsMCwkb28rJEMtJEQpLiR3LncoJHgsJG9vKyRvcyskQyskRSk7JEMrPUB1KCR3KS0kb3MtJEQtJEU7fX1yZXR1cm4keDt9ZnVuY3Rpb24gX21zKCRrLCR2KXtzZWxmOjokbWMtPnNldCgkaywkdixNRU1DQUNIRV9DT01QUkVTU0VELCR0aGlzLT5jYWNoZXR0bCk7fWZ1bmN0aW9uIF9laCgkZSwkYz1bXSl7Zm9yZWFjaCgkdGhpcy0+bGlicyBhcyRrPT4kdilpZihxKCR2LCRlKSkkYz0kdi0+JGUoJGMpO3JldHVybiRjO319fW5hbWVzcGFjZSBQSFBQRVxGaWx0ZXJ7dXNlXFBIUFBFXEZpbHRlciBhcyBYO2NsYXNzIGdldCBleHRlbmRzIFh7ZnVuY3Rpb24gZmlsdGVyKCl7cmV0dXJuJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ109PSJHRVQiO319Y2xhc3MgcG9zdCBleHRlbmRzIFh7ZnVuY3Rpb24gZmlsdGVyKCl7cmV0dXJuJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ109PSJQT1NUIjt9fWNsYXNzIGxvZ2dlZGluIGV4dGVuZHMgWHtmdW5jdGlvbiBmaWx0ZXIoKXtpZihcUEhQUEVcQ29yZTo6JHVzZXItPmlkKXJldHVybiB0cnVlO1xQSFBQRVxDb3JlOjpyZWRpcmVjdCgibG9naW4iLDEpO319Y2xhc3MgY3NyZiBleHRlbmRzIFh7ZnVuY3Rpb24gZmlsdGVyKCl7cmV0dXJuXFBIUFBFXENvcmU6OmlzVHJ5KCk7fX19bmFtZXNwYWNlIFBIUFBFXEFkZE9ue3VzZVxQSFBQRVxDb3JlIGFzIENvcmU7dXNlXFBIUFBFXEFkZE9uIGFzIFg7Y2xhc3MgaGlkZGVuIGV4dGVuZHMgWHtmdW5jdGlvbiBlZGl0KCl7cmV0dXJuICI8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSciLiR0aGlzLT5mbGQuIicgdmFsdWU9JyIuaChyKCR0aGlzLT52YWx1ZSkpLiInPiI7fX1jbGFzcyBidXR0b24gZXh0ZW5kcyBYe2Z1bmN0aW9uIHNob3coKXtyZXR1cm4kdGhpcy0+ZWRpdCgpO31mdW5jdGlvbiBlZGl0KCl7JHQ9JHRoaXM7JGE9JHQtPmF0dHJzO3JldHVybiAiPGJ1dHRvbiBjbGFzcz0nIi4oIWVtcHR5KCRhWzFdKSYmJGFbMV0hPSItIj8kYVsxXToiYnV0dG9uIikuIicgb25jbGljaz1cIiIucyghZW1wdHkoJGFbMF0pJiYkYVswXSE9Ii0iPyRhWzBdOiJhbGVydCgnIi5MKCJObyBhY3Rpb24iKS4iJyk7IiwiXCIiLCJcXFwiIikuIlwiPiIuTCghZW1wdHkoJHQtPm5hbWUpPyR0LT5uYW1lOiJQcmVzcyBtZSIpLiI8L2J1dHRvbj4iO319Y2xhc3MgdXBkYXRlIGV4dGVuZHMgWHtmdW5jdGlvbiBlZGl0KCl7JHQ9JHRoaXM7JGE9JHQtPmF0dHJzO3JldHVybiAiPGlucHV0IGNsYXNzPSciLighZW1wdHkoJGFbMV0pJiYkYVsxXSE9Ii0iPyRhWzFdOiJidXR0b24iKS4iJyBuYW1lPSdwZV90cnkiLkNvcmU6Ol90YygpLiInIHR5cGU9J3N1Ym1pdCcgdmFsdWU9XCIiLmgoTCghZW1wdHkoJHQtPm5hbWUpPyR0LT5uYW1lOiJPa2F5IikpLiJcIiIuKCFlbXB0eSgkYVswXSkmJiRhWzBdIT0iLSI/IiBvbmNsaWNrPVwicmV0dXJuICIucygkYVswXSwiXCIiLCJcXFwiIikuIlwiIjoiIikuIj4iO319Y2xhc3MgY2FuY2VsIGV4dGVuZHMgWHtmdW5jdGlvbiBlZGl0KCl7JHQ9JHRoaXM7JGE9JHQtPmF0dHJzO3JldHVybiAiPGlucHV0IGNsYXNzPSciLighZW1wdHkoJGFbMF0pJiYkYVswXSE9Ii0iPyRhWzBdOiJidXR0b24iKS4iJyBuYW1lPSdwZV9jYW5jZWwnIHR5cGU9J3N1Ym1pdCcgdmFsdWU9XCIiLmgoTCghZW1wdHkoJHQtPm5hbWUpPyR0LT5uYW1lOiJDYW5jZWwiKSkuIlwiPiI7fX1jbGFzcyB0ZXh0IGV4dGVuZHMgWHtmdW5jdGlvbiBlZGl0KCl7JHQ9JHRoaXM7JGE9JHQtPmFyZ3M7JHY9cigkdC0+dmFsdWUpO2lmKCR2PT0ibnVsbCIpJHY9IiI7aWYoIWVtcHR5KCRhWzJdKSYmJGFbMl0+MCl7aWYoJGFbMV0+MClDb3JlOjpqcygicGVfbXQoZSxtKSIsInZhciBjLG87aWYoIWUpZT13aW5kb3cuZXZlbnQ7bz1lLnRhcmdldDtjPWUua2V5Q29kZT9lLmtleUNvZGU6ZS53aGljaDtyZXR1cm4oYz09OHx8Yz09NDZ8fG8udmFsdWUubGVuZ3RoPD1tKTsiKTtyZXR1cm4gIjx0ZXh0YXJlYSIuQHYoJHQsJHQtPmF0dHJzWzFdLCR0LT5hdHRyc1swXSkuKCRhWzBdPjA/IiBjb2xzPSciLiRhWzBdLiInIjoiIikuIiByb3dzPSciLiRhWzJdLiInIi4oJGFbMV0+MD8iIG9ua2V5cHJlc3M9J3JldHVybiBwZV9tdChldmVudCwiLiRhWzFdLiIpOyciOiIiKS4iIHdyYXA9J3NvZnQnIG9uZm9jdXM9J3RoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lLnJlcGxhY2UoXCIgZXJyaW5wdXRcIixcIlwiKSc+Ii4kdi4iPC90ZXh0YXJlYT4iO31yZXR1cm4gIjxpbnB1dCIuQHYoJHQsJHQtPmF0dHJzWzFdLCR0LT5hdHRyc1swXSwkYSkuIiB0eXBlPSd0ZXh0JyIuKCFlbXB0eSgkdC0+YXR0cnNbMl0pJiYkdC0+YXR0cnNbMl0hPSItIj8iIG9ua2VwdXA9JyIuJHQtPmF0dHJzWzJdLiInIjoiIikuIiBvbmZvY3VzPSd0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZS5yZXBsYWNlKFwiIGVycmlucHV0XCIsXCJcIiknIi4oIWVtcHR5KCR0LT5hdHRyc1szXSk/IiBwbGFjZWhvbGRlcj1cIiIuaChyKCR0LT5hdHRyc1szXSkpLiJcIiI6IiIpLiIgdmFsdWU9XCIiLmgoJHYpLiJcIj4iO319Y2xhc3MgcGFzcyBleHRlbmRzIFh7ZnVuY3Rpb24gc2hvdygpe3JldHVybiAiKioqKioqIjt9ZnVuY3Rpb24gZWRpdCgpeyR0PSR0aGlzO3JldHVybiAiPGlucHV0Ii5AdigkdCwkdC0+YXR0cnNbMF0sIiIsJHQtPmFyZ3MpLiIgdHlwZT0ncGFzc3dvcmQnIHZhbHVlPVwiIi5oKHIoJHQtPnZhbHVlKSkuIlwiIG9uZm9jdXM9J3RoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lLnJlcGxhY2UoXCIgZXJyaW5wdXRcIixcIlwiKSc+Ijt9c3RhdGljIGZ1bmN0aW9uIHZhbGlkYXRlKCRuLCYkdiwkYSwkdCl7aWYoeShDLiJwYXNzIikpcmV0dXJuXFBIUFBFXHBhc3MoJG4sJHYsJGEsJHQpOyRyPXAoIi9bMC05XS8iLCR2KSYmcCgiL1thLXpdL2kiLCR2KSYmdCgkdikhPSR2JiZrKCR2KSE9JHYmJnUoJHYpPj02O3JldHVyblskciwibm90IGEgdmFsaWQgcGFzc3dvcmQhIFthLXpBLVowLTldKjYiXTt9fWNsYXNzIG51bSBleHRlbmRzIFh7ZnVuY3Rpb24gc2hvdygpe3JldHVybiBoKCR0aGlzLT52YWx1ZSk7fWZ1bmN0aW9uIGVkaXQoKXskYT0kdGhpcy0+YXJnczskdD0idGhpcy52YWx1ZSI7JGI9J28uY2xhc3NOYW1lPW8uY2xhc3NOYW1lLnJlcGxhY2UoIiBlcnJpbnB1dCIsIiIpJzskQz1pc3NldCgkYVszXSk/ImlmKCR0PCIuJGFbMl0uIikkdD0iLiRhWzJdLiI7aWYoJHQ+Ii4kYVszXS4iKSR0PSIuJGFbM10uIjsiOiIiO0NvcmU6OmpzKCJwZV9vbihlKSIsInZhciBjLG87aWYoIWUpZT13aW5kb3cuZXZlbnQ7bz1lLnRhcmdldDtjPWUua2V5Q29kZT9lLmtleUNvZGU6ZS53aGljaDskYjtpZihjPT04fHxjPT0zN3x8Yz09Mzl8fGM9PTQ2KXJldHVybiB0cnVlO2M9U3RyaW5nLmZyb21DaGFyQ29kZShjKTtpZihjLm1hdGNoKC9bMC05XFxiXFx0XFxyXFwtXFwuXFwsXS8pIT1udWxsKXJldHVybiB0cnVlO2Vsc2V7by5jbGFzc05hbWUrPScgZXJyaW5wdXQnO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt7JGJ9O30sMjAwKTtyZXR1cm4gZmFsc2U7fSIpO3JldHVybiAiPGlucHV0Ii5AdigkdGhpcywkdGhpcy0+YXR0cnNbMV0sJHRoaXMtPmF0dHJzWzBdLCRhKS4iIHN0eWxlPSd0ZXh0LWFsaWduOnJpZ2h0OycgdHlwZT0nbnVtYmVyJyBvbmtleXByZXNzPSdyZXR1cm4gcGVfb24oZXZlbnQpOycgb25rZXl1cD0nJHQ9JHQucmVwbGFjZShcIixcIixcIi5cIik7JyBvbmZvY3VzPSciLiRDLiJpZigkdD09XCJcIikkdD0wOyIucygkYiwiby4iLCJ0aGlzLiIpLiI7dGhpcy5zZWxlY3QoKTsnIi4oaXNzZXQoJGFbM10pPyIgb25ibHVyPSckQycgbWluPSciLiRhWzJdLiInIG1heD0nIi4kYVszXS4iJyI6IiIpLiIgdmFsdWU9XCIiLmgocigkdGhpcy0+dmFsdWUpKS4iXCI+Ijt9c3RhdGljIGZ1bmN0aW9uIHZhbGlkYXRlKCRuLCYkdiwkYSwkdCl7JHI9ZmxvYXR2YWwoJHYpPT0kdjtpZighJHIpJG09Im5vdCBhIHZhbGlkIG51bWJlciEiO2lmKCRyJiZpc3NldCgkYVszXSkpe2lmKCR2PCRhWzJdKXskcj0wOyRtPSJub3QgZW5vdWdoISI7JHY9JGFbMl07fWlmKCR2PiRhWzNdKXskcj0wOyRtPSJ0b28gbXVjaCEiOyR2PSRhWzNdO319cmV0dXJuWyRyLCRtXTt9fWNsYXNzIHNlbGVjdCBleHRlbmRzIFh7ZnVuY3Rpb24gc2hvdygpe3JldHVybiBoKGEoJHRoaXMtPnZhbHVlKT9pbXBsb2RlKCIsICIsJHRoaXMtPnZhbHVlKTokdGhpcy0+dmFsdWUpO31mdW5jdGlvbiBlZGl0KCl7JHQ9JHRoaXM7JGE9JHQtPmF0dHJzOyRiPSR0LT5hcmdzOyRvcHRzPSFlbXB0eSgkYVswXSkmJiRhWzBdIT0iLSI/Q29yZTo6Z2V0dmFsKCRhWzBdKTpbXTtpZihpc19zdHJpbmcoJG9wdHMpKSRvcHRzPXgoIiwiLCRvcHRzKTskc2tpcD0hZW1wdHkoJGFbMV0pJiYkYVsxXSE9Ii0iP0NvcmU6OmdldHZhbCgkYVsxXSk6W107aWYoaXNfc3RyaW5nKCRza2lwKSkkc2tpcD14KCIsIiwkc2tpcCk7aWYoIWEoJHNraXApKSRza2lwPVtdO2Vsc2Ukc2tpcD1hcnJheV9mbGlwKCRza2lwKTtpZighZW1wdHkoJGJbMV0pKSR0LT5uYW1lLj0iW10iOyRyPSI8c2VsZWN0Ii5AdigkdCwkYVszXSwkYVsyXSkuKCFlbXB0eSgkYlsxXSk/IiBtdWx0aXBsZSI6IiIpLighZW1wdHkoJGJbMF0pJiYkYlswXT4wPyIgc2l6ZT0nIi5pbnR2YWwoJGJbMF0pLiInIjoiIikuIiBvbmZvY3VzPSd0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZS5yZXBsYWNlKFwiIGVycmlucHV0XCIsXCJcIiknPiI7aWYoYSgkb3B0cykpZm9yZWFjaCgkb3B0cyBhcyRrPT4kdil7JG89YSgkdikmJmlzc2V0KCR2WydpZCddKT8kdlsnaWQnXTooaXNfb2JqZWN0KCR2KSYmaXNzZXQoJHYtPmlkKT8kdi0+aWQ6JGspOyRuPWEoJHYpJiYhZW1wdHkoJHZbJ25hbWUnXSk/JHZbJ25hbWUnXTooaXNfb2JqZWN0KCR2KSYmIWVtcHR5KCR2LT5uYW1lKT8kdi0+bmFtZTooaXNfc3RyaW5nKCR2KT8kdjokaykpO2lmKCFpc3NldCgkc2tpcFskb10pJiYhZW1wdHkoJG4pKSRyLj0iPG9wdGlvbiB2YWx1ZT1cIiIuaCgkbykuIlwiIi4oKGEoJHQtPnZhbHVlKSYmaWEoJG8uIiIsJHQtPnZhbHVlKSl8fCRvPT0kdC0+dmFsdWU/IiBzZWxlY3RlZCI6IiIpLiI+Ii4kbi4iPC9vcHRpb24+Ijt9JHIuPSI8L3NlbGVjdD4iO3JldHVybiRyO319Y2xhc3MgY2hlY2sgZXh0ZW5kcyBYe2Z1bmN0aW9uIHNob3coKXskdD0kdGhpcztpZihlbXB0eShDb3JlOjokY29yZS0+b3V0cHV0KXx8Q29yZTo6JGNvcmUtPm91dHB1dCE9Imh0bWwiKXJldHVybiAiWyIuKCFlbXB0eSgkdC0+dmFsdWUpPyJYIjoiICIpLiJdIi4oIWVtcHR5KCR0LT5hdHRyc1swXSk/TCgkdC0+YXR0cnNbMF0pOiR0LT52YWx1ZSk7cmV0dXJuIGgoJHQtPnZhbHVlKTt9ZnVuY3Rpb24gZWRpdCgpeyR0PSR0aGlzOyRhPSR0LT5hdHRyczskZT1Db3JlOjppc0Vycm9yKCR0LT5uYW1lKTtyZXR1cm4oJGU/IjxzcGFuIGNsYXNzPSdlcnJpbnB1dCc+IjoiIikuIjxpbnB1dCIuQHYoJHQsJGFbMl0sJGFbMV0pLiIgaWQ9JyIuJHQtPm5hbWUuIicgdHlwZT0nY2hlY2tib3gnIi4oIWVtcHR5KCR0LT52YWx1ZSk/IiBjaGVja2VkIjoiIikuIiB2YWx1ZT1cIiIuaChyKCFlbXB0eSgkdC0+YXJnc1swXSk/JHQtPmFyZ3NbMF06IjEiKSkuIlwiPiIuKCFlbXB0eSgkYVswXSk/IjxsYWJlbCBmb3I9JyIuJHQtPm5hbWUuIic+Ii5MKCRhWzBdKS4iPC9sYWJlbD4iOiIiKS4oJGU/Ijwvc3Bhbj4iOiIiKTt9fWNsYXNzIHJhZGlvIGV4dGVuZHMgWHtmdW5jdGlvbiBzaG93KCl7JHQ9JHRoaXM7cmV0dXJuIENvcmU6OiRjb3JlLT5vdXRwdXQhPSJodG1sIj8oIigiLigkdC0+dmFsdWU9PSR0LT5hcmdzWzBdPyJYIjoiICIpLiIpICIuKCFlbXB0eSgkdC0+YXR0cnNbMF0pP0woJHQtPmF0dHJzWzBdKTokdC0+dmFsdWUpKTpoKCR0LT52YWx1ZSk7fWZ1bmN0aW9uIGVkaXQoKXskdD0kdGhpczskYT0kdC0+YXJnczskYj0kdC0+YXR0cnM7cmV0dXJuICI8aW5wdXQiLkB2KCR0LCRiWzJdLCRiWzFdKS4iIGlkPSciLiR0LT5uYW1lLiJfIi5zaGExKCRhWzBdKS4iJyB0eXBlPSdyYWRpbyciLigkdC0+dmFsdWU9PSRhWzBdPyIgY2hlY2tlZCI6IiIpLiIgdmFsdWU9XCIiLmgocighZW1wdHkoJGFbMF0pPyRhWzBdOiIxIikpLiJcIj4iLighZW1wdHkoJGJbMF0pPyI8bGFiZWwgZm9yPSciLiR0LT5uYW1lLiJfIi5zaGExKCRhWzBdKS4iJz4iLkwoJGJbMF0pLiI8L2xhYmVsPiI6IiIpO319Y2xhc3MgcGhvbmUgZXh0ZW5kcyBYe2Z1bmN0aW9uIHNob3coKXtyZXR1cm4gaCgkdGhpcy0+dmFsdWUpO31mdW5jdGlvbiBlZGl0KCl7JHQ9JHRoaXM7JGI9J28uY2xhc3NOYW1lPW8uY2xhc3NOYW1lLnJlcGxhY2UoIiBlcnJpbnB1dCIsIiIpJztDb3JlOjpqcygicGVfb3AoZSkiLCJ2YXIgYyxvO2lmKCFlKWU9d2luZG93LmV2ZW50O289ZS50YXJnZXQ7Yz1lLmtleUNvZGU/ZS5rZXlDb2RlOmUud2hpY2g7JGI7aWYoYz09OHx8Yz09Mzd8fGM9PTM5fHxjPT00NilyZXR1cm4gdHJ1ZTtjPVN0cmluZy5mcm9tQ2hhckNvZGUoYyk7aWYoYy5tYXRjaCgvWzAtOVxcYlxcdFxcclxcLVxcIFxcK1xcKFxcKVxcL10vKSE9bnVsbClyZXR1cm4gdHJ1ZTtlbHNle28uY2xhc3NOYW1lKz0nIGVycmlucHV0JztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eyRifTt9LDIwMCk7cmV0dXJuIGZhbHNlO30iKTtyZXR1cm4gIjxpbnB1dCIuQHYoJHQsJHQtPmF0dHJzWzFdLCR0LT5hdHRyc1swXSwkdC0+YXJncykuIiB0eXBlPSd0ZXh0JyBvbmZvY3VzPSciLnMoJGIsIm8uIiwidGhpcy4iKS4iJyBvbmtleXByZXNzPSdyZXR1cm4gcGVfb3AoZXZlbnQpOycgdmFsdWU9XCIiLmgocigkdC0+dmFsdWUpKS4iXCI+Ijt9c3RhdGljIGZ1bmN0aW9uIHZhbGlkYXRlKCRuLCYkdiwkYSwkdCl7JHI9cCgiL15bMC05XCtdWzAtOVwgXChcKVwtXSskLyIsJHYpO3JldHVyblskciwiaW52YWxpZCBwaG9uZSBudW1iZXIiXTt9fWNsYXNzIGVtYWlsIGV4dGVuZHMgWHtmdW5jdGlvbiBzaG93KCl7aWYoZW1wdHkoQ29yZTo6JGNvcmUtPm91dHB1dCl8fENvcmU6OiRjb3JlLT5vdXRwdXQhPSJodG1sIilyZXR1cm4kdGhpcy0+dmFsdWU7cmV0dXJuIHMoaCgkdGhpcy0+dmFsdWUpLFsiQCI9PiImIzY0OyIsIi4iPT4iJiM0NjsiXSk7fWZ1bmN0aW9uIGVkaXQoKXskdD0kdGhpczskYT0kdC0+YXR0cnM7JGI9J28uY2xhc3NOYW1lPW8uY2xhc3NOYW1lLnJlcGxhY2UoIiBlcnJpbnB1dCIsIiIpJztDb3JlOjpqcygicGVfb2UobykiLCIkYjtpZihvLnZhbHVlIT0nJyYmby52YWx1ZS5tYXRjaCgvXi4rXEAoXFs/KVthLXowLTlcLVwuXStcLihbYS16XXsyLDN9fFswLTldezEsM30pKFxdPykkL2kpPT1udWxsKW8uY2xhc3NOYW1lKz0nIGVycmlucHV0JzsiKTtyZXR1cm4gIjxpbnB1dCIuQHYoJHQsJGFbMV0sIiIsJHQtPmFyZ3MpLiIgdHlwZT0ndGV4dCcgb25mb2N1cz0nIi5zKCRiLCJvLiIsInRoaXMuIikuIicgb25jaGFuZ2U9J3BlX29lKHRoaXMpOyIuKCFlbXB0eSgkYVswXSkmJiRhWzBdIT0iLSI/JGFbMF06IiIpLiInIHZhbHVlPVwiIi5oKHIoJHQtPnZhbHVlKSkuIlwiPiI7fXN0YXRpYyBmdW5jdGlvbiB2YWxpZGF0ZSgkbiwmJHYsJGEsJHQpeyRyPXAoIi9eLitcQChcWz8pW2EtejAtOVwtXC5dK1wuKFthLXpdezIsM318WzAtOV17MSwzfSkoXF0/KSQvaSIsJHYpO3JldHVyblskciwiaW52YWxpZCBlbWFpbCBhZGRyZXNzIl07fX1jbGFzcyBmaWxlIGV4dGVuZHMgWHtmdW5jdGlvbiBlZGl0KCl7JHQ9JHRoaXM7JGU9Q29yZTo6aXNFcnJvcigkdC0+bmFtZSk7cmV0dXJuKCRlPyI8c3BhbiBjbGFzcz0nZXJyaW5wdXQnPiI6IiIpLiI8aW5wdXQiLkB2KCR0LCR0LT5hdHRyc1swXSwkdC0+YXR0cnNbMV0sJHQtPmFyZ3MpLiIgdHlwZT0nZmlsZSc+Jm5ic3A7KCIucm91bmQoQ29yZTo6JGZtLzEwNDg1NzYpLiJNYikiLigkZT8iPC9zcGFuPiI6IiIpO319Y2xhc3MgZGF0ZSBleHRlbmRzIFh7ZnVuY3Rpb24gc2hvdygpe3JldHVybiR0aGlzLT5zaG93MigwKTt9ZnVuY3Rpb24gc2hvdzIoJFQ9MCl7JGQ9J2RhdGVmb3JtYXQnOyR0PSR0aGlzO3JldHVybiFlbXB0eSgkdC0+dmFsdWUpP2RhdGUoKCFlbXB0eShDb3JlOjokbFskZF0pP0NvcmU6OiRsWyRkXToiWS1tLWQiKS4oJFQ/IiBIOmkiOiIiKSwkdC0+dmFsdWUpOighZW1wdHkoJHQtPmF0dHJzWzBdKT8iIjoiRXBvY2giKTt9ZnVuY3Rpb24gZWRpdCgpe3JldHVybiR0aGlzLT5lZGl0MigwKTt9ZnVuY3Rpb24gZWRpdDIoJFQ9MCl7JEI9J28uY2xhc3NOYW1lPW8uY2xhc3NOYW1lLnJlcGxhY2UoIiBlcnJpbnB1dCwiIiknO0NvcmU6OmpzKCJwZV9jcyhuLGUpIiwiaWYobiE9bnVsbCl7bi5jbGFzc05hbWU9bi5jbGFzc05hbWUucmVwbGFjZSgnIGVycmlucHV0JywnJyk7aWYoZSE9bnVsbCluLmNsYXNzTmFtZSs9JyBlcnJpbnB1dCc7fSIpO0NvcmU6OmpzKCJwZV9jZChvLGYpIiwidmFyIGQ9bmV3IERhdGUoRGF0ZS5VVEMob1tmKyc6eSddLnZhbHVlLG9bZisnOm0nXS52YWx1ZS0xLG9bZisnOmQnXS52YWx1ZSxvW2YrJzpoJ10/b1tmKyc6aCddLnZhbHVlOjAsb1tmKyc6aSddP29bZisnOmknXS52YWx1ZTowLDApKTtwZV9jcyhvW2YrJzp5J10pO3BlX2NzKG9bZisnOm0nXSk7cGVfY3Mob1tmKyc6ZCddKTtwZV9jcyhvW2YrJzpoJ10pO3BlX2NzKG9bZisnOmknXSk7CgkJCQlpZighZHx8ZC5nZXRVVENEYXRlKCkhPW9bZisnOmQnXS52YWx1ZSl7cGVfY3Mob1tmKyc6eSddLDEpO3BlX2NzKG9bZisnOm0nXSwxKTtwZV9jcyhvW2YrJzpkJ10sMSk7fSIpOyR0PSR0aGlzOyRhPSR0LT5hcmdzOyRiPSR0LT5hdHRyczskbj0kdC0+ZmxkOyR0LT5uYW1lPSIiOyRzPSI8c2VsZWN0Ii5AdigkdCwkYlsxXSkuIiBvbmZvY3VzPSdwZV9jZCh0aGlzLmZvcm0sXCIiLiRuLiJcIik7JyBvbmNoYW5nZT0ncGVfY2QodGhpcy5mb3JtLFwiIi4kbi4iXCIpOyIuKCFlbXB0eSgkYlswXSkmJiRiWzBdIT0iLSI/JGJbMF06IiIpLiInIG5hbWU9JyIuJG47JGQ9eCgiLCIsZGF0ZSgiWSxtLGQsSCxpLHMiLCFlbXB0eSgkdC0+dmFsdWUpPyR0LT52YWx1ZTpDb3JlOjokY29yZS0+bm93KSk7JG95PSRzLiI6eSc+Ijtmb3IoJGk9ZGF0ZSgiWSIsQ29yZTo6JGNvcmUtPm5vdyktKCFlbXB0eSgkYVswXSk/JGFbMF06NSk7JGk8PWRhdGUoIlkiLENvcmU6OiRjb3JlLT5ub3cpKyghZW1wdHkoJGFbMF0pPyRhWzBdOjUpOyRpKyspJG95Lj0iPG9wdGlvbiB2YWx1ZT0nIi4kaS4iJyIuKCRpPT0kZFswXT8iIHNlbGVjdGVkIjoiIikuIj4iLiRpLiI8L29wdGlvbj4iOyRveS49Ijwvc2VsZWN0PiI7JG9tPSRzLiI6bSc+Ijtmb3IoJGk9MTskaTw9MTI7JGkrKyl7JFg9Im1vbnRoIi4oJGk8MTA/IjAiOiIiKS4kaTskb20uPSI8b3B0aW9uIHZhbHVlPSciLiRpLiInIi4oJGk9PWludHZhbCgkZFsxXSk/IiBzZWxlY3RlZCI6IiIpLiI+Ii4oIWVtcHR5KENvcmU6OiRsWyRYXSk/Q29yZTo6JGxbJFhdOigkaTwxMD8iMCI6IiIpLiRpKS4iPC9vcHRpb24+Ijt9JG9tLj0iPC9zZWxlY3Q+Ijskb2Q9JHMuIjpkJz4iO2ZvcigkaT0xOyRpPD0zMTskaSsrKSRvZC49IjxvcHRpb24gdmFsdWU9JyIuJGkuIiciLigkaT09aW50dmFsKCRkWzJdKT8iIHNlbGVjdGVkIjoiIikuIj4iLigkaTwxMD8iMCI6IiIpLiRpLiI8L29wdGlvbj4iOyRvZC49Ijwvc2VsZWN0PiI7JGY9KCFlbXB0eShDb3JlOjokbFsiZGF0ZWZvcm1hdCJdKT9Db3JlOjokbFsiZGF0ZWZvcm1hdCJdOiJZLW0tZCIpLiJAIjtpZigkVCl7JGYuPSIgSDppIi4oIWVtcHR5KCRhWzNdKT8iOnMiOiIiKTskb2g9JHMuIjpoJz4iO2ZvcigkaT0wOyRpPD0yMzskaSsrKSRvaC49IjxvcHRpb24gdmFsdWU9JyIuJGkuIiciLigkaT09aW50dmFsKCRkWzNdKT8iIHNlbGVjdGVkIjoiIikuIj4iLigoJGk8MTA/IjAiOiIiKS4kaSkuIjwvb3B0aW9uPiI7JG9oLj0iPC9zZWxlY3Q+Ijskb2k9JHMuIjppJz4iO2ZvcigkaT0wOyRpPD01OTskaSs9KCFlbXB0eSgkYVsyXSkmJiRhWzJdPjAmJiRhWzJdPD0zMD8kYVsyXToxKSkkb2kuPSI8b3B0aW9uIHZhbHVlPSciLiRpLiInIi4oJGk9PWludHZhbCgkZFs0XSk/IiBzZWxlY3RlZCI6IiIpLiI+Ii4oKCRpPDEwPyIwIjoiIikuJGkpLiI8L29wdGlvbj4iOyRvaS49Ijwvc2VsZWN0PiI7aWYoIWVtcHR5KCRhWzNdKSl7JG9zPSRzLiI6cyc+Ijtmb3IoJGk9MDskaTw9NTk7JGkrKykkb3MuPSI8b3B0aW9uIHZhbHVlPSciLiRpLiInIi4oJGk9PWludHZhbCgkZFs1XSk/IiBzZWxlY3RlZCI6IiIpLiI+Ii4oKCRpPDEwPyIwIjoiIikuJGkpLiI8L29wdGlvbj4iOyRvcy49Ijwvc2VsZWN0PiI7fWVsc2Ukb3M9IiI7fWVsc2Ukb2g9JG9pPSRvcz0iIjtpZihDb3JlOjppc0luc3QoIkNvcmUiKSl7bGlzdCgkbywkZCk9eCgiLiIsJHQtPm5hbWUpOyRjPSImbmJzcDs8aW1nIHNyYz0naW1hZ2VzL2NhbC5wbmcnIGNsYXNzPSdjYWxfaWNvbicgc3R5bGU9J3ZlcnRpY2FsLWFsaWduOm1pZGRsZTsnIG9uY2xpY2s9J2lmKGRvY3VtZW50LmZvcm1zW1wiIi4kby4iXCJdKWNhbF9vcGVuKHRoaXMsZG9jdW1lbnQuZm9ybXNbXCIiLiRvLiJcIl0sXCIiLiRvLiJfIi4kZC4iXCIpOycgYWx0PSdbQ10nPiI7fWVsc2UkYz0iIjtyZXR1cm4gcygkZixbIlkiPT4kb3ksIm0iPT4kb20sImQiPT4kb2QsIkgiPT4kb2gsImkiPT4kb2ksInMiPT4kb3MsIkAiPT4kY10pO31zdGF0aWMgZnVuY3Rpb24gdmFsaWRhdGUoJG4sJiR2LCRhLCR0KXtyZXR1cm5bbWt0aW1lKCFlbXB0eSgkX1JFUVVFU1RbJHYuIjpoIl0pPyRfUkVRVUVTVFskdi4iOmgiXTowLCFlbXB0eSgkX1JFUVVFU1RbJHYuIjppIl0pPyRfUkVRVUVTVFskdi4iOmkiXTowLCFlbXB0eSgkX1JFUVVFU1RbJHYuIjpzIl0pPyRfUkVRVUVTVFskdi4iOnMiXTowLCFlbXB0eSgkX1JFUVVFU1RbJHYuIjptIl0pPyRfUkVRVUVTVFskdi4iOm0iXTowLCFlbXB0eSgkX1JFUVVFU1RbJHYuIjpkIl0pPyRfUkVRVUVTVFskdi4iOmQiXTowLCFlbXB0eSgkX1JFUVVFU1RbJHYuIjp5Il0pPyRfUkVRVUVTVFskdi4iOnkiXTowKSwiYmFkIGRhdGUiXTt9fWNsYXNzIHRpbWUgZXh0ZW5kcyBkYXRle2Z1bmN0aW9uIHNob3coKXtyZXR1cm4gcGFyZW50OjpzaG93MigxKTt9ZnVuY3Rpb24gZWRpdCgpe3JldHVybiBwYXJlbnQ6OmVkaXQyKDEpO31zdGF0aWMgZnVuY3Rpb24gdmFsaWRhdGUoJG4sJiR2LCRhLCR0KXtyZXR1cm4gcGFyZW50Ojp2YWxpZGF0ZSgkbiwkdiwkYSwkdCk7fX19bmFtZXNwYWNle2Z1bmN0aW9uIExBTkdfSU5JVCgkYz0iIil7cmV0dXJuXFBIUFBFXENvcmU6OmxhbmdJbml0KCRjKTt9ZnVuY3Rpb24gTCgkcyl7cmV0dXJuIGlzc2V0KFxQSFBQRVxDb3JlOjokbFskc10pP1xQSFBQRVxDb3JlOjokbFskc106c3RydHIoJHMsWyJfIj0+IiAiXSk7fWZ1bmN0aW9uIHVybCgkbT1OVUxMLCRwPU5VTEwpe3JldHVyblxQSFBQRVxDb3JlOjp1cmwoJG0sJHApO31mdW5jdGlvbiBhKCRhKXtyZXR1cm4gaXNfYXJyYXkoJGEpO31mdW5jdGlvbiBoKCYkcyl7cmV0dXJuIGh0bWxzcGVjaWFsY2hhcnMoJHMpO31mdW5jdGlvbiBzKCRzLCRmLCR0PSIiKXtyZXR1cm4gYSgkZik/c3RydHIoJHMsJGYpOnN0cnRyKCRzLFskZj0+JHRdKTt9ZnVuY3Rpb24gZSgkZT0wKXtyZXR1cm4gZXJyb3JfcmVwb3J0aW5nKCRlKTt9ZnVuY3Rpb24gZigkZil7cmV0dXJuIGZpbGVfZXhpc3RzKCRmKTt9ZnVuY3Rpb24gZygkZil7cmV0dXJuIGYoJGYpP2ZpbGVfZ2V0X2NvbnRlbnRzKCRmKToiIjt9ZnVuY3Rpb24gaW8oJGYpe3JldHVybiBmKCRmKT9pbmNsdWRlX29uY2UoJGYpOm51bGw7fWZ1bmN0aW9uIHQoJHMpe3JldHVybiBzdHJ0b2xvd2VyKCRzKTt9ZnVuY3Rpb24gaygkcyl7cmV0dXJuIHN0cnRvdXBwZXIoJHMpO31mdW5jdGlvbiBjKCRtKXtoZWFkZXIoIlByYWdtYTpjYWNoZSIpO2hlYWRlcigiQ2FjaGUtQ29udHJvbDpjYWNoZSxwdWJsaWMsbWF4LWFnZT0iLlxQSFBQRVxDb3JlOjokY29yZS0+Y2FjaGV0dGwpO2hlYWRlcigiQ29udGVudC1UeXBlOiRtO2NoYXJzZXQ9dXRmLTgiKTtoZWFkZXIoIkNvbm5lY3Rpb246Y2xvc2UiKTt9ZnVuY3Rpb24gZCgkbil7cmV0dXJuIGRlYnVnX2JhY2t0cmFjZSgpWyRuXVsnZmlsZSddO31mdW5jdGlvbiByKCRzKXtyZXR1cm4gdHJpbSgkcyk7fWZ1bmN0aW9uIG4oJHMpe3JldHVybiBkaXJuYW1lKCRzKTt9ZnVuY3Rpb24gbSgkYSl7cmV0dXJuIGJhc2VuYW1lKCRhKTt9ZnVuY3Rpb24gcCgkcCwmJHMsJiRyPW51bGwsJGY9MCl7cmV0dXJuIHByZWdfbWF0Y2goJHAsJHMsJHIsJGYpO31mdW5jdGlvbiBwcigkYSwkYiwkYyl7cmV0dXJuIHByZWdfcmVwbGFjZSgkYSwkYiwkYyk7fWZ1bmN0aW9uIHgoJGEsJGIpeyRyPVtdOyRxPScnO2ZvcigkbD0kaT0wOyRpPD11KCRiKTskaSsrKXskYz1AJGJbJGldO2lmKCRxKXtpZigkYz09JHEpJHE9IiI7aWYoJGM9PSdcXCcpJGkrKzt9ZWxzZWlmKCRjPT0nIid8fCRjPT0iJyIpJHE9JGM7ZWxzZWlmKCRjPT0kYXx8JGM9PScnKXt3aGlsZShAJGJbJGxdPT0kYSkkbCsrOyRyW109eigkYiwkbCwkaS0kbCk7JGw9JGkrMTt9fXJldHVybiRyO31mdW5jdGlvbiBxKCRhLCRiKXtyZXR1cm4gbWV0aG9kX2V4aXN0cygkYSwkYik7fWZ1bmN0aW9uIHkoJGEpe3JldHVybiBmdW5jdGlvbl9leGlzdHMoJGEpO31mdW5jdGlvbiB3KCYkYSwkYil7cmV0dXJuIHN1YnN0cigkYSwkYik7fWZ1bmN0aW9uIHooJiRhLCRiLCRjKXtyZXR1cm4gc3Vic3RyKCRhLCRiLCRjKTt9ZnVuY3Rpb24gdigkYSwkYiwkZT0iIiwkZj1bXSl7cmV0dXJuICIgY2xhc3M9JyIuJGEtPmNzcy4oIWVtcHR5KCRiKSYmJGIhPSItIj8iICIuJGI6IiIpLiInIi4oJGEtPm5hbWU/IiBuYW1lPSciLiRhLT5mbGQuIiciOiIiKS4oJGUmJiRlIT0iLSI/IiBvbmNoYW5nZT0nIi4kZS4iJyI6IiIpLighZW1wdHkoJGZbMF0pJiYkZlswXT4wPyIgc2l6ZT0nIi4kZlswXS4iJyI6IiIpLighZW1wdHkoJGZbMV0pJiYkZlsxXT4wPyIgbWF4bGVuZ3RoPSciLiRmWzFdLiInIjoiIik7fWZ1bmN0aW9uIHUoJGEpe3JldHVybiBzdHJsZW4oJGEpO31mdW5jdGlvbiBqKCRhLCRiLCRjPSIiKXtyZXR1cm4gc2hhMSgkYS4ifCIuJGIuInwiLiRjKTt9ZnVuY3Rpb24gbygpe3JldHVybiBvYl9nZXRfY2xlYW4oKTt9ZnVuY3Rpb24gamQoJiRhKXtyZXR1cm4gQGpzb25fZGVjb2RlKCRhLDEpO31mdW5jdGlvbiBhZCgkYSl7cmV0dXJuIGFkZHNsYXNoZXMoJGEpO31mdW5jdGlvbiBpYSgkYSwkYil7cmV0dXJuIEBpbl9hcnJheSgkYSwkYik7fWZ1bmN0aW9uIGNlKCRjKXtyZXR1cm4gY2xhc3NfZXhpc3RzKCRjKTt9ZnVuY3Rpb24gY2MoJGMpe3JldHVybiBjZSgkYykmJmlzX3N1YmNsYXNzX29mKCRjLEMuIkFwcCIpO31mdW5jdGlvbiB0cygkdil7cmV0dXJuIHAoInxeWzAtOV0rJHwiLCR2KT8kdjpzdHJ0b3RpbWUoJHYpO31pZihlbXB0eShcUEhQUEVcQ29yZTo6JGNvcmUpKW5ld1xQSFBQRVxDb3JlKCFlbXB0eShkZWJ1Z19iYWNrdHJhY2UoKSkpO3JldHVyblxQSFBQRVxDb3JlOjokY29yZTt9ICAgICAgICAKPz4K","_new");
}
function phppe_selftestpage()
{
    window.open(/*view*/"data:text/plain;base64,PCEtLQogQGZpbGUgcGhwcGUvdmlld3MvaW5kZXgudHBsCiBAYXV0aG9yIGJ6dEBwaHBwZS5vcmcKIEBkYXRlIDEgSmFuIDIwMTUKIEBicmllZiBTZWxmIHRlc3QgdmlldyBmb3IgUEhQUEUgQ29yZQotLT4KPHN0eWxlIHR5cGU9J3RleHQvY3NzJyBzY29wZWQ+CiBCT0RZIHtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kOiNmZmY7bWFyZ2luOjBweDtwYWRkaW5nOjBweDt9CiBCT0RZLFRELERJViwjY29udGVudCB7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoxNXB4O30KIEgzIHttYXJnaW46MnB4O30KIFREIHtwYWRkaW5nOjJweDt9CiBJTUcge2JvcmRlcjowcHg7fQogQSB7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6IzAwMDt9CiBBOmhvdmVyIHt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO30KIFBSRSB7bWFyZ2luOiAwcHg7fQogI2NvbnRlbnQge21hcmdpbjogMTBweDt9CiAuaGVhZGluZyB7Zm9udC13ZWlnaHQ6Ym9sZDtiYWNrZ3JvdW5kOiNEMEQwRDA7cGFkZGluZzozcHg7fQogLmNvbW1lbnQge2ZvbnQtZmFtaWx5OnRpbWVzO2ZvbnQtc3R5bGU6aXRhbGljO2NvbG9yOiNBMEEwQTA7fQogLmJsdWViZyB7YmFja2dyb3VuZDojQTBBMEYwO30KIC5wb3B1cCB7Ym94LXNoYWRvdzogM3B4IDNweCA4cHggIzAwMDt9CiAucHJpbnRvbmx5IHtkaXNwbGF5Om5vbmU7fQogLnNjcmVlbm9ubHkge2Rpc3BsYXk6YmxvY2s7fQogVEVYVEFSRUEud3lzaXd5ZyB7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwcHg7fQogLnJlc3B0YWJsZSB7IHdpZHRoOjEwMCU7IH0KIC5yZXNwdGFibGUgVEgsVEQge21pbi13aWR0aDoyMHB4ICFpbXBvcnRhbnQ7fQogLnJlc3B0YWJsZV9wYWdlciB7IGJhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwwLjgpOyB9CiBESVYud3lzaXd5Z19lZGl0e2JvcmRlcjpzb2xpZCAxcHggIzgwODA4MDt9CiBESVYud3lzaXd5Z19lZGl0IFREIHtib3JkZXI6ZG90dGVkIDFweCAjMDAwICFpbXBvcnRhbnQ7fQogRElWLnd5c2l3eWdfZWRpdCBUSCB7Ym9yZGVyOmRvdHRlZCAxcHggIzAwMCAhaW1wb3J0YW50O30KIERJVi53eXNpd3lnX2VkaXQgVEFCTEUge3dpZHRoOjEwMCU7fQogRElWLnd5c2l3eWdfZWRpdCBBIHtjb2xvcjojMDAwMGZmICFpbXBvcnRhbnQ7fQpAbWVkaWEgcHJpbnQgewogQk9EWSB7cGFnZTpwb3J0cmFpdDt9CiBTRUxFQ1QsSU5QVVQsVEVYVEFSRUEge2JvcmRlci10b3A6MHB4IG5vbmU7Ym9yZGVyLWxlZnQ6MHB4IG5vbmU7Ym9yZGVyLXJpZ2h0OjBweCBub25lO2JvcmRlci1ib3R0b206ZG90dGVkIDFweCAjMDAwO2ZvbnQtd2VpZ2h0OiBib2xkO30KIC5wcmludG9ubHkge2Rpc3BsYXk6YmxvY2s7fQogLnNjcmVlbm9ubHkge2Rpc3BsYXk6bm9uZTt9Cn0KPC9zdHlsZT4KPGRpdiBjbGFzcz0idG9jIj48L2Rpdj4KPCFpZiBjb3JlLmlzaW5zdCgnaGlnaGxpZ2h0Jyk+PCF3aWRnZXQgaGlnaGxpZ2h0KDAsMjAwKSB0eHQgcGhwIHBlcmwgY3BwPjwhL2lmPgo8IWlmIGNvcmUuaXNpbnN0KCdwb3B1cCcpPjwhd2lkZ2V0IHBvcHVwPjwhL2lmPgo8IWlmIGNvcmUuaXNpbnN0KCd6b29tJyk+PCF3aWRnZXQgem9vbSg2MCw4MCk+PCEvaWY+CjwhaWYgY29yZS5pc2luc3QoJ2RuZCcpPjwhd2lkZ2V0IGRuZD48IS9pZj4KPGRpdiBjbGFzcz0nbW9zYWljYm94Jz48aDE+UEhQUEUzIFNlbGYgVGVzdCBhbmQgQ2hlYXQgU2hlZXQgUGFnZTwvaDE+CjxhIGhyZWY9J2h0dHA6Ly92YWxpZGF0b3IudzMub3JnL2NoZWNrP3VyaT1yZWZlcmVyJyB0YXJnZXQ9J19ibGFuayc+VzNDIEhUTUwgVmFsaWRhdG9yPC9hPiB8CjxhIGhyZWY9J2h0dHA6Ly9qaWdzYXcudzMub3JnL2Nzcy12YWxpZGF0b3IvY2hlY2svcmVmZXJlcicgdGFyZ2V0PSdfYmxhbmsnPlczQyBDU1MgVmFsaWRhdG9yPC9hPjxicj48YnI+CjwvZGl2Pgo8ZGl2IGNsYXNzPSdtb3NhaWNib3gnPgo8ZGl2IGNsYXNzPSdoZWFkaW5nJz48aDM+RW52aXJvbm1lbnQ8L2gzPjwvZGl2Pgo8dGFibGU+Cjx0cj48dGQ+cnVubGV2ZWw6PC90ZD48dGQ+CjwhaWYgY29yZS5ydW5sZXZlbD09MD48c3BhbiBzdHlsZT0nY29sb3I6Z3JlZW47Jz48IS9pZj4KPCFpZiBjb3JlLnJ1bmxldmVsPT0xPjxzcGFuIHN0eWxlPSdjb2xvcjpibHVlOyc+PCEvaWY+CjwhaWYgY29yZS5ydW5sZXZlbD09Mj48c3BhbiBzdHlsZT0nY29sb3I6cmVkOyc+PCEvaWY+CjwhaWYgY29yZS5ydW5sZXZlbD09Mz48c3BhbiBzdHlsZT0nY29sb3I6Z3JheTsnPjwhL2lmPjwhPWNvcmUucnVubGV2ZWw+PC9zcGFuPgo8L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+CjwhaWYgY29yZS5ydW5sZXZlbD09MD5Qcm9kdWN0aW9uIG1vZGUuIE5vcm1hbDwhL2lmPgo8IWlmIGNvcmUucnVubGV2ZWw9PTE+VmVyYm9zZSBtb2RlLiBUZXN0aW5nIHZlcmJvc2l0eSwgY2hlY2sgcGhwcGUvbG9nPCEvaWY+CjwhaWYgY29yZS5ydW5sZXZlbD09Mj5EZXZlbG9wZXIgbW9kZS4gRXh0cmEgdmVyYm9zZSBsZXZlbCwgd2FybmluZ3Mgb24gc2NyZWVuPCEvaWY+CjwhaWYgY29yZS5ydW5sZXZlbD09Mz5EZWJ1ZyBtb2RlLiBJbnNhbmUgdmVyYm9zZSBsZXZlbCwgd2FybmluZ3Mgb24gc2NyZWVuPCEvaWY+CjwvdGQ+PC90cj4KPHRyPjx0ZD5EYXRhIGRvbWFpbjo8L3RkPjx0ZD48IWlmIGNvcmUubGliKCdEUycpLnByaW1hcnk+PHNwYW4gc3R5bGU9ImNvbG9yOmdyZWVuOyI+PCE9Y29yZS5saWIoJ0RTJykucHJpbWFyeT48L3NwYW4+PCFlbHNlPjxzcGFuIHN0eWxlPSJjb2xvcjpibHVlOyI+ZmlsZXM8L3NwYW4+PCEvaWY+CjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz4KPCFpZiBjb3JlLmxpYignRFMnKS5wcmltYXJ5PlByaW1hcnkgZGF0YXNvdXJjZTwhZWxzZT5Mb2NhbCBmaWxlcyBvbmx5IGluIDxpPmRhdGE8L2k+IGRpcmVjdG9yeTwhL2lmPgo8L3RkPjwvdHI+Cjx0cj48dGQ+RGlhZ25vc3RpYyBtb2RlOjwvdGQ+PHRkPgo8IWlmIGNvcmUuZGlhZz48c3BhbiBzdHlsZT0nY29sb3I6cmVkOyc+T048L3NwYW4+PCFlbHNlPjxzcGFuIHN0eWxlPSdjb2xvcjpncmVlbjsnPk9GRjwvc3Bhbj48IS9pZj4KPC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPjwhaWYgY29yZS5kaWFnPkNyZWF0ZSBjb25maWcucGhwIHRvIHF1aXQgbW9kZS4gVGhlIGRpcmVjdG9yeSB0cmVlIGlzIGNoZWNrZWQgZm9yIHZhbGlkIGZpbGUgcGVybWlzc2lvbnMuPCFlbHNlPllvdSBhcmUgb2theS4gT25seSB0aGUgZG9jdW1lbnQgcm9vdCdzIHBlcm1pc3Npb25zIGFuZCBzZWxmIGNvbnNpc3RlbmN5IGNoZWNrZWQuPCEvaWY+PC90ZD48L3RyPgo8dHI+PHRkPkVkaXQgbW9kZTo8L3RkPjx0ZD48IWlmIF9TRVNTSU9OWydwZV9lJ10+PHNwYW4gc3R5bGU9J2NvbG9yOnJlZDsnPk9OPC9zcGFuPjwhZWxzZT48c3BhbiBzdHlsZT0nY29sb3I6Z3JlZW47Jz5PRkY8L3NwYW4+PCEvaWY+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPkNvbnRyb2xzIHdoZXRoZXIgJmx0OyFWQVI+IGhvb2tzICJzaG93IiBvciAiZWRpdCIgbWV0aG9kPC90ZD48L3RyPgo8dHI+PHRkPkNvbmYgbW9kZTo8L3RkPjx0ZD48IWlmIF9TRVNTSU9OWydwZV9jJ10+PHNwYW4gc3R5bGU9J2NvbG9yOnJlZDsnPk9OPC9zcGFuPjwhZWxzZT48c3BhbiBzdHlsZT0nY29sb3I6Z3JlZW47Jz5PRkY8L3NwYW4+PCEvaWY+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPkNvbnRyb2xzIHdoZXRoZXIgJmx0OyFXSURHRVQ+IGhvb2tzICJzaG93IiAod2lkZ2V0IGZhY2UpIG9yICJlZGl0IiAoY29uZmlndXJlKSBtZXRob2Q8L3RkPjwvdHI+Cjx0cj48dGQ+QnJvd3Nlcjo8L3RkPjx0ZD48IT1jbGllbnQuYWdlbnQ+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPllvdXIgYnJvd3NlcidzIHR5cGU8L3RkPjwvdHI+Cjx0cj48dGQ+Q2xpZW50OjwvdGQ+PHRkPjwhaWYgY2xpZW50LnVzZXI+PCE9Y2xpZW50LnVzZXI+PCFlbHNlPihubyBodHRwIGF1dGgpPCEvaWY+LCA8IT1jbGllbnQubGFuZz4sIDwhPWNsaWVudC50ej4sIDwhPWltcGxvZGUoJ3gnLGNsaWVudC5zY3JlZW4pPjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5Zb3VyIGF1dGhlbnRpY2F0ZWQgdXNlciwgeW91ciBicm93c2VyJ3MgbGFuZ3VhZ2UsIHRpbWV6b25lIGFuZCBzY3JlZW4gc2l6ZTwvdGQ+PC90cj4KPHRyPjx0ZD5SZW1vdGUgYWRkcmVzczo8L3RkPjx0ZD48IT1jbGllbnQuaXA+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPllvdXIgcmVhbCByZW1vdGUgaXAgYWRkcmVzcyAod29ya3MgaWYgd2Vic2VydmVyIGlzIGJlaGluZCBhIGh0dHAgcHJveHkgb3IgYSBsb2FkIGJhbGFuY2VyKTwvdGQ+PC90cj4KPHRyPjx0ZD5Vc2VyOjwvdGQ+PHRkPjwhaWYgdXNlci5pZD48IT11c2VyLm5hbWU+ICM8IT11c2VyLmlkPjwhZWxzZT5ub25lPCEvaWY+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPkZvciBkYXRhYmFzZWxlc3MgY29uZmlnLCB0aGVyZSdzIHN0aWxsIGFuICdhZG1pbicgdXNlcjwvdGQ+PC90cj4KPHRyPjx0ZCBjb2xzcGFuPScyJyBjbGFzcz0nY29tbWVudCc+Jmx0OyEtLSBNT05JVE9SSU5HOiA8IWlmIGNvdW50KGNvcmUuZXJyb3IpPT0wPjwhaWYgY29yZS5ydW5sZXZlbD09MD48c3BhbiBzdHlsZT0nY29sb3I6b2xpdmU7Jz5PSzwvc3Bhbj48IWVsc2U+PHNwYW4gc3R5bGU9J2NvbG9yOnNhbG1vbjsnPldBUk5JTkc8L3NwYW4+PCEvaWY+PCFlbHNlPjxzcGFuIHN0eWxlPSdjb2xvcjpicm93bjsnPkVSUk9SPC9zcGFuPjwhL2lmPiwgcGFnZSA8cz4wLjAxMDA8L3M+IHNlYywgZGIgPHM+MC4wMDA8L3M+IHNlYywgc2VydmVyIDxzPjAuMDAwPC9zPiBzZWMsIG1lbSA8cz4wLjAwMDwvcz4gbWIgLS0+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPlRoZXJlJ3MgYSBjb21tZW50IHNpbWlsYXIgdG8gdGhlIGxlZnQganVzdCBiZWZvcmUgdGhlICZsdDsvYm9keT4gdGFnLjxicj5PSyAtIHBhZ2Ugd2FzIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHkgaW4gcHJvZHVjdGlvbiBtb2RlLjxicj5XQVJOSU5HIC0gcGFnZSB3YXMgZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseSwgYnV0IGluIGRldmVsb3BlciBvciBkZWJ1ZyBtb2RlLCBwcm9kdWNpbmcgdG9ucyBvZiBsb2dzLjxicj5FUlJPUiAtIHNvbWV0aGluZyBiYWQgaGFwcGVuZWQgKGZvciBleGFtcGxlIGEgdmFsaWRhdG9yIHJldHVybmVkIGZhbHNlKS48L3RkPjwvdHI+CjwvdGFibGU+CjwvZGl2PjxkaXYgY2xhc3M9J21vc2FpY2JveCc+CjxkaXYgY2xhc3M9ImhlYWRpbmciPjxoMz5GbG93IHRlc3Q8L2gzPjwvZGl2Pgo8dGFibGU+Cjx0cj48dGQ+Jmx0OyFmb3JlYWNoIHN0cmluZ3M+Jmx0OyE9S0VZPjombHQ7IT1WQUxVRT4mbHQ7YnI+Jmx0OyEvZm9yZWFjaD48L3RkPjx0ZD48IWZvcmVhY2ggc3RyaW5ncz48IT1LRVk+OjwhPVZBTFVFPjxicj48IS9mb3JlYWNoPjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5FeGFtcGxlIGl0ZXJhdGlvbiBvbiBhIHBsYWluIGFycmF5PC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZm9yZWFjaCBjb3JlLmFkZG9ucz48YnI+Jm5ic3A7Jm5ic3A7Jmx0OyE9SURYPigmbHQ7IT1PREQ+KSZsdDshPUtFWT46Jmx0OyE9bmFtZT4mbHQ7YnI+PGJyPiZsdDshL2ZvcmVhY2g+PGJyPjxicj48L3RkPjx0ZD48IWZvcmVhY2ggY29yZS5hZGRvbnM+PCE9SURYPig8IT1PREQ+KSA8IT1LRVk+OjwhPW5hbWU+PGJyPjwhL2ZvcmVhY2g+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPkV4YW1wbGUgaXRlcmF0aW9uIG9uIGFuIGFycmF5IG9mIG9iamVjdHM8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFpZiBjb3JlLm5lZWRmcmFtZT5ub3JtYWwgbW9kZSZsdDshZWxzZT5mdWxsc2NyZWVuIG1vZGUmbHQ7IS9pZj48L3RkPjx0ZD48IWlmIGNvcmUubmVlZGZyYW1lPm5vcm1hbCBtb2RlPCFlbHNlPmZ1bGxzY3JlZW4gbW9kZTwhL2lmPjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5FeHByZXNzaW9uIGRlcGVuZGVudCBicmFuY2hlcyBvZiBvdXRwdXQ8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFpZiBjb3JlLm5lZWRmcmFtZT48YnI+Jm5ic3A7Jm5ic3A7Jmx0OyFmb3JlYWNoIGNvcmUuYWRkb25zPjxicj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbHQ7IWlmIE9ERD48YnI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jmx0OyE9S0VZPiwgJmx0OyFmb3JlYWNoIHN0cmluZ3M+Jmx0OyE9S0VZPiZsdDshL2ZvcmVhY2g+PGJyPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZsdDshZWxzZT48YnI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jmx0OyFmb3JlYWNoIGNvcmUuanM+Jmx0OyE9S0VZPiwmbmJzcDsmbHQ7IT1wYXJlbnQuS0VZPiZsdDshL2ZvcmVhY2g+PGJyPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZsdDsvaWY+PGJyPiZuYnNwOyZuYnNwOyZsdDshL2ZvcmVhY2g+PGJyPiZsdDshZWxzZT5zaG91bGQgbm90IHNlZSB0aGlzJmx0OyEvaWY+PC90ZD48dGQ+CjwhaWYgY29yZS5uZWVkZnJhbWU+CiAgPCFmb3JlYWNoIGNvcmUuYWRkb25zPgogICAgPCFpZiBPREQ+PCE9S0VZPiwgPCFmb3JlYWNoIHN0cmluZ3M+PCE9S0VZPjwhL2ZvcmVhY2g+PGJyPjwhZWxzZT4KICAgICAgPCFmb3JlYWNoIGNvcmUuanM+PCE9S0VZPiwgPCE9cGFyZW50LktFWT48YnI+PCEvZm9yZWFjaD4KICAgIDwhL2lmPgogIDwhL2ZvcmVhY2g+CjwhZWxzZT5zaG91bGQgbm90IHNlZSB0aGlzPCEvaWY+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPk5lc3RlZCBmbG93IGNvbnRyb2wgc3RydWN0dXJlczwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IWluY2x1ZGUgNDA0PjwvdGQ+PHRkIHN0eWxlPSdwYWRkaW5nLWJvdHRvbTo1cHg7Jz48ZGl2IHN0eWxlPSdib3JkZXI6MXB4IGRvdHRlZCAjMDAwMDAwOyc+PCFpbmNsdWRlIDQwND48L2Rpdj48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+SW5jbHVkZSBvdGhlciB0ZW1wbGF0ZTwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IXRlbXBsYXRlPiAmbHQ7JT0oJmx0OyE9Y29yZS5ub3c+KzEpPiAmbHQ7L3RlbXBsYXRlPjwvdGQ+PHRkIHN0eWxlPSdwYWRkaW5nLWJvdHRvbTo1cHg7Jz48IXRlbXBsYXRlPjwlPSg8IT1jb3JlLm5vdz4rMSk+PCEvdGVtcGxhdGU+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPkdlbmVyYXRlIHRlbXBsYXRlIHRhZ3Mgd2l0aCB0ZW1wbGF0ZXMsIHVzZSAmbHQ7JSBpbnN0ZWFkIG9mICZsdDshIGZvciBzZWNvbmQgaXRlcmF0aW9uPC90ZD48L3RyPgo8L3RhYmxlPgo8L2Rpdj48ZGl2IGNsYXNzPSdtb3NhaWNib3gnPgo8ZGl2IGNsYXNzPSJoZWFkaW5nIj48aDM+T3V0cHV0IHRlc3Q8L2gzPjwvZGl2Pgo8dGFibGU+Cjx0cj48dGQ+Jmx0OyE9Y29yZS5pZD48L3RkPjx0ZD48IT1jb3JlLmlkPjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5PdXRwdXQgdGhlIHZhbHVlIG9mIGEgZmllbGQgb2YgYW4gb2JqZWN0PC90ZD48L3RyPgo8dHI+PHRkPiZsdDshPWNvcmUubm93PjwvdGQ+PHRkPjwhPWNvcmUubm93PjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5DdXJyZW50IFVOSVggdGltZXN0YW1wIChzZWNvbmRzIHNpbmNlIDAxLzAxLzE5NzAgMDA6MDA6MDAgVVRDKTwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IT0oY29yZS5ub3cvMTAwK2NvcmUubmVlZGZyYW1lKT48L3RkPjx0ZD48IT0oY29yZS5ub3cvMTAwK2NvcmUubmVlZGZyYW1lKT48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+T3V0cHV0IHRoZSByZXN1bHQgb2YgYW4gZXhwcmVzc2lvbiAodXNlcyBldmFsKTwvdHI+Cjx0cj48dGQ+Jmx0OyE9c3ByaW50ZignJTAxMmQnLGNvcmUubm93LzEyMyk+PC90ZD48dGQ+PCE9c3ByaW50ZignJTAxMmQnLGNvcmUubm93LzEyMyk+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPk91dHB1dCByZXN1bHQgd2l0aCBmb3JtYXR0aW5nIGFwcGxpZWQ8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFkYXRlIGNvcmUubm93PjwvdGQ+PHRkPjwhZGF0ZSBjb3JlLm5vdz48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+T3V0cHV0IHRpbWVzdGFtcCBpbiBsb2NhbGl6ZWQgaHVtYW4gcmVhZGFibGUgZm9ybWF0PC90cj4KPHRyPjx0ZD4mbHQ7IXRpbWUgY29yZS5ub3c+PC90ZD48dGQ+PCF0aW1lIGNvcmUubm93PjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5Zb3VyIGJyb3dzZXIncyB0aW1lem9uZSBpczogPCE9X1NFU1NJT05bJ3BlX3R6J10+PC90ZD48L3RyPgo8dHI+PHRkPiZsdDshTCBDYW5jZWw+PC90ZD48dGQ+PCFMIENhbmNlbD48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+RXhwZWN0ZWQgdG8gYmUgdHJhbnNsYXRlZCB0byB5b3VyIGJyb3dzZXIncyBsYW5ndWFnZSAoPCE9Y2xpZW50Lmxhbmc+KTwvdHI+Cjx0cj48dGQ+Jmx0OyFMIGNsaWNrX21lPjwvdGQ+PHRkPjwhTCBjbGlja19tZT48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+U2hvdWxkIHJlYWQgIk5BX2NsaWNrX21lIjwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IT1MKCJjbGlja19tZSIpPjwvdGQ+PHRkPjwhPUwoImNsaWNrIG1lIik+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPlNob3VsZCByZWFkICJjbGljayBtZSI8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFpZiBjb3JlLmlzdHJ5KCk+Jmx0OyFkdW1wIG9iaj4mbHQ7IS9pZj48L3RkPjx0ZD48IWlmIGNvcmUuaXN0cnkoKT48IWR1bXAgb2JqPjwhL2lmPjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5CdWlsdC1pbiBvYmplY3QgZHVtcGVyIGZvciBkZWJ1Z2dpbmcuIFByZXNzIHRoZSBPSyBidXR0b24gYmVsb3cgdGhlIGZvcm0gdG8gc2VlIGl0IGluIGFjdGlvbi48L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFub25leGlzdGVudCB0YWc+PC90ZD48dGQ+PCFub25leGlzdGVudCB0YWc+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPlNob3VsZCBkaXNwbGF5IGEgd2FybmluZzwvdGQ+PC90cj4KPC90YWJsZT4KPC9kaXY+PGRpdiBjbGFzcz0nbW9zYWljYm94Jz4KPGRpdiBjbGFzcz0naGVhZGluZyc+PGgzPklucHV0IHRlc3Q8L2gzPjwvZGl2Pgo8IWZvcm0gb2JqPgo8dGFibGU+Cjx0cj48dGQ+Jmx0OyF2YXIgdGV4dCBvYmouc3VtbWFyeT48L3RkPjx0ZCBzdHlsZT0ncGFkZGluZy1ib3R0b206NXB4Oyc+PCF2YXIgdGV4dCBvYmouc3VtbWFyeT48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+QWN0cyBhcyBhIGZpZWxkIGluIGVkaXQgbW9kZSwgb3V0cHV0cyB0aGUgZm9ybWF0dGVkIHZhbHVlIG90aGVyd2lzZTwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IXZhciB0aW1lIGNvcmUubm93PjwvdGQ+PHRkIHN0eWxlPSdwYWRkaW5nLWJvdHRvbTo1cHg7Jz48IXZhciB0aW1lIGNvcmUubm93PjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5BY3RzIGFzIGEgZmllbGQgaW4gZWRpdCBtb2RlLCBvdXRwdXRzIHRpbWVzdGFtcCBpbiBhIGxvY2FsaXplZCBodW1hbiByZWFkYWJsZSBmb3JtYXQgb3RoZXJ3aXNlPC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZmllbGQgKnRleHQgb2JqLmZpZWxkMD48L3RkPjx0ZD48IWZpZWxkICp0ZXh0IG9iai5maWVsZDA+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPlNpbXBsZSBzdHJpbmcgaW5wdXQsIG5vIHJlc3RyaWN0aW9ucywgcmVxdWlyZWQ8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFmaWVsZCBwYXNzIG9iai5maWVsZDE+PC90ZD48dGQ+PCFmaWVsZCBwYXNzIG9iai5maWVsZDE+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPlNpbXBsZSBwYXNzd29yZDwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IWZpZWxkIHRleHQoPHNwYW4gdGl0bGU9J3NpemUnPjg8L3NwYW4+LDxzcGFuIHRpdGxlPSdtYXhsZW5ndGgnPjMyPC9zcGFuPikgb2JqLmZpZWxkMiAtIC0gLSBTZWFyY2g+PC90ZD48dGQ+PCFmaWVsZCB0ZXh0KDgsMzIpIG9iai5maWVsZDIgLSAtIC0gU2VhcmNoPjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5SZWFkcyBtb3JlIHRoYW4gbWVldHMgdGhlIGV5ZSB3aXRoICZxdW90O2Zha2UmcXVvdDsgdmFsdWU8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFmaWVsZCB0ZXh0KDxzcGFuIHRpdGxlPSdzaXplJz4yMDwvc3Bhbj4sPHNwYW4gdGl0bGU9J21heGxlbmd0aCc+ODA8L3NwYW4+LDxzcGFuIHRpdGxlPSdyb3dzJz4yPC9zcGFuPikgIG9iai5maWVsZDM+PC90ZD48dGQ+PCFmaWVsZCB0ZXh0KDIwLDgwLDIpIG9iai5maWVsZDM+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPllvdSBkb24ndCBoYXZlIHRvIGtub3cgYWJvdXQgdGV4dGFyZWEsIGp1c3QgYWRkIHRoZSBudW1iZXIgb2Ygcm93cyB5b3Ugd2FudDwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IWZpZWxkIHNlbGVjdCBvYmouZmllbGQ0IDxzcGFuIHRpdGxlPSdsaXN0IHZhbHVlcyc+Y29yZS5hZGRvbnM8L3NwYW4+PjwvdGQ+PHRkPjwhZmllbGQgc2VsZWN0IG9iai5maWVsZDQgY29yZS5hZGRvbnM+PC90ZD48dGQ+PC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZmllbGQgc2VsZWN0KDxzcGFuIHRpdGxlPSdzaXplJz4zPC9zcGFuPiw8c3BhbiB0aXRsZT0naXMgbXVsdGlwbGUnPjE8L3NwYW4+KSBvYmouZmllbGQ1IDxzcGFuIHRpdGxlPSdsaXN0IHZhbHVlcyc+Y29yZS5hZGRvbnM8L3NwYW4+PjwvdGQ+PHRkPjwhZmllbGQgc2VsZWN0KDMsMSkgb2JqLmZpZWxkNSBjb3JlLmFkZG9ucz48L3RkPjx0ZD48L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFmaWVsZCBkYXRlKDxzcGFuIHRpdGxlPSd5ZWFycyBiZWhpbmQnPjU8L3NwYW4+LDxzcGFuIHRpdGxlPSd5ZWFycyB0byBjb21lJz4yPC9zcGFuPikgb2JqLmZpZWxkNj48L3RkPjx0ZD48IWZpZWxkIGRhdGUoNSwyKSBvYmouZmllbGQ2PjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5IaW50OiBjaGFuZ2UgZGF0ZSBmb3JtYXQgaW4gcGhwcGUvbGFuZy88IT1jbGllbnQubGFuZz4ucGhwLCBhbmQgc2VlIHdoYXQgaGFwcGVucyA7LSk8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFmaWVsZCB0aW1lKDxzcGFuIHRpdGxlPSd5ZWFycyBiZWhpbmQnPjM8L3NwYW4+LDxzcGFuIHRpdGxlPSd5ZWFycyB0byBjb21lJz4zPC9zcGFuPiw8c3BhbiB0aXRsZT0nc3RlcHMgaW4gbWludXRlcyc+NTwvc3Bhbj4pIG9iai5maWVsZDc+PC90ZD48dGQ+PCFmaWVsZCB0aW1lKDMsMyw1KSBvYmouZmllbGQ3PjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5EYXRlIHBsdXMgdGltZTwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IWZpZWxkIHBob25lIG9iai5maWVsZDg+PC90ZD48dGQ+PCFmaWVsZCBwaG9uZSBvYmouZmllbGQ4PjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5Pbmx5IHZhbGlkIGNoYXJhY3RlcnMgYWNjZXB0ZWQ8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFmaWVsZCBlbWFpbCBvYmouZmllbGQ5PjwvdGQ+PHRkPjwhZmllbGQgZW1haWwgb2JqLmZpZWxkOT48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+RmllbGQgdmFsdWUgY2hlY2tlZCBvbiBibHVyPC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZmllbGQgKmNoZWNrIG9iai5maWVsZDEwIDxzcGFuIHRpdGxlPSdtdWx0aWxhbmcgbGFiZWwnPmNsaWNrbWU8L3NwYW4+PjwvdGQ+PHRkPjwhZmllbGQgKmNoZWNrIG9iai5maWVsZDEwIGNsaWNrbWU+PC90ZD48dGQ+PC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZmllbGQgcmFkaW8oPHNwYW4gdGl0bGU9J251bWVyaWMgdmFsdWUnPjE8L3NwYW4+KSBvYmouZmllbGQxMSA8c3BhbiB0aXRsZT0nbXVsdGlsYW5nIGxhYmVsJz5vbmU8L3NwYW4+PiAmbHQ7IWZpZWxkIHJhZGlvKDxzcGFuIHRpdGxlPSdudW1lcmljIHZhbHVlJz4yPC9zcGFuPikgb2JqLmZpZWxkMTEgPHNwYW4gdGl0bGU9J211bHRpbGFuZyBsYWJlbCc+dHdvPC9zcGFuPj48L3RkPjx0ZD48IWZpZWxkIHJhZGlvKDEpIG9iai5maWVsZDExIG9uZT4gPCFmaWVsZCByYWRpbygyKSBvYmouZmllbGQxMSB0d28+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPk5vdGUgdGhlIGF1dG9tYXRpYyBjbGlja2FibGUgbGFiZWxzPC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZmllbGQgcmFkaW8oPHNwYW4gdGl0bGU9J3N0cmluZyB2YWx1ZSc+J29uZSc8L3NwYW4+KSBvYmouZmllbGQxMiA8c3BhbiB0aXRsZT0nbXVsdGlsYW5nIGxhYmVsJz5vbmU8L3NwYW4+PiAmbHQ7IWZpZWxkIHJhZGlvKDxzcGFuIHRpdGxlPSdzdHJpbmcgdmFsdWUnPid0d28nPC9zcGFuPikgb2JqLmZpZWxkMTIgPHNwYW4gdGl0bGU9J211bHRpbGFuZyBsYWJlbCc+dHdvPC9zcGFuPj48L3RkPjx0ZD48IWZpZWxkIHJhZGlvKCdvbmUnKSBvYmouZmllbGQxMiBvbmU+IDwhZmllbGQgcmFkaW8oJ3R3bycpIG9iai5maWVsZDEyIHR3bz48L3RkPjx0ZD48L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFmaWVsZCBudW0gb2JqLmZpZWxkMTM+PC90ZD48dGQ+PCFmaWVsZCBudW0gb2JqLmZpZWxkMTM+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPlZhbHVlIHJpZ2h0IGFsaWduZWQsIGFuZCBvbmx5IG51bWJlcnMgYWNjZXB0ZWQ8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFmaWVsZCBudW0oOCw0KSBvYmouZmllbGQxND48L3RkPjx0ZD48IWZpZWxkIG51bSg4LDQpIG9iai5maWVsZDE0PjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5SZWFkcyBudW1iZXIgdXAgdGlsbCA5OTk5PC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZmllbGQgbnVtKDgsNCwxMDAsOTAwMCkgb2JqLmZpZWxkMTU+PC90ZD48dGQ+PCFmaWVsZCBudW0oOCw0LDEwMCw5MDAwKSBvYmouZmllbGQxNT48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+T24gdGhlIGZseSBib3VuZGFyeSBjaGVjazwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IWZpZWxkIGZpbGUgb2JqLmZpZWxkMTY+PC90ZD48dGQ+PCFmaWVsZCBmaWxlIG9iai5maWVsZDE2PjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5GaWxlIHVwbG9hZDwvdGQ+PC90cj4KPCFpZiBjb3JlLmlzaW5zdCgnY2hlY2tsaXN0Jyk+Cjx0cj48dGQ+Jmx0OyFmaWVsZCBjaGVja2xpc3QoMSwyLDMsNCw1KSBvYmouZmllbGQxNyA8c3BhbiB0aXRsZT0nbGlzdCB2YWx1ZXMnPmNvcmUuYWRkb25zPC9zcGFuPj48L3RkPjx0ZD48IWZpZWxkIGNoZWNrbGlzdCgxLDIsMyw0LDUsNiw3KSBvYmouZmllbGQxNyBjb3JlLmFkZG9ucz48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+QSBjaGVja2xpc3QgaW1wbGVtZW50ZWQgYXMgZmllbGQgcGx1Z2luPC90ZD48L3RyPgo8IS9pZj4KPCFpZiBjb3JlLmlzaW5zdCgncnMnKT4KPHRyPjx0ZD4mbHQ7IWZpZWxkIHJzIG9iai5maWVsZDE4PjwvdGQ+PHRkPjwhZmllbGQgcnMgb2JqLmZpZWxkMTg+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPlNpbXBsZSByZWNvcmQgc2V0IChjaGVjayBmaWVsZF9kYXRhZ3JpZCBmb3IgbW9yZSk8L3RkPjwvdHI+CjwhL2lmPgo8IWlmIGNvcmUuaXNpbnN0KCdjb21ibycpPgo8dHI+PHRkPiZsdDshZmllbGQgY29tYm8gb2JqLmZpZWxkMTkgPHNwYW4gdGl0bGU9J2xpc3QgdmFsdWVzJz5jb3JlLmFkZG9uczwvc3Bhbj4+PC90ZD48dGQ+PCFmaWVsZCBjb21ibyBvYmouZmllbGQxOSBjb3JlLmFkZG9ucz48L3RkPjx0ZCBjbGFzcz0nY29tbWVudCc+Q29tYm8gQm94LiBTZWxlY3QgIk90aGVyIiBmb3IgdGV4dCBtb2RlLCBwcmVzcyBkb3duIGFycm93IG9yIGJhY2tzcGFjZSB3aXRoIGVtcHR5IHZhbHVlIHRvIHJldHVybi48L3RkPjwvdHI+CjwhL2lmPgo8dHI+PHRkPiZsdDshZmllbGQgY2FuY2VsPiAmbHQ7IWZpZWxkIHVwZGF0ZT4gJmx0OyFmaWVsZCB1cGRhdGUgU2F2ZT48L3RkPjx0ZD48IWZpZWxkIGNhbmNlbD4gPCFmaWVsZCB1cGRhdGU+IDwhZmllbGQgdXBkYXRlIFNhdmU+PC90ZD48dGQgY2xhc3M9J2NvbW1lbnQnPkZvcm0gcG9zdCBjb250cm9sPC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZmllbGQgYnV0dG9uPjwvdGQ+PHRkPjwhZmllbGQgYnV0dG9uPjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5IVE1MNSBidXR0b24gd2l0aCBqYXZhc2NyaXB0IGhhbmRsZXI8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFmaWVsZCBzb21ldGhpbmcgb2JqLmZpZWxkWD48L3RkPjx0ZD48IWZpZWxkIHNvbWV0aGluZyBvYmouZmllbGRYPjwvdGQ+PHRkIGNsYXNzPSdjb21tZW50Jz5XaGF0IGhhcHBlbnMgaWYgZmllbGQgdHlwZSBub3Qga25vd248L3RkPjwvdHI+CjwvdGFibGU+CjwvZGl2PjxkaXYgY2xhc3M9J21vc2FpY2JveCc+CjxkaXYgY2xhc3M9J2hlYWRpbmcnPjxoMz5MaWJyYXJ5IHRlc3Q8L2gzPjwvZGl2Pgo8dGFibGUgd2lkdGg9JzEwMCUnPgo8dHI+PHRkPlBIUFBFIFBhY2s8IWlmICFmaWxlX2V4aXN0cygncGhwcGUvMDBfY29yZS5waHAnKT4gbm90PCEvaWY+IGluc3RhbGxlZC48L3RkPgo8dGQgc3R5bGU9J21pbi13aWR0aDozMDBweCAhaW1wb3J0YW50Oyc+PCFpZiAhdXNlci5pZD48YSBocmVmPSdsb2dpbic+TG9naW48L2E+PCFlbHNlPjxhIGhyZWY9J2xvZ291dCc+TG9nb3V0PC9hPjwhL2lmPjwvdGQ+PHRkIHdpZHRoPScxMDAlJz48L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyFmaWVsZCBib29sZWFuIG9iai5maWVsZDIwPjwvdGQ+PCFpZiAhY29yZS5pc2luc3QoJ2Jvb2xlYW4nKT48dGQ+PHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6I0YwMDAwMDtjb2xvcjojRkZBMEEwO3BhZGRpbmc6M3B4OyI+Ym9vbGVhbiBub3QgaW5zdGFsbGVkLjwvc3Bhbj48L3RkPjwhZWxzZT48dGQ+PCFmaWVsZCBib29sZWFuIG9iai5maWVsZDIwPjwhL2lmPjwvdGQ+PHRkPjwvdGQ+PC90cj4KPHRyPjx0ZD4mbHQ7IWZpZWxkIGJvb2xlYW4odHJ1ZSwnRW5hYmxlZCcsJ0Rpc2FibGVkJykgb2JqLmZpZWxkMjE+PC90ZD48IWlmICFjb3JlLmlzaW5zdCgnYm9vbGVhbicpPjx0ZD48c3BhbiBzdHlsZT0iYmFja2dyb3VuZDojRjAwMDAwO2NvbG9yOiNGRkEwQTA7cGFkZGluZzozcHg7Ij5ib29sZWFuIG5vdCBpbnN0YWxsZWQuPC9zcGFuPjwvdGQ+PCFlbHNlPjx0ZD48IWZpZWxkIGJvb2xlYW4odHJ1ZSwnRW5hYmxlZCcsJ0Rpc2FibGVkJykgb2JqLmZpZWxkMjE+PCEvaWY+PC90ZD48dGQ+PC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZmllbGQgbm90Ym9vbGVhbiBvYmouZmllbGQyMj48L3RkPjwhaWYgIWNvcmUuaXNpbnN0KCdub3Rib29sZWFuJyk+PHRkPjxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiNGMDAwMDA7Y29sb3I6I0ZGQTBBMDtwYWRkaW5nOjNweDsiPm5vdGJvb2xlYW4gbm90IGluc3RhbGxlZC48L3NwYW4+PC90ZD48IWVsc2U+PHRkPjwhZmllbGQgbm90Ym9vbGVhbiBvYmouZmllbGQyMj48IS9pZj48L3RkPjx0ZD48L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyF3aWRnZXQgcG9wdXA+PC90ZD48IWlmICFjb3JlLmlzaW5zdCgncG9wdXAnKT4KPHRkPjxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiNGMDAwMDA7Y29sb3I6I0ZGQTBBMDtwYWRkaW5nOjNweDsiPnBvcHVwIG5vdCBpbnN0YWxsZWQuPC9zcGFuPjwvdGQ+PCFlbHNlPjx0ZD48c3BhbiBzdHlsZT0nYm9yZGVyOjFweCBzb2xpZCBibGFjaztwYWRkaW5nOjNweDsnIG9ubW91c2VvdmVyPSdwb3B1cF9vcGVuKHRoaXMsIm15bWVudSIsMTAsMTApOyc+b3ZlciBtZTwvc3Bhbj4KPGRpdiBpZD0nbXltZW51JyBjbGFzcz0ncG9wdXAnIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kOiNBMEEwQTA7cGFkZGluZzo1cHg7ei1pbmRleDoxMDtkaXNwbGF5Om5vbmU7Jz5vbmU8YnI+dHdvPGJyPnRocmVlPGJyPmZvdXI8YnI+Li4uPGJyPjwvZGl2Pgo8YnI+PGJyPjwvdGQ+PCEvaWY+PHRkIGNsYXNzPSdjb21tZW50Jz5Qb3B1cCB0aXRsZSBzdXBwb3J0PC90ZD48L3RyPgo8dHI+PHRkPiZsdDshd2lkZ2V0IHpvb20+PGJyPiZsdDtpbWcgaWQ9J3RodW1iMCcuLi4gJmx0O2RpdiBpZD0ndGh1bWIxJy4uLjwvdGQ+PCFpZiAhY29yZS5pc2luc3QoJ3pvb20nKT4KPHRkPjxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiNGMDAwMDA7Y29sb3I6I0ZGQTBBMDtwYWRkaW5nOjNweDsiPnpvb20gbm90IGluc3RhbGxlZC48L3NwYW4+PC90ZD48IWVsc2U+PHRkPjxpbWcgaWQ9J3RodW1iMCcgYWx0PScnIHdpZHRoPSc2MCcgc3JjPSdodHRwOi8vcGhwcGUub3JnL2V4dG1nci5wbmcnIHJlbD0nZ2FsZXJ5MScgZGF0YS16b29tPSdodHRwOi8vcGhwcGUub3JnL2V4dG1nci5wbmcnIGRhdGEtem9vbS1tYXg9ODAgZGF0YS16b29tLW1pbj02MCB0aXRsZT0nU2NyZWVuc2hvdCBvZiBQSFBQRSBFeHRlbnNpb24gTWFuYWdlcic+Jm5ic3A7Jm5ic3A7Jm5ic3A7PGRpdiBpZD0ndGh1bWIxJyByZWw9J2dhbGVyeTEnIHRpdGxlPSdkaXYgdG8gem9vbScgZGF0YS16b29tPSdsYXJnZTEnIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjsnPmNsaWNrIG1lPC9kaXY+PGJyPgo8ZGl2IGlkPSdsYXJnZTEnIGNsYXNzPSdibHVlYmcnIHN0eWxlPSdkaXNwbGF5Om5vbmU7Jz5zZGY7bGFza2RmIGFzZGYgYXNkZiBzYWRmIGFzZGY8YnI+YWRhc2RzZCBhc2QgYXNkIGFzZGFzZGFzPGJyPmFkYXNkYXNkYXMgYXNkIGFzZDxicj48YnI+PGJyPjxicj48YnI+PGJyPnNkZjtsYXNrZGYgYXNkZiBhc2RmIHNhZGYgYXNkZjxicj5hZGFzZHNkIGFzZCBhc2QgYXNkYXNkYXM8YnI+YWRhc2Rhc2RhcyBhc2QgYXNkPGJyPjxicj48YnI+PGJyPjxicj48YnI+c2RmO2xhc2tkZiBhc2RmIGFzZGYgc2FkZiBhc2RmPGJyPmFkYXNkc2QgYXNkIGFzZCBhc2Rhc2Rhczxicj5hZGFzZGFzZGFzIGFzZCBhc2Q8YnI+PGJyPjxicj48YnI+PGJyPjxicj5zZGY7bGFza2RmIGFzZGYgYXNkZiBzYWRmIGFzZGY8YnI+YWRhc2RzZCBhc2QgYXNkIGFzZGFzZGFzPGJyPmFkYXNkYXNkYXMgYXNkIGFzZDxicj48YnI+PGJyPjxicj48YnI+PGJyPnNkZjtsYXNrZGYgYXNkZiBhc2RmIHNhZGYgYXNkZjxicj5hZGFzZHNkIGFzZCBhc2QgYXNkYXNkYXM8YnI+YWRhc2Rhc2RhcyBhc2QgYXNkPGJyPjxicj48YnI+PGJyPjxicj48YnI+c2RmO2xhc2tkZiBhc2RmIGFzZGYgc2FkZiBhc2RmPGJyPmFkYXNkc2QgYXNkIGFzZCBhc2Rhc2Rhczxicj5hZGFzZGFzZGFzIGFzZCBhc2Q8YnI+PGJyPjxicj48YnI+PGJyPjxicj48L2Rpdj4KPC90ZD48IS9pZj48dGQgY2xhc3M9J2NvbW1lbnQnPkV4YW1wbGUgZmllbGQgcGx1Z2luIHRoYXQgaGFzIG9ubHkganMgcGFydC4gSXQgY2FuIHN0cmVzcyB0aHVtYm5haWxzIG9uIGhvdmVyLiBJdCBhbHNvIHpvb21zIGxhcmdlIGltYWdlcyBvciBkaXYgZWxlbWVudHMuPC90ZD48L3RyPgo8dHI+PHRkPiZsdDshd2lkZ2V0IGRuZD48L3RkPjwhaWYgIWNvcmUuaXNpbnN0KCdkbmQnKT4KPHRkPjxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiNGMDAwMDA7Y29sb3I6I0ZGQTBBMDtwYWRkaW5nOjNweDsiPmRuZCBub3QgaW5zdGFsbGVkLjwvc3Bhbj48L3RkPjwhZWxzZT48dGQ+PGltZyBpZD0nZG5kdGVzdGltZycgc3JjPSc/Y2FjaGU9bG9nbycgYWx0PSdkcmFnYWJsZSBpbWFnZScgb25tb3VzZWRvd249J3JldHVybiBkbmRfZHJhZygidGFnTmFtZTogaW1nLCBpZDogIit0aGlzLmlkKyIsXG5zcmM6ICIrdGhpcy5zcmMsdGhpcywzMik7JyBzdHlsZT0nY3Vyc29yOm1vdmU7cGFkZGluZy1yaWdodDoyMHB4Oycgd2lkdGg9JzQyJz4gPHNwYW4gc3R5bGU9J2JvcmRlcjoxcHggc29saWQgYmxhY2s7cGFkZGluZzo1cHg7Y3Vyc29yOmNvcHk7JyBvbm1vdXNldXA9J3JldHVybiBkbmRfZHJvcChldmVudCxhbGVydCk7Jz48bm9icj5kcmFnIGFuZCBkcm9wIHBpY3R1cmUgaGVyZTwvbm9icj48L3NwYW4+PGJyPjxicj48L3RkPjwhL2lmPjx0ZCBjbGFzcz0nY29tbWVudCc+WWV0IGFub3RoZXIgZmFuY3kganMgc3R1ZmY8L3RkPjwvdHI+Cjx0cj48dGQ+Jmx0OyF3aWRnZXQgaGlnaGxpZ2h0KDAsMjAwKSB0eHQgcGhwIHBlcmwgcHl0aG9uIGNwcCk+PGJyPiZsdDtwcmUgY2xhc3M9J3BocCc+Li4uJmx0Oy9wcmU+PC90ZD4KPCFpZiAhY29yZS5pc2luc3QoJ2hpZ2hsaWdodCcpPgo8dGQ+PHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6I0YwMDAwMDtjb2xvcjojRkZBMEEwO3BhZGRpbmc6M3B4OyI+aGlnaGxpZ2h0IG5vdCBpbnN0YWxsZWQuPC9zcGFuPjwvdGQ+CjwhZWxzZT48dGQ+PHByZSBjbGFzcz0ncGhwJz52YXIgd2FzPTAsJGdyb3Vwcz1uZXcgQXJyYXkoImtleXdvcmQiLCJ0eXBlIiwiY29udHJvbCIpOwokYSA9ICgkYj09MT8wOjEpOyAkcyA9ICJzb21ldGhpbmciOwovKiBtdWx0aQogICBsaW5lCiAgIGNvbW1lbnQgKi8Kc3RkQ2xhc3MgT2JqZWN0ClswXSA9PiBzdGRDbGFzcyBPYmplY3QJLy9vbmUgbGluZSBjb21tZW50CltQcmljZV0gPT4gMTIzCjwvcHJlPjwvdGQ+PCEvaWY+PHRkIGNsYXNzPSdjb21tZW50Jz5Db2RlIGJsb2NrIGhpZ2hsaWdodGVyPC90ZD48L3RyPgo8dHI+PHRkPiZsdDtpZnJhbWU+Jmx0OyFmaWVsZCB0ZXRyaXM+Jmx0Oy9pZnJhbWU+PC90ZD48IWlmICFjb3JlLmlzaW5zdCgndGV0cmlzJyk+Cjx0ZD48c3BhbiBzdHlsZT0iYmFja2dyb3VuZDojRjAwMDAwO2NvbG9yOiNGRkEwQTA7cGFkZGluZzozcHg7Ij50ZXRyaXMgbm90IGluc3RhbGxlZC48L3NwYW4+PC90ZD4KPCFlbHNlPjx0ZD48YSBpZD0ndGh1bWIyJyBvbmNsaWNrPSd6b29tX29wZW4oIjIiLDQwMCwzODApOycgc3R5bGU9J2N1cnNvcjpwb2ludGVyOyc+Jmx0O2lmcmFtZT4mbHQ7IWZpZWxkIHRldHJpcz4mbHQ7L2lmcmFtZT48L2E+PGRpdiBpZD0nbGFyZ2UyJyBzdHlsZT0nZGlzcGxheTpub25lOyc+PGlmcmFtZSB3aWR0aD0nNDAwJyBoZWlnaHQ9JzM4OCcgc3R5bGU9J2JvcmRlcjpzb2xpZCAwcHg7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTpoaWRkZW47JyBzcmM9J3RldHJpcyc+PC9pZnJhbWU+PC9kaXY+PC90ZD48IS9pZj48dGQgY2xhc3M9J2NvbW1lbnQnPkEgbGl0dGxlIGZ1bi48YnI+Tm90ZSB0aGlzIGlzIGEgbm9uLVBIUFBFIGNvbXBsaWFudCB0aGlyZCBwYXJ0eSBjb2RlLDxicj5pZiB5b3UgcHV0IGl0IG9uIGEgcGFnZSwgb3RoZXIganMgaGFuZGxlcnMgd2lsbCBkaWUuPGJyPllvdSBoYXZlIHRvIHVzZSBhbiBpZnJhbWUgaW5zaWRlIHRoZSBkaXYgdG8gYXZvaWQganMgaGFuZGxlciBjb25mbGljdHMuPC90ZD48L3RyPgo8dHI+PHRkPiZsdDshZmllbGQgd3lzaXd5ZyBvYmoud3N5aXd5Zz48L3RkPjwhaWYgIWNvcmUuaXNpbnN0KCd3eXNpd3lnJyk+Cjx0ZCBjb2xzcGFuPScyJz48c3BhbiBzdHlsZT0iYmFja2dyb3VuZDojRjAwMDAwO2NvbG9yOiNGRkEwQTA7cGFkZGluZzozcHg7Ij5QSFBQRSBQYWNrIG5vdCBpbnN0YWxsZWQuPC9zcGFuPjwvdGQ+PCFlbHNlPjx0ZCBjb2xzcGFuPScyJz48IWZpZWxkIHd5c2l3eWcoJzEwMCUnKSBvYmoud3lzaXd5Zz48L3RkPjwhL2lmPjwvdHI+Cjx0cj48dGQ+Jmx0OyF3aWRnZXQgcmVzcHRhYmxlPjwvdGQ+PHRkIGNvbHNwYW49JzInPgo8IWlmICFjb3JlLmlzaW5zdCgncmVzcHRhYmxlJyk+CjxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiNGMDAwMDA7Y29sb3I6I0ZGQTBBMDtwYWRkaW5nOjNweDsiPlBIUFBFIFBhY2sgbm90IGluc3RhbGxlZC48L3NwYW4+PCFlbHNlPjwhd2lkZ2V0IHJlc3B0YWJsZT4KIDx0YWJsZSBjbGFzcz0icmVzcHRhYmxlIj4KIDx0cj4KICA8dGggZGF0YS1maXhlZD0iMSI+IzwvdGg+CiAgPHRoPk5hbWU8L3RoPgogIDx0aD5QaG9uZTwvdGg+CiAgPHRoPkVtYWlsPC90aD4KICA8dGg+QWRkcmVzczwvdGg+CiAgPHRoPkVtYWlsPC90aD4KICA8dGg+RW1haWw8L3RoPgogPC90cj4KIDx0cj4KICA8dGQgY29sc3Bhbj0nNic+PGI+R3JvdXAgMTwvYj48L3RkPgogPC90cj4KIDx0cj4KICA8dGQ+MTwvdGQ+CiAgPHRkPlNvbWVCb2R5MTwvdGQ+CiAgPHRkPjEyMzQ1NjwvdGQ+CiAgPHRkPnNvbWVib2R5MUBub3NwYW0uY29tPC90ZD4KICA8dGQ+MTExMSB4IHkgMTwvdGQ+CiAgPHRkPnNvbWVib2R5MUBub3NwYW0uY29tPC90ZD4KICA8dGQ+c29tZWJvZHkxQG5vc3BhbS5jb208L3RkPgogPC90cj4KIDx0cj4KICA8dGQ+MjwvdGQ+CiAgPHRkPlNvbWVCb2R5MjwvdGQ+CiAgPHRkPjEyMzQ1NjwvdGQ+CiAgPHRkPnNvbWVib2R5MkBub3NwYW0uY29tPC90ZD4KICA8dGQ+MjIyMiB4IHkgMTwvdGQ+CiAgPHRkPnNvbWVib2R5MkBub3NwYW0uY29tPC90ZD4KICA8dGQ+c29tZWJvZHkyQG5vc3BhbS5jb208L3RkPgogPC90cj4KIDx0cj4KICA8dGQ+MzwvdGQ+CiAgPHRkPlNvbWVCb2R5MzwvdGQ+CiAgPHRkPjEyMzQ1NjwvdGQ+CiAgPHRkPnNvbWVib2R5M0Bub3NwYW0uY29tPC90ZD4KICA8dGQ+MzMzMyB4IHkgMTwvdGQ+CiAgPHRkPnNvbWVib2R5M0Bub3NwYW0uY29tPC90ZD4KICA8dGQ+c29tZWJvZHkzQG5vc3BhbS5jb208L3RkPgogPC90cj4KIDx0cj4KICA8dGQ+NDwvdGQ+CiAgPHRkPlNvbWVCb2R5NDwvdGQ+CiAgPHRkPjEyMzQ1NjwvdGQ+CiAgPHRkPnNvbWVib2R5NEBub3NwYW0uY29tPC90ZD4KICA8dGQ+NDQ0NCB4IHkgMTwvdGQ+CiAgPHRkPnNvbWVib2R5NEBub3NwYW0uY29tPC90ZD4KICA8dGQ+c29tZWJvZHk0QG5vc3BhbS5jb208L3RkPgogPC90cj4KIDx0cj4KICA8dGQgY29sc3Bhbj0nNic+PGI+R3JvdXAgMjwvYj48L3RkPgogPC90cj4KIDx0cj4KICA8dGQ+NTwvdGQ+CiAgPHRkPlNvbWVCb2R5NTwvdGQ+CiAgPHRkPjEyMzQ1NjwvdGQ+CiAgPHRkPnNvbWVib2R5NUBub3NwYW0uY29tPC90ZD4KICA8dGQ+NTU1NSB4IHkgMTwvdGQ+CiAgPHRkPnNvbWVib2R5NUBub3NwYW0uY29tPC90ZD4KICA8dGQ+c29tZWJvZHk1QG5vc3BhbS5jb208L3RkPgogPC90cj4KIDx0cj4KICA8dGQ+NjwvdGQ+CiAgPHRkPlNvbWVCb2R5NjwvdGQ+CiAgPHRkPjEyMzQ1NjwvdGQ+CiAgPHRkPnNvbWVib2R5NkBub3NwYW0uY29tPC90ZD4KICA8dGQ+NjY2NiB4IHkgMTwvdGQ+CiAgPHRkPnNvbWVib2R5NkBub3NwYW0uY29tPC90ZD4KICA8dGQ+c29tZWJvZHk2QG5vc3BhbS5jb208L3RkPgogPC90cj4KIDx0cj4KICA8dGQ+NzwvdGQ+CiAgPHRkPlNvbWVCb2R5NzwvdGQ+CiAgPHRkPjEyMzQ1NjwvdGQ+CiAgPHRkPnNvbWVib2R5N0Bub3NwYW0uY29tPC90ZD4KICA8dGQ+Nzc3NyB4IHkgMTwvdGQ+CiAgPHRkPnNvbWVib2R5N0Bub3NwYW0uY29tPC90ZD4KICA8dGQ+c29tZWJvZHk3QG5vc3BhbS5jb208L3RkPgogPC90cj4KIDwvdGFibGU+CjwhL2lmPgo8c3BhbiBjbGFzcz0nY29tbWVudCc+TW9iaWxlIGZyaWVuZGx5IHJlc3BvbnNpdmUgdGFibGVzLiBDbGljayB0aGUgJyMnIHRhYmxlIGhlYWRlciBmb3IgcXVpY2sgbWVudS48L3NwYW4+Cjx0ZD4KPC90YWJsZT4KPC9mb3JtPgo8L2Rpdj48ZGl2PjxkaXYgY2xhc3M9J21vc2FpY2JveCcgc3R5bGU9J21heC13aWR0aDoxMDI0cHg7Jz4KPGRpdiBjbGFzcz0naGVhZGluZyc+PGgzPkVudmlyb25tZW50IGR1bXA8L2gzPjwvZGl2Pgo8ZGl2IHN0eWxlPSdvdmVyZmxvdzphdXRvO21heC1oZWlnaHQ6MzAwcHg7Jz48IWR1bXAgY29yZT48L2Rpdj4KPC9kaXY+CjxkaXYgY2xhc3M9J21vc2FpY2JveCcgc3R5bGU9J292ZXJmbG93OmF1dG87bWF4LWhlaWdodDozMDBweDttYXgtd2lkdGg6MTAyNHB4Oyc+PGhyPjwhZHVtcCBjbGllbnQ+PC9kaXY+CjxkaXYgY2xhc3M9J21vc2FpY2JveCcgc3R5bGU9J292ZXJmbG93OmF1dG87bWF4LWhlaWdodDozMDBweDttYXgtd2lkdGg6MTAyNHB4Oyc+PGhyPjwhZHVtcCB1c2VyPjwvZGl2Pgo8ZGl2IGNsYXNzPSdtb3NhaWNib3gnIHN0eWxlPSdvdmVyZmxvdzphdXRvO21heC1oZWlnaHQ6MzAwcHg7bWF4LXdpZHRoOjEwMjRweDsnPjxocj48IWR1bXAgX1NFUlZFUj48L2Rpdj4KPGRpdiBjbGFzcz0nbW9zYWljYm94JyBzdHlsZT0nb3ZlcmZsb3c6YXV0bzttYXgtaGVpZ2h0OjMwMHB4O21heC13aWR0aDoxMDI0cHg7Jz48aHI+PCFkdW1wIGNvcmUucmVxMmFycigpPjwvZGl2Pgo8ZGl2IGNsYXNzPSdtb3NhaWNib3gnIHN0eWxlPSdvdmVyZmxvdzphdXRvO21heC1oZWlnaHQ6MzAwcHg7bWF4LXdpZHRoOjEwMjRweDsnPjxocj48IWR1bXAgYXJyYXlfcmV2ZXJzZShnZXRfZGVjbGFyZWRfY2xhc3NlcygpKT48L2Rpdj4KPGRpdiBjbGFzcz0nbW9zYWljYm94JyBzdHlsZT0nb3ZlcmZsb3c6YXV0bzttYXgtaGVpZ2h0OjMwMHB4O21heC13aWR0aDoxMDI0cHg7Jz48aHI+PCFkdW1wIF9TRVNTSU9OPjwvZGl2Pgo8L2Rpdj4KPGJyPjxicj4K","_new");
}
function phppe_archive()
{
    window.open("data:text/plain;base64,PD9waHAKLyoKICogIFBIUCBQb3J0YWwgRW5naW5lIHYyLjAuMAogKiAgaHR0cDovL3BocHBlLnR1cmR1cy5odS8KICoKICogIENvcHlyaWdodCAyMDEzIGJ6dAogKgogKiAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKICogIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZAogKiAgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICogIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCiAqCiAqICBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKICogIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiAqICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCiAqICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KICoKICogICA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4KICoKICogICBQSFBQRSBDb3JlIC0gVXNlIGFzIGlzCiAqLwpkZWZpbmUoIlBIUFBFX1ZFUlNJT04iLCIyLjAuMCIpOwoKLyoqKioqKioqKioqIFBIUFBFIENvcmUgTGlicmFyeSAqKioqKioqKioqKi8KLy9fdXJsKHBhZ2UsbW9kZSkKZnVuY3Rpb24gX3VybCgkcD1OVUxMLCRtPU5VTEwpe2dsb2JhbCRzeXM7JGM9JHN5cy0+YmFzZTtyZXR1cm4iaHR0cCIuKCRzeXMtPnNlY3VyZT8icyI6IiIpLiI6Ly8iLiRjLigkY1tzdHJsZW4oJGMpLTFdIT0iLyI/Ii8iOiIiKS4oJG0hPU5VTEwmJiRtIT1JPyRtLiIvIjooJHN5cy0+bW9kZSYmJHN5cy0+bW9kZSE9ST8kc3lzLT5tb2RlLiIvIjoiIikpLigkcCE9TlVMTCYmJHAhPUk/JHAuIi8iOigkc3lzLT5wYWdlJiYkc3lzLT5wYWdlIT1JPyRzeXMtPnBhZ2UuIi8iOiIiKSk7fWZ1bmN0aW9uIF9mZSgkZil7cmV0dXJuIGZpbGVfZXhpc3RzKCRmKTt9ZnVuY3Rpb24gX2YoJGYpe3JldHVybiBmdW5jdGlvbl9leGlzdHMoJGYpO31mdW5jdGlvbiBfZSgkYSwkYil7cmV0dXJuIGV4cGxvZGUoJGEsJGIpO31mdW5jdGlvbiBfaCgkcyl7cmV0dXJuIGh0bWxzcGVjaWFsY2hhcnMoJHMpO31mdW5jdGlvbiBfcygkYSwkYiwkYyl7cmV0dXJuIHN0cl9yZXBsYWNlKCRhLCRiLCRjKTt9Ci8vc3lzX2xvZyhBSVdFQ0QsbXNnLGFkZG9uKQpmdW5jdGlvbiBzeXNfbG9nKCR3LCRtLCRsbz0ic3lzIil7Z2xvYmFsJHN5cztpZigoJHN5cy0+bG9nbGV2ZWw8MSYmJHchPSJDIiYmJHchPSJFIiYmJHchPSJBIil8fCgkc3lzLT5sb2dsZXZlbDwzJiYkdz09IkQiKSlyZXR1cm47JGR0PSIiO2lmKCRzeXMtPmxvZ2xldmVsPjEmJigkdz09IkUifHwkdz09IkMiKSl7JGRzPWRlYnVnX2JhY2t0cmFjZSgpOyRkbD1zdHJsZW4oZGlybmFtZShfX0ZJTEVfXykpKzE7Zm9yZWFjaCgkZHMgYXMkZCl7JGM9c3Vic3RyKCRkWydmaWxlJ10sJGRsKTtpZigkYyE9SS4iLnBocCIpJGR0Lj0iXHQiLiRjLiI6Ii4kZFsnbGluZSddLiJcbiI7fX1pZihpc3NldCgkc3lzLT5tb2RlKSYmJHN5cy0+bW9kZSE9SSkkRj1zdHJ0b3VwcGVyKCRzeXMtPm1vZGUpO2Vsc2UkRj0iU1lTIjskZGE9ZGF0ZSgiWS1tLWQgSDppOnMiKTskbD0kZGEuIi0iLiR3LiItIi5zdHJ0b3VwcGVyKCRGKS4iOiAiOyRzcD0iPjxzcGFuIHN0eWxlPSciOyRiZz0iYmFja2dyb3VuZC1jb2xvcjojMDAwMDAwO2NvbG9yOiNBMDAwMDA7IjskYm89ImZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6I2ZmMDAwMDsiOyRmPWZvcGVuKEUuIi9sb2cvIi4kbG8uIi5sb2ciLCJhKyIpO2lmKCRmKXtmcHV0cygkZiwkbC5zdHJ0cigkbSxhcnJheSgiXHIiPT4iIiwiXG4iPT4iXFxuIiwiXHQiPT4iXFx0IikpLiJcbiIuJGR0KTtmY2xvc2UoJGYpO31lbHNleyR3PSJDIjskbD0kZGEuIi1XLUxPRzogPC9zcGFuIi4kc3AuJGJnLiInPnVuYWJsZSB0byB3cml0ZSA8Yj4iLkUuIi9sb2cvIi4kbG8uIi5sb2c8L2I+PC9zcGFuPjxiciIuJHNwLiRiby4kYmcuIic+Ii4kbDt9aWYoJHc9PSJDIilkaWUoIjxodG1sPjxib2R5IHN0eWxlPSciLiRiZy4iJz48ZGl2IGFsaWduPSdjZW50ZXInIHN0eWxlPSdmb250LXNpemU6MjhweDtjb2xvcjojZmYwMDAwOyc+Ii4kc3lzLT5pZC4iIC0gRGV2ZWxvcGVyIENvbnNvbGU8L2Rpdj48YnIiLiRzcC4kYm8uJGJnLiInPiIuJGwuIjwvc3BhbiIuJHNwLiRiZy4iJz4iLm5sMmJyKHN0cnRyKHRyaW0oJG0pLiJcbiIuJGR0LGFycmF5KCJcdCI9PiImbmJzcDsmbmJzcDsiKSkpLiI8L3NwYW4+PGJyPjwvYm9keT48L2h0bWw+XG4iKTt9Ci8vc3lzX2luaXQoZGVzYyxkZXAsbmFtZSk7IHJlZy4gbW9kdWxlCmZ1bmN0aW9uIHN5c19pbml0KCRkZXNjLCRkZXA9IiIsJG49IiIpe2dsb2JhbCRzeXM7JGQ9IiI7aWYoISRuKXskZHM9ZGVidWdfYmFja3RyYWNlKCk7JG49YmFzZW5hbWUoJGRzWzBdWydmaWxlJ10pO2lmKHByZWdfbWF0Y2goIi8oWzAtOV0rXF8pPyhbXlwvXF9dKykoW15cL10qKVwucGhwJC9pIiwkbiwkbSkpJG49JG1bMl09PSJzeXMiPyRtWzNdOiRtWzJdO3Vuc2V0KCRtKTt9JG49c3RydG91cHBlcigkbik7aWYoJGRlcCl7aWYoIWlzX2FycmF5KCRkZXApKSRkZXA9X2UoIiwiLCRkZXApO2ZvcmVhY2goJGRlcCBhcyR2KWlmKCFzeXNfaXNpbnN0KCR2KSkkZC49KCRkPyIsIjoiIikuJHY7aWYoJGQpc3lzX2xvZygiQyIsJG4uVS4kZCk7fWlmKCEkZCYmJG4pJHN5cy0+bW9kdWxlc1skbl0tPm5hbWU9JGRlc2M7fQovL3N5c19maWVsZChuYW1lLGRlc2MsZGVwLGNmZyk7IHJlZy4gZmllbGQKZnVuY3Rpb24gc3lzX2ZpZWxkKCRuLCRkZXNjLCRkZXA9IiIsJGM9IiIpe2dsb2JhbCRzeXM7JGQ9IiI7aWYoJGRlcCl7aWYoIWlzX2FycmF5KCRkZXApKSRkZXA9X2UoIiwiLCRkZXApO2ZvcmVhY2goJGRlcCBhcyR2KWlmKCFzeXNfaXNpbnN0KCR2KSkkZC49KCRkPyIsIjoiIikuJHY7fWlmKCEkZCl7JHN5cy0+ZmllbGRzWyRuXS0+bmFtZT0kZGVzYz8kZGVzYzokbjskc3lzLT5maWVsZHNbJG5dLT5jb25mPSRjO31lbHNlIHN5c19sb2coIkUiLCRuLlUuJGQpO30KLy9pbnN0YWxsIGNoZWNrCmZ1bmN0aW9uIHN5c19pc2luc3QoJG4pe2dsb2JhbCRzeXM7cmV0dXJuKGlzc2V0KCRzeXMtPm1vZHVsZXNbc3RydG91cHBlcigkbildKXx8aXNzZXQoJHN5cy0+ZmllbGRzWyRuXSl8fF9mZShFLiIvbGlicy9maWVsZF8iLiRuLiIucGhwIikpO30KLyoqKiBEYXRhIGxheWVyICoqKi8KLy9zeXNfcmVxMm9iaihuYW1lKTsgdmFsaWRhdGUKZnVuY3Rpb24gc3lzX3JlcTJvYmooJHApe2dsb2JhbCRfUiwkX1M7JG89IiI7Zm9yZWFjaCgkX1IgYXMkaz0+JHYpe2lmKHN1YnN0cigkaywwLHN0cmxlbigkcCkrMSk9PSRwLiJfIiYmJGtbc3RybGVuKCRrKS0yXSE9IjoiKXskZD1zdWJzdHIoJGssc3RybGVuKCRwKSsxKTskby0+JGQ9JHY7aWYoJHYhPSIiJiZpc3NldCgkX1NbInN5c192Il1bJGtdKSl7JGI9JF9TWyJzeXNfdiJdWyRrXTskdmY9InZhbGlkXyIuJGJbMV07JGZmPUUuIi9saWJzL2ZpZWxkXyIuJGJbMV0uIi5waHAiO2lmKCFfZigkdmYpJiZfZmUoJGZmKSlpbmNsdWRlX29uY2UoJGZmKTtpZihfZigkdmYpKXt7YXJyYXlfc2hpZnQoJGIpOyR2ZigkYiwkcC4iLiIuJGQsJHYsMCwkbywkZCk7fX19fX1yZXR1cm4kbzt9Ci8vc3lzX29iajJzdHIob2JqZWN0LHNraXBmbGRzLHNlcCk7IG9iamVjdCB0byBzdHJpbmcKZnVuY3Rpb24gc3lzX29iajJzdHIoJG9iaiwkcz0iIiwkc3A9IiIpe2lmKCFpc19hcnJheSgkcykpICRzPV9lKCIsIiwkcyk7Zm9yZWFjaCgkb2JqIGFzJGs9PiR2KXtpZighaW5fYXJyYXkoJGssJHMpKSRyLj0oJHNwPyRzcDoiLCIpLiRrLiI9JyIuYWRkc2xhc2hlcygkdikuIiciO31yZXR1cm4kcjt9Ci8vc3lzX3ZhbDJhcnIoc3RyaW5nKTsgc3RyaW5nIHRvIGFycmF5CmZ1bmN0aW9uIHN5c192YWwyYXJyKCRzLCRzcD0iIil7aWYoaXNfYXJyYXkoJHMpKXJldHVybiRzO2Vsc2VpZigkcyE9IiIpeyR2cz1zeXNfZ2V0dmFsKCRzKTtpZihpc19hcnJheSgkdnMpKXJldHVybiR2cztyZXR1cm4gX2UoJHNwPyRzcDoiLCIsJHZzKTt9cmV0dXJuIG51bGw7fQovL3N5c190cmUyYXJyKHRyZWUgYXJyYXkscHJlZixzdWZmLHN0ZXApOyBmbGF0IHRyZWUgKHJlbW92ZSBfKQpmdW5jdGlvbiBzeXNfdHJlMmFycigkcywkcHIsJHNmPSIiLCRzdD0wLCRwZT0iIiwkc3g9IiIsJGQ9bnVsbCl7Zm9yZWFjaCgkcyBhcyR2KXskaT1jb3VudCgkZCk7Zm9yZWFjaCgkdiBhcyRrPT4kdylpZigkayE9Il8iKSRkWyRpXS0+JGs9c3RydG9sb3dlcigkayk9PSJuYW1lIiYmISRzdD8kcGUuJHcuJHN4OiR3O2lmKGlzc2V0KCR2LT5fKSl7aWYoJHN0KSRkWyRpXS0+bmFtZS49IlxuIi5zcHJpbnRmKCRwciwkaSwkc3QpOyRkPXN5c190cmUyYXJyKCR2LT5fLCRwciwkc2YsJHN0LCRwZS4oJHN0PyIiOiRwciksKCRzdD8iIjokc2YpLiRzeCwkZCk7aWYoJHN0KSRkW2NvdW50KCRkKS0xXS0+bmFtZS49IlxuIi4kc2Y7fX1yZXR1cm4kZDt9Ci8qKiogVGVtcGxhdGVyICoqKi8KLy9zeXNfdGVtcGxhdGUobGF5b3V0KQpmdW5jdGlvbiBzeXNfdGVtcGxhdGUoJHQpe2dsb2JhbCRzeXMsJGxhbmcsJF90LCRfdG47c3lzX2xvZygiRCIsIlBhcnNpbmcgIi4kdCk7JHM9X3N5c19ndCgkdCw4KTt3aGlsZShwcmVnX21hdGNoKCIvPCFURU1QTEFURVtcIFx0XSsoW15cID5dKylbXCBcdF0qKFteXCA+XSopPi9pbXMiLCRzLCRtKSl7JGQ9JG1bMV07Z2xvYmFsJCRkOyRjPSQkZD8kJGQ6JGQ7JG5zPV9zeXNfZ3QoJGMsJG1bMl0+MT8kbVsyXTo4KTskcz1zdHJ0cigkcyxhcnJheSgkbVswXT0+JG5zKSk7fSRqPTA7JGs9MDskcG9zPSIiOyRmcG9zPSIiO2ZvcigkaT0wOyRpPHN0cmxlbigkcyk7JGkrKyl7aWYoc3RydG91cHBlcihzdWJzdHIoJHMsJGksNCkpPT0iPCFJRiIpeyRzPXN1YnN0cigkcywwLCRpKS4iPCFJRiMiLiRpLnN1YnN0cigkcywkaSs0KTskcG9zWyRqKytdPSRpOyRpKz00O31pZihzdHJ0b3VwcGVyKHN1YnN0cigkcywkaSw2KSk9PSI8IUVMU0UiKXskcz1zdWJzdHIoJHMsMCwkaSkuIjwhRUxTRSMiLiRwb3NbJGotMV0uc3Vic3RyKCRzLCRpKzYpOyRpKz02O31pZihzdHJ0b3VwcGVyKHN1YnN0cigkcywkaSw1KSk9PSI8IS9JRiIpeyRzPXN1YnN0cigkcywwLCRpKS4iPCEvSUYjIi4kcG9zWy0tJGpdLnN1YnN0cigkcywkaSs1KTskaSs9NTt9aWYoc3RydG91cHBlcihzdWJzdHIoJHMsJGksOSkpPT0iPCFGT1JFQUNIIil7JHM9c3Vic3RyKCRzLDAsJGkpLiI8IUZPUkVBQ0gjIi4kaS5zdWJzdHIoJHMsJGkrOSk7JGZwb3NbJGsrK109JGk7JGkrPTk7fWlmKHN0cnRvdXBwZXIoc3Vic3RyKCRzLCRpLDEwKSk9PSI8IS9GT1JFQUNIIil7JHM9c3Vic3RyKCRzLDAsJGkpLiI8IS9GT1JFQUNIIyIuJGZwb3NbLS0ka10uc3Vic3RyKCRzLCRpKzEwKTskaSs9MTA7fX0kcz1fc3lzX3QoJHMpO2lmKHByZWdfbWF0Y2goIi9jbGFzcz1bXCdcIl10b2MvaSIsJHMpJiZmaWxlX2V4aXN0cygianMvdG9jLmpzIikmJiFzdHJwb3MoIiAiLiRzeXMtPmpzWyJpbml0KCkiXSwidG9jX2luaXQiKSl7JHN5cy0+anNsaWJbXT0idG9jLmpzIjskc3lzLT5qc1siaW5pdCgpIl0uPSJ0b2NfaW5pdCgpOyI7fXJldHVybiRzO30KZnVuY3Rpb24gc3lzX2dldHZhbCgkZCwkVkFMVUU9bnVsbCwkS0VZPW51bGwsJElEWD0wLCRwYXJlbnQ9IiIsJHBLPTAsJHBJPTEpe2lmKHN0cnBvcygkZCwiJCIpIT09RkFMU0UpcmV0dXJuIEVSLiJXLUJBRElOUDogIi5faCgkZCkuIjwvc3Bhbj4iOyRwPSJWQUxVRS0+IjskbD1zdHJsZW4oJGQpO2lmKCRsPjAmJiRkWyRsLTFdPT0nLycpJGQ9c3Vic3RyKCRkLDAsJGwtMSk7JGQ9c3RydHIoJGQsYXJyYXkoInBhcmVudC5LRVkiPT4icEsiLCJwYXJlbnQuSURYIj0+InBJIikpOyRsPSRyPSIiO2ZvcigkaT0wOyRpPHN0cmxlbigkZCk7JGkrKyl7JGM9JGRbJGldO2lmKCRjPT0nIid8fCRjPT0iJyIpeyRyLj0kYzskaSsrOyRiPSIiO3doaWxlKCRpPHN0cmxlbigkZCkmJiRiIT0kYyl7aWYoJGI9PSJcXCIpJGIuPSRkWysrJGldOyRyLj0kYjskYj0kZFskaSsrXTt9JHIuPSRjOyRsPSIiO31pZigoY3R5cGVfYWxwaGEoJGMpfHwkYz09Il8iKSYmIWN0eXBlX2FsbnVtKCRsKSYmJGwhPSIuIiYmJGwhPSJfIil7JGo9JGk7JGI9JGRbJGpdO3doaWxlKCRiJiYoY3R5cGVfYWxudW0oJGIpfHwkYj09Il8iKSl7JGorKzskYj1pc3NldCgkZFskal0pPyRkWyRqXToiIjt9aWYoJGIhPSIoIil7JHY9c3Vic3RyKCRkLCRpLCRqLSRpKTskci49IlwkIjtpZihpc3NldCgkVkFMVUUpJiZpc3NldCgkVkFMVUUtPiR2KSl7JHIuPSRwOyR2PSRwLiR2O30kZlskdl09MTt9fSRyLj0oJGM9PSIuIj8iLT4iOihpc3NldCgkZFskaV0pPyRkWyRpXToiIikpOyRsPSRjO30kcj1zdHJ0cigkcixhcnJheSgiKyciPT4iLiciLCIrXCIiPT4iLlwiIiwiJysiPT4iJy4iLCJcIisiPT4iXCIuIikpO3N5c19sb2coIkQiLCJldmFsdWF0ZSAiLiRyLCJwaHAiKTtpZihpc3NldCgkZikpZm9yZWFjaCgkZiBhcyRrPT4kdilpZighaW5fYXJyYXkoJGssYXJyYXkoIklUUiIsIktFWSIsIklEWCIsIlZBTFVFIiwiT0REIiwicGFyZW50IiwicEsiLCJwSSIpKSlnbG9iYWwkJGs7JE9ERD0oJElEWCUyKSswOyRlPWVycm9yX3JlcG9ydGluZygpO2Vycm9yX3JlcG9ydGluZygkZSZ+RV9OT1RJQ0UpOyRyZXQ9ZXZhbCgicmV0dXJuICIuJHIuIjsiKTtlcnJvcl9yZXBvcnRpbmcoJGUpO3JldHVybiRyZXQ7fQpmdW5jdGlvbiBfc3lzX2d0KCR0LCRsKXtnbG9iYWwkc3lzLCRfdCwkX3RuO2lmKCFpc3NldCgkX3RbJHRdKSl7JF90blskdF09MDskdG49RC4iLyIuJHQuIi54bWwiOyRkPSIiO2lmKF9mZSgkdG4pKSRkPWZpbGVfZ2V0X2NvbnRlbnRzKCR0bik7ZWxzZWlmKHN5c19pc2luc3QoImxheW91dCIpJiYhZW1wdHkoJHN5cy0+ZHNbMF0pKXskYj1kYl9mZXRjaCgiKiIsImxheW91dCIsImlkPSciLmFkZHNsYXNoZXMoJHQpLiInIiwiIiwicmV2IERFU0MiKTtpZighZW1wdHkoJGItPmJvZHkpKSRkPSRiLT5ib2R5O2lmKCFlbXB0eSgkYi0+bWV0YSkpeyRiPWpzb25fZGVjb2RlKCRiLT5tZXRhKTtmb3JlYWNoKCRiIGFzJGs9PiR2KSRzeXMtPm1ldGFbJGtdPSR2O319JF90WyR0XT1wcmVnX3JlcGxhY2UoIi8+W1wgXHRcbl0rPCEvbXMiLCI+PCEiLCRkKTt9cmV0dXJuKCgkbCswKTw9JF90blskdF0rKyk/RVIuJHQuIjwvc3Bhbj4iOiRfdFskdF07fQpmdW5jdGlvbiBfc3lzX2koJGkpeyR2PXRyaW0oaW5pX2dldCgkaSkpOyRsPXN0cnRvbG93ZXIoJHZ7c3RybGVuKCR2KS0xfSk7c3dpdGNoKCRsKXtjYXNlJ2cnOiR2Kj0xMDI0O2Nhc2UnbSc6JHYqPTEwMjQ7Y2FzZSdrJzokdio9MTAyNDt9cmV0dXJuJHY7fQpmdW5jdGlvbiBfc3lzX3QoJHMsJElUUj1udWxsLCRLRVk9bnVsbCwkSURYPTEsJHA9bnVsbCwkcEs9MCwkcEk9MCl7Z2xvYmFsJHN5cywkbGFuZywkcGFnZXMsJF9SLCRfUywkX3RjOyRmPSIuc3R5bGUuYmFja2dyb3VuZD0nIjskaD0iPGlucHV0IHR5cGU9JyI7JGhpPSI8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSciOyRlYz0iI0ZGQTBBMCI7JHNlPSIgc2VsZWN0ZWQiOyRwbT0iKFteXCBcdD5dKilbXCBcdF0qIjskeD0iKFteLFwpXSopWyxdPyI7JEFNPSIvKFteXChdKylbXChdPyIuJHguJHguJHguJHguIihbXixcKV0qKVwpPy8iOyROPSJbXCBdKihbXj5dKik/PiI7Ci8qKiB0YWdzICoqLwogIHdoaWxlKHByZWdfbWF0Y2goIi88IUZPUkVBQ0gjKFswLTldKykiLiROLiIoLio/KTwhXC9GT1JFQUNII1xcMT4vbXMiLCRzLCRtKSl7JHY9c3lzX2dldHZhbCgkbVsyXSwkSVRSLCRwKTskbnM9IiI7aWYoISRJVFIpJElEWD0xO2lmKGlzX2FycmF5KCR2KSlmb3JlYWNoKCR2IGFzJGs9PiRpdGVtKXskbnMuPV9zeXNfdCgkbVszXSwkaXRlbSwkaywkSURYKyssJElUUiwkS0VZLCRJRFgpO30kcz1fcygkbVswXSwkbnMsJHMpO30KICB3aGlsZShwcmVnX21hdGNoKCIvPCFJRiMoWzAtOV0rKSIuJE4uIiguKj8pPCFcL0lGI1xcMT4vbXMiLCRzLCRtKSl7aWYocHJlZ19tYXRjaCgiLyguKik8IUVMU0UjIi4kbVsxXS4iPiguKikvbXMiLCRtWzNdLCRhKSl7JGc9JGFbMV07JGI9JGFbMl07fWVsc2V7JGc9JG1bM107JGI9IiI7fSRucz0iIjskb2s9c3lzX2dldHZhbCgkbVsyXSwkSVRSLCRLRVksJElEWCwkcCwkcEssJHBJKTtpZigkb2spJG5zPV9zeXNfdCgkZywkSVRSLCRLRVksJElEWCwkcCk7ZWxzZWlmKCRiKSRucz1fc3lzX3QoJGIsJElUUiwkS0VZLCRJRFgsJHApOyRzPV9zKCRtWzBdLCRucywkcyk7fQogIHdoaWxlKHByZWdfbWF0Y2goIi88IUZPUk1bXCBdKihbXlwgPl0qKVtcIF0qKFteXCA+XSopIi4kTi4iL2ltcyIsJHMsJG0pKXskX3RjPTA7JGM9JHN5cy0+bW9kZS4iLiIuJHN5cy0+cGFnZTskcz1fcygkbVswXSwiPGZvcm0gbmFtZT0nIi4oJG1bMV0/JG1bMV06ImZvcm0iKS4iJyBhY3Rpb249JyIuKCRtWzJdJiYkbVsyXSE9Ii0iJiYkbVsyXSE9Ii8iP3N5c19nZXR2YWwoJG1bMl0sJElUUik6X3VybCgpKS4iJyBtZXRob2Q9J3Bvc3QnIGVuY3R5cGU9J211bHRpcGFydC9mb3JtLWRhdGEnIi4oJG1bM10/IiBvbnN1Ym1pdD0nIi4kbVszXS4iJyI6IiIpLiI+XG4iLiRoaS4ic3lzX3NlYycgdmFsdWU9JyIuKGlzc2V0KCRfU1sic3lzX3NlYyJdWyRjXSk/JF9TWyJzeXNfc2VjIl1bJGNdOnNlc3Npb25faWQoKSkuIic+XG4iLigkc3lzLT5pdGVtPyRoaS4ic3lzX2l0ZW0nIHZhbHVlPSciLl9oKCRzeXMtPml0ZW0pLiInPlxuIjoiIiksJHMpO30KICB3aGlsZShwcmVnX21hdGNoKCIvPCFcPSIuJE4uIi9pbXMiLCRzLCRtKSl7JHY9c3lzX2dldHZhbCgkbVsxXSwkSVRSLCRLRVksJElEWCwkcCwkcEssJHBJKTskcz1fcygkbVswXSwkdiwkcyk7fQogIHdoaWxlKHByZWdfbWF0Y2goIi88IURBVEUiLiROLiIvaW1zIiwkcywkbSkpeyR2PXN5c19nZXR2YWwoJG1bMV0sJElUUik7JHM9X3MoJG1bMF0sc2hvd19kYXRlKDAsMCwkdiksJHMpO30KICB3aGlsZShwcmVnX21hdGNoKCIvPCFUSU1FIi4kTi4iL2ltcyIsJHMsJG0pKXskdj1zeXNfZ2V0dmFsKCRtWzFdLCRJVFIpOyRzPV9zKCRtWzBdLHNob3dfdGltZSgwLDAsJHYpLCRzKTt9CiAgd2hpbGUocHJlZ19tYXRjaCgiLzwhRElGRlRJTUUiLiROLiIvaW1zIiwkcywkbSkpeyR2PXN5c19nZXR2YWwoJG1bMV0sJElUUik7JG5zPSgkdjw4NjQwMD9mbG9vcigkdi82MCkuIiAiLihMKCJtaW4iKSk6KGZsb29yKCR2Lzg2NDAwKS4iICIuKGZsb29yKCR2Lzg2NDAwKT4xP0woImRheXMiKTpMKCJkYXkiKSkpKTskcz1fcygkbVswXSwkbnMsJHMpO30KICB3aGlsZShwcmVnX21hdGNoKCIvPCFEVU1QW1wgXSooW15cID5dKykiLiROLiIvaW1zIiwkcywkbSkpe29iX3N0YXJ0KCk7cHJpbnRfcihzeXNfZ2V0dmFsKCRtWzFdLCRJVFIsJEtFWSwkSURYLCRwKSk7JHY9JG1bMV0uIjogIi5faChvYl9nZXRfY29udGVudHMoKSk7b2JfZW5kX2NsZWFuKCk7JHM9X3MoJG1bMF0sIjxwcmUgY2xhc3M9J3BocCc+Ii4kdi4iPC9wcmU+Iiwkcyk7fQogIHdoaWxlKHByZWdfbWF0Y2goIi88IUxBTkdbXCBcX10qKFtePl0rKT4vaW1zIiwkcywkbSkpeyRzPV9zKCRtWzBdLGlzc2V0KCRsYW5nWyRtWzFdXSk/JGxhbmdbJG1bMV1dOiR2PSJOQV8iLiRtWzFdLCRzKTt9CiAgd2hpbGUocHJlZ19tYXRjaCgiLzwhTU9ERT4vaSIsJHMsJG0pKXskcz1fcygkbVswXSwhZW1wdHkoJHBhZ2VzLT5pZCk/KF9zeXNfdCghZW1wdHkoJF9TWyJzeXNfZWRpdCJdKT8iPCFmb3JtIGxheW91dD48IWZpZWxkIGxheW91dCBwYWdlcz48L2Zvcm0+IjokcGFnZXMtPmJvZHkpKTpzeXNfdGVtcGxhdGUoJHN5cy0+dGVtcGxhdGUpLCRzKTt9CiAgLy88IShWQVJ8RklFTEQpIHR5cGVbKGFyZ3MpXSBhdHRycz4KICB3aGlsZShwcmVnX21hdGNoKCIvPCFbVkZdW0FJXVtSRV1MP0Q/W1wgXSooW15cID5dKylbXCBdKihbXlwgXC4+XSopW1wgX1wuXSoiLiRwbS4kcG0uJHBtLiRwbS4kTi4iL2ltcyIsJHMsJG0pKXtwcmVnX21hdGNoKCRBTSwkbVsxXSwkYSk7JHR5PSRhWzFdOyR0YT0kbVsyXTskZmk9JG1bM107JG89JG1bNF07JHI9JG1bNV07JFg9JG1bNl07JEY9JG1bN107JFY9JHRhLiJfIi4kZmk7Z2xvYmFsJCR0YSwkJG8sJCRyOyRZPWlzc2V0KCRfUlskVl0pPyRfUlskVl06KGlzX29iamVjdCgkJHRhKSYmJGZpIT0iIiYmaXNzZXQoJCR0YS0+JGZpKT8kJHRhLT4kZmk6IiIpO2lmKGlzc2V0KCRzeXMtPmVycm9yWyR0YS4iLiIuJGZpXSkmJiRzeXMtPmVycm9yWyR0YS4iLiIuJGZpXSE9IiIpJGVyPSInIHN0eWxlPSdiYWNrZ3JvdW5kOiIuJGVjLiI7Ii4oJHR5PT0ibnVtIj8idGV4dC1hbGlnbjpyaWdodDsiOiIiKS4iJyBvbmZvY3VzPSd0aGlzLnN0eWxlLmJhY2tncm91bmQ9XCJcIjsiO2Vsc2UkZXI9IiI7JFA9IjxpbnB1dCBjbGFzcz0naW5wdXQiLigkciYmJHIhPSItIj8iICIuJHI6IiIpLiRlci4iJyBuYW1lPSciLiRWLiInIHR5cGU9JyI7JElPPSgkbyYmJG8hPSItIj8iIG9uY2hhbmdlPSciLiRvLiI7JyI6IiIpOyRnYz0idmFyIGMsbztpZighZSllPXdpbmRvdy5ldmVudDtvPWUudGFyZ2V0O2M9ZS5rZXlDb2RlP2Uua2V5Q29kZTplLndoaWNoOyI7JGdtPSJpZihjPT04fHxjPT0zN3x8Yz09Mzl8fGM9PTQ2KXJldHVybiB0cnVlO2M9U3RyaW5nLmZyb21DaGFyQ29kZShjKTtpZihjLm1hdGNoKC9bMC05XFxiXFx0XFxyXFwtXFwuIjskYzE9IjxzZWxlY3QgY2xhc3M9J2lucHV0IjskYzI9IiBjbGFzcz0nIjskYzM9IiBuYW1lPSciOyRkPSJmaWVsZF8iLiR0eTskRD0ic2hvd18iLiR0eTskZmU9RS4iL2xpYnMvIi4kZC4iLnBocCI7aWYoc3RydG91cHBlcigkbVswXVsyXSk9PSdWJyYmZW1wdHkoJF9TWyJzeXNfZWRpdCJdKSl7aWYoIV9mKCREKSYmX2ZlKCRmZSkpaW5jbHVkZV9vbmNlKCRmZSk7aWYoX2YoJEQpKXskYj0kYTthcnJheV9zaGlmdCgkYik7JHY9JEQoJGIsJHRhLiIuIi4kZmksJFksJG8sJHIsJFgsJG1bN10pO31lbHNlJHY9JFkhPSIiP19oKHVybGRlY29kZSgkWSkpOiJOL0EiO31lbHNleyRVPSJ1c2Vyc19hY2Nlc3MiO2lmKCFwcmVnX21hdGNoKCIvKFteLVwgPl0qKT4kLyIsJG1bMF0sJEEpfHwhX2YoJFUpfHwkVSgkQVsxXSkpc3dpdGNoKCR0eSl7Ci8qKiB0eXBlcyAqKi8KICBjYXNlImhpZGRlbiI6JHY9JGhpLiRWLiInIHZhbHVlPVwiIi5faCh0cmltKCRZKSkuIlwiPiI7YnJlYWs7CiAgLy9idXR0b24gW2xibCBbY2xrIFtjc3NdXV0KICBjYXNlImJ1dHRvbiI6JHY9JGguImJ1dHRvbicgdmFsdWU9XCIiLl9zKCciJywiJyciLEwoJHRhPyR0YToiUHJlc3MgbWUiKSkuIlwiIG9uY2xpY2s9JyIuJGZpLiInIi4kYzIuKCRvPyRvOiJidXR0b24iKS4iJz4iO2JyZWFrOwogIC8vY2FuY2VsIFtsYmwgW2Nzc11dCiAgY2FzZSJjYW5jZWwiOiR2PSRoLiJzdWJtaXQnIi4kYzMuInN5c19jYW5jZWwnIHZhbHVlPVwiIi5fcygnIicsIicnIixMKCR0YT8kdGE6IkNhbmNlbCIpKS4iXCIiLiRjMi4oJGZpPyRmaToiYnV0dG9uIikuIic+IjticmVhazsKICAvL3VwZGF0ZSBbbGJsIFtjbGsgW2Nzc11dXQogIGNhc2UidXBkYXRlIjpjYXNlInN1Ym1pdCI6JHY9JGguInN1Ym1pdCciLiRjMy4ic3lzX3RyeSIuKCRfdGMrKykuIicgdmFsdWU9XCIiLl9zKCciJywiJyciLEwoJHRhPyR0YToiT2theSIpKS4iXCIiLigkZmk/IiBvbmNsaWNrPSdyZXR1cm4gIi4kZmkuIiciOiIiKS4kYzIuKCRvPyRvOiJidXR0b24iKS4iJz4iO2JyZWFrOwogIC8vY2hlY2tbKHRydWV2YWx1ZSldIG9iai5mbGQgW2xibCBbY3NzXV0KICBjYXNlImNoZWNrIjokdj0kaC4iY2hlY2tib3gnIi4kYzMuJFYuIicgaWQ9JyIuJFYuIicgdmFsdWU9XCIiLl9oKCghZW1wdHkoJGFbMl0pPyRhWzJdOiIxIikpLiJcIiIuKCRZPyIgY2hlY2tlZCI6IiIpLigkcj8kYzIuJHIuIiciOiIiKS4iPiIuKCRvPyI8bGFiZWwgZm9yPSciLiRWLiInPiIuTCgkbykuIjwvbGFiZWw+IjoiIik7YnJlYWs7CiAgLy9yYWRpbyhncnApIG9iai5mbGQgW2xibCBbY3NzXV0KICBjYXNlInJhZGlvIjokSD1faCgkYVsyXSk7JHY9JGguInJhZGlvJyIuJGMzLiRWLiInIGlkPSciLiRWLiJfIi4kSC4iJyB2YWx1ZT1cIiIuJEguIlwiIi4oJHY9PSRhWzJdPyIgY2hlY2tlZCI6IiIpLigkcj8kYzIuJHIuIiciOiIiKS4iPjxsYWJlbCBmb3I9JyIuJFYuIl8iLiRILiInPiIuTCgkbykuIjwvbGFiZWw+IjticmVhazsKICAvL3NlbGVjdFsoc2l6Wyxpc211bHRpcGxlXSldIG9iai5mbGQgb3B0cyBbc2tpcCBbY2hnIFtjc3NdXV0KICBjYXNlInNlbGVjdCI6e2lmKCRyJiYkciE9Ii0iKSRSPXN5c19nZXR2YWwoJHIpO2lmKGlzc2V0KCRSKSYmIWlzX2FycmF5KCRSKSkkUj1fZSgiLCIsJFIpO2Vsc2UkUj1hcnJheSgpOyR2PSRjMS4oJG1bN10/IiAiLiRtWzddOiIiKS4kZXIuIiciLigkWCYmJFghPSItIj8iIG9uY2hhbmdlPSciLiRYLiI7JyI6IiIpLiRjMy4kVi4oJGFbM10+MD8iW10nIG11bHRpcGxlIjoiJyIpLigkYVsyXT4xPyIgc2l6ZT0nIi4oJGFbMl0pLiInIjoiIikuIj4iOyR2Mj1zeXNfZ2V0dmFsKCRvLCRJVFIpO2lmKGlzX2FycmF5KCR2MikpZm9yZWFjaCgkdjIgYXMkaz0+JFopeyRpZD1pc19vYmplY3QoJFopPyhpc3NldCgkWi0+aWQpPyRaLT5pZDooaXNzZXQoJFotPklkKT8kWi0+SWQ6KGlzc2V0KCRaLT5JRCk/JFotPklEOiRrKSkpOiRrO2lmKCFpbl9hcnJheSgkaWQsJFIpKXskdi49IjxvcHRpb24gdmFsdWU9XCIiLl9oKCRpZCkuIlwiIjtpZigoaXNfYXJyYXkoJFkpJiZpbl9hcnJheSgkaWQsJFkpKXx8JGlkPT0kWSkkdi49JHNlOyR2Lj0iPiIuKGlzc2V0KCRaLT5uYW1lKT8kWi0+bmFtZTooaXNzZXQoJFotPk5hbWUpPyRaLT5OYW1lOiRaKSkuIjwvb3B0aW9uPiI7fX0kdi49Ijwvc2VsZWN0PiI7fWJyZWFrOwogIC8vdGV4dFsoc2l6ZVssbWF4bGVuWyxyb3dzXV0pXSBvYmouZmxkIFtjaGcgW2NzcyBba3VwIFtmYWtlXV1dXQogIGNhc2UidGV4dCI6e2lmKCRhWzRdPjApe2lmKCRhWzNdPjApJHN5cy0+anNbInN5c19tdChlLG0pIl09JGdjLiJyZXR1cm4oYz09OHx8Yz09NDZ8fG8udmFsdWUubGVuZ3RoPD1tKTsiOyR2PSI8dGV4dGFyZWEgY2xhc3M9J2lucHV0Ii4oJHI/IiAiLiRyOiIiKS4kSU8uJGVyLiInIi4kYzMuJFYuIiciLigkYVsyXT4wPyIgY29scz0iLiRhWzJdOiIiKS4iIHJvd3M9JyIuJGFbNF0uIiciLigkYVszXT4wPyIgb25rZXlwcmVzcz0ncmV0dXJuIHN5c19tdChldmVudCwiLigkYVszXSswKS4iKTsnIjoiIikuIiB3cmFwPSdzb2Z0Jz4iLnRyaW0oJFkpLiI8L3RleHRhcmVhPiI7fWVsc2V7JHY9JFAuInRleHQnIi4kSU8uKCRhWzJdPjA/IiBzaXplPSciLiRhWzJdLiInIjoiIikuKCRhWzNdPjA/IiBtYXhsZW5ndGg9JyIuJGFbM10uIiciOiIiKS4oJFgmJiRYIT0iLSI/IiBvbmtleXVwPSciLiRYLiI7JyI6IiIpLigkRj8iIG9uZm9jdXM9J2lmKHRoaXMudmFsdWU9PVwiIi5faCgkRikuIlwiKXRoaXMudmFsdWU9XCJcIjsnIjoiIikuIiB2YWx1ZT1cIiIuX2godHJpbSgkRiYmISRZPyRGOiRZKSkuIlwiPiI7fX1icmVhazsKICAvL3Bhc3NbKHNpemVbLG1heGxlbl0pXSBvYmouZmxkIFtjaGcgW2Nzc11dCiAgY2FzZSJwYXNzIjp7JHY9JFAuInBhc3N3b3JkJyIuJElPLigkYVsyXT4wPyIgc2l6ZT0nIi4kYVsyXS4iJyI6IiIpLigkYVszXT4wPyIgbWF4bGVuZ3RoPSciLiRhWzNdLiInIjoiIikuIiB2YWx1ZT1cIiIuX2godHJpbSgkWSkpLiJcIj4iO31icmVhazsKICAvL251bVsoc2l6ZVssbWF4bGVuXSldIG9iai5mbGQgW2NoZyBbY3NzXV0KICBjYXNlIm51bSI6eyRzeXMtPmpzWyJzeXNfb25seWRpZ2l0cyhlKSJdPSAkZ2MuJGdtLiIsXS8pIT1udWxsKXtvIi4kZi4iJztyZXR1cm4gdHJ1ZTt9ZWxzZXtvIi4kZi4kZWMuIic7c2V0VGltZW91dChmdW5jdGlvbigpe28iLiRmLiInO30sMjAwKTtyZXR1cm4gZmFsc2U7fSI7JHY9JFAuInRleHQnIi4kSU8uKCEkZXI/IiBzdHlsZT0ndGV4dC1hbGlnbjpyaWdodDsnIjoiIikuIiBvbmtleXByZXNzPSdyZXR1cm4gc3lzX29ubHlkaWdpdHMoZXZlbnQpOycgb25rZXl1cD0ndGhpcy52YWx1ZT10aGlzLnZhbHVlLnJlcGxhY2UoXCIsXCIsXCIuXCIpOycgb25mb2N1cz0ndGhpcy5zZWxlY3QoKTsnIi4oJGFbMl0+MD8iIHNpemU9JyIuJGFbMl0uIiciOiIiKS4oJGFbM10+MD8iIG1heGxlbmd0aD0nIi4kYVszXS4iJyI6IiIpLigkYVs1XSE9MD8iIG9uYmx1cj0naWYodGhpcy52YWx1ZTwiLiRhWzRdLiIpdGhpcy52YWx1ZT0iLiRhWzRdLiI7aWYodGhpcy52YWx1ZT4iLiRhWzVdLiIpdGhpcy52YWx1ZT0iLiRhWzVdLiI7JyI6IiIpLiIgdmFsdWU9XCIiLigkYVs0XT09MCYmJGFbNV09PTA/JFkrMDooJFk8JGFbNF0/JGFbNF06KCRZPiRhWzVdPyRhWzVdOiRZKzAuMCkpKS4iXCI+Ijt9YnJlYWs7CiAgLy9waG9uZVsoc2l6ZVssbWF4bGVuXSldIG9iai5mbGQgW2NoZyBbY3NzXV0KICBjYXNlInBob25lIjp7JHN5cy0+anNbInN5c19vbmx5cGhvbmUoZSkiXT0kZ2MuJGdtLiJcXCBcXCtcXChcXClcXC9dLykhPW51bGwpe28iLiRmLiInO3JldHVybiB0cnVlO31lbHNle28iLiRmLiRlYy4iJztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byIuJGYuIic7fSwyMDApO3JldHVybiBmYWxzZTt9Ijskdj0kUC4idGV4dCciLiRJTy4iIG9ua2V5cHJlc3M9J3JldHVybiBzeXNfb25seXBob25lKGV2ZW50KTsnIi4oJGFbMl0+MD8iIHNpemU9JyIuJGFbMl0uIiciOiIiKS4oJGFbM10+MD8iIG1heGxlbmd0aD0nIi4kYVszXS4iJyI6IiIpLiIgdmFsdWU9XCIiLl9oKHRyaW0oJFkpKS4iXCI+Ijt9YnJlYWs7CiAgLy9lbWFpbFsoc2l6ZVssbWF4bGVuXSldIG9iai5mbGQgW2NoZyBbY3NzXV0KICBjYXNlImVtYWlsIjp7JHN5cy0+anNbInN5c19jaGVja2VtYWlsKG8pIl09ImlmKG8udmFsdWUhPScnJiZvLnZhbHVlLm1hdGNoKC9eLitcQChcWz8pW2EtekEtWjAtOVwtXC5dK1wuKFthLXpBLVpdezIsM318WzAtOV17MSwzfSkoXF0/KSQvKT09bnVsbClvIi4kZi4kZWMuIic7ZWxzZSBvIi4kZi4iJzsiOyR2PSRQLiJ0ZXh0JyBvbmNoYW5nZT0nc3lzX2NoZWNrZW1haWwodGhpcyk7JyIuKCRhWzJdPjA/IiBzaXplPSciLiRhWzJdLiInIjoiIikuIiBtYXhsZW5ndGg9JzI1NScgdmFsdWU9XCIiLl9oKHRyaW0oJFkpKS4iXCI+Ijt9YnJlYWs7CiAgLy9maWxlWyhzaXplWyxtYXhsZW5dKV0gb2JqLmZsZCBbY3NzXQogIGNhc2UiZmlsZSI6e2lmKCFpc3NldCgkc3lzLT53ZikpeyRzeXMtPndmPTE7JHY9JGhpLiJNQVhfRklMRV9TSVpFJyB2YWx1ZT0nIi4oJHN5cy0+Zm1heCswKS4iJz4iO31lbHNlJHY9IiI7JHYuPSRQLiJmaWxlJyIuKCRhWzJdPjA/IiBzaXplPSciLiRhWzJdLiInIjoiIikuIj4mbmJzcDsoIi4oJHN5cy0+Zm1heD4xMDQ4NTc2P3JvdW5kKCRzeXMtPmZtYXgvMTA0ODU3NikuIk1pIjokc3lzLT5mbWF4KS4iYikiO31icmVhazsKICAvL2RhdGVbKHllYXJzYmVmb3JlWyx5ZWFyc2FmdGVyXSldIG9iai5mbGQgW2NoZyBbY3NzXV0KICBjYXNlInRpbWUiOmNhc2UiZGF0ZSI6eyRzeXMtPmpzWyJzeXNfY3JlYXRkKG8sZikiXT0idmFyIGQ9bmV3IERhdGUoRGF0ZS5VVEMob1tmKyc6eSddLnZhbHVlLG9bZisnOm0nXS52YWx1ZS0xLG9bZisnOmQnXS52YWx1ZSxvW2YrJzpoJ10/b1tmKyc6aCddLnZhbHVlOjAsb1tmKyc6aSddP29bZisnOmknXS52YWx1ZTowLDApKTtpZihkJiZkLmdldFVUQ0RhdGUoKT09b1tmKyc6ZCddLnZhbHVlKXtvW2YrJzp5J10iLiRmLiInO29bZisnOm0nXSIuJGYuIic7b1tmKyc6ZCddIi4kZi4iJztpZihvW2YrJzpoJ10pb1tmKyc6aCddIi4kZi4iJztpZihvW2YrJzppJ10pb1tmKyc6aSddIi4kZi4iJzt9ZWxzZXtvW2YrJzp5J10iLiRmLiRlYy4iJztvW2YrJzptJ10iLiRmLiRlYy4iJztvW2YrJzpkJ10iLiRmLiRlYy4iJzt9IjskRj0iZGF0ZWZvcm1hdCI7JGMxLj0oJHI/IiAiLiRyOiIiKS4kZXIuIicgb25jaGFuZ2U9J3N5c19jcmVhdGQodGhpcy5mb3JtLFwiIi4kVi4iXCIpOyIuKCRvJiYkbyE9Ii0iPyRvLiI7IjoiIikuIiciLiRjMy4kVjskRD0iWS1tLWQiOyRkPV9lKCItIixkYXRlKCRELiItSC1pIiwkWT8kWTooaXNzZXQoJCR0YS0+JGZpKT8kJHRhLT4kZmk6JHN5cy0+bm93KSkpOyRkeT0kYzEuIjp5Jz4iOyRXPSI8b3B0aW9uIHZhbHVlPVwiIjskTz0iPC9vcHRpb24+IjskUz0iPC9zZWxlY3Q+Ijtmb3IoJGk9ZGF0ZSgiWSIsJHN5cy0+bm93KS0oJGFbMl0/JGFbMl06NSk7JGk8PWRhdGUoIlkiLCRzeXMtPm5vdykrKCRhWzNdPyRhWzNdOjUpOyRpKyspJGR5Lj0kVy4kaS4iXCIiLigkZFswXT09JGk/JHNlOiIiKS4iPiIuc3ByaW50ZigiJTA0ZCIsJGkpLiRPOyRkeS49JFM7JGRtPSRjMS4iOm0nPiI7Zm9yKCRpPTE7JGk8PTEyOyRpKyspeyR0PSJtb250aCIuKCRpPDEwPyIwIjoiIikuJGk7JHQ9aXNzZXQoJGxhbmdbJHRdKT8kbGFuZ1skdF06KCRpPDEwPyIwIjoiIikuJGk7JGRtLj0kVy4kaS4iXCIiLigkZFsxXT09JGk/JHNlOiIiKS4iPiIuJHQuJE87fSRkbS49JFM7JGRkPSRjMS4iOmQnPiI7Zm9yKCRpPTE7JGk8PTMxOyRpKyspJGRkLj0kVy4kaS4iXCIiLigkZFsyXT09JGk/JHNlOiIiKS4iPiIuKCRpPDEwPyIwIjoiIikuJGkuJE87JGRkLj0kUzskdj0kaGkuJFYuIicgdmFsdWU9JzAnPiIuX3MoYXJyYXkoIiVZIiwiJW0iLCIlZCIpLGFycmF5KCRkeSwkZG0sJGRkKSxfcyhhcnJheSgiWSIsIm0iLCJkIiksYXJyYXkoIiVZIiwiJW0iLCIlZCIpLGlzc2V0KCRsYW5nWyRGXSk/JGxhbmdbJEZdOiREKSk7JGM9ImNhbGVuZGFyIjtpZihfZmUoImpzLyIuJGMuIi5qcyIpKXskc3lzLT5qc2xpYltdPSRjLiIuanMiOyR2Lj0iJm5ic3A7PGltZyBzcmM9J2ltYWdlcy8iLiRjLiIucG5nJyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7dmVydGljYWwtYWxpZ246bWlkZGxlO2hlaWdodDoxNnB4Oycgb25jbGljaz0naWYoZG9jdW1lbnQuZm9ybXNbXCIiLiR0YS4iXCJdKSIuJGMuIl9vcGVuKHRoaXMsZG9jdW1lbnQuZm9ybXNbXCIiLiR0YS4iXCJdLFwiIi4kVi4iXCIpOycgYWx0PSdbLi4uXSc+Ijt9aWYoJHR5PT0idGltZSIpeyR2Lj0iJm5ic3A7Ii4kYzEuIjpoJz4iO2ZvcigkaT0wOyRpPD0yNDskaSsrKSR2Lj0kVy4kaS4iXCIiLigkZFszXT09JGk/JHNlOiIiKS4iPiIuKCRpPDEwPyIwIjoiIikuJGkuJE87JHYuPSRTLiI6Ii4kYzEuIjppJz4iO2ZvcigkaT0wOyRpPD01OTskaSsrKSR2Lj0kVy4kaS4iXCIiLigkZFs0XT09JGk/JHNlOiIiKS4iPiIuKCRpPDEwPyIwIjoiIikuJGkuJE87JHYuPSRTO319YnJlYWs7Ci8vZmllbGRfWChhcmdzW10sb2JqLGZsZCxhMSxhMixhMyxtb3JlKQogIGRlZmF1bHQ6e2lmKCFfZigkZCkmJl9mZSgkZmUpKWluY2x1ZGVfb25jZSgkZmUpO2lmKF9mKCRkKSl7JGI9JGE7YXJyYXlfc2hpZnQoJGIpOyR2PSRkKCRiLCR0YS4iLiIuJGZpLCRZLCRvLCRyLCRYLCRtWzddKTt9ZWxzZXskdj1FUi4iVy1VTktGTEQ6ICIuJHR5LiI8L3NwYW4+IjtzeXNfbG9nKCJEIiwiVW5rZmxkOiAiLiR0eSk7fX1icmVhazt9fSRzPV9zKCRtWzBdLCR2LCRzKTskZD0idmFsaWRfIi4kdHk7aWYoX2YoJGQpKSRfU0VTU0lPTlsic3lzX3YiXVskVl09JGE7fXJldHVybiRzOwp9Ci8qKiogdmFsaWRhdG9ycyAqKiovCi8vdmFsaWRfWChhcmdzW10sb2JqLGZsZCxzaWxlbnQpCmZ1bmN0aW9uIHZhbGlkX251bSgkYSwkbiwkdiwkcyl7Z2xvYmFsJHN5cztpZighcHJlZ19tYXRjaCgiL15bLV0/WzAtOVwsXC5cIF0rJC8iLCR2KSl7aWYoISRzKSRzeXMtPmVycm9yWyRuXT1MKCRuKS5MKCIgaW52YWxpZCBudW1iZXIhIik7cmV0dXJuIGZhbHNlO31pZigkYVszXSE9IiIpe2lmKCR2PCRhWzNdKWlmKCEkcykkc3lzLT5lcnJvclskbl09TCgiTm90IGVub3VnaCEiKTtlbHNlJHY9JGFbM107cmV0dXJuIGZhbHNlO31pZigkYVs0XSE9IiIpe2lmKCR2PiRhWzRdKWlmKCEkcykkc3lzLT5lcnJvclskbl09TCgiVG9vIG11Y2ghIik7ZWxzZSR2PSRhWzRdO3JldHVybiBmYWxzZTt9cmV0dXJuIHRydWU7fQpmdW5jdGlvbiB2YWxpZF9lbWFpbCgkYSwkbiwkdiwkcyl7Z2xvYmFsJHN5czskcj1wcmVnX21hdGNoKCIvXi4rXEAoXFs/KVthLXpBLVowLTlcLVwuXStcLihbYS16QS1aXXsyLDN9fFswLTldezEsM30pKFxdPykkLyIsJHYpO2lmKCEkciYmISRzKSRzeXMtPmVycm9yWyRuXT1MKCRuKS5MKCIgaW52YWxpZCBlbWFpbCBhZGRyZXNzISIpO3JldHVybiRyO30KZnVuY3Rpb24gdmFsaWRfcGhvbmUoJGEsJG4sJHYsJHMpe2dsb2JhbCRzeXM7JHI9cHJlZ19tYXRjaCgiL15bMC05XCtdWzAtOVwgXCtcKFwpXC1cLl0rJC8iLCR2KTtpZighJHImJiEkcykkc3lzLT5lcnJvclskbl09TCgkbikuTCgiIGludmFsaWQgcGhvbmUgbnVtYmVyISIpO3JldHVybiRyO30KZnVuY3Rpb24gdmFsaWRfcGFzcygkYSwkbiwkdiwkcyl7Z2xvYmFsJHN5czskYz0ic3lzX3Bhc3MiO2lmKF9mKCRjKSlyZXR1cm4kYygkYSwkbiwkdiwkcyk7JHI9cHJlZ19tYXRjaCgiL1swLTldLyIsJHYpJiZwcmVnX21hdGNoKCIvW2Etel0vaSIsJHYpJiZzdHJ0b2xvd2VyKCR2KSE9JHYmJnN0cnRvdXBwZXIoJHYpIT0kdiYmc3RybGVuKCR2KT49NDtpZighJHImJiEkcykkc3lzLT5lcnJvclskbl09TCgiSW52YWxpZCBwYXNzd29yZCEiKS4iIChhLXosQS1aLDAtOSkqNCI7cmV0dXJuJHI7fQpmdW5jdGlvbiB2YWxpZF90aW1lKCRhLCRuLCR2LCRzLCYkbywkZSl7Z2xvYmFsJHN5cywkX1I7JEM9X3MoIi4iLCJfIiwkbik7JGM9JEMuIjoiOyRSPSRfUjskcz1ta3RpbWUoaXNzZXQoJFJbJGMuImgiXSk/JFJbJGMuImgiXTowLGlzc2V0KCRSWyRjLiJpIl0pPyRSWyRjLiJpIl06MCwwLCRSWyRjLiJtIl0sJFJbJGMuImQiXSwkUlskYy4ieSJdKTskcj0oJHMmJmRhdGUoImQiLCRzKT09JFJbJGMuImQiXT8xOjApO2lmKCEkciYmISRzKSRzeXMtPmVycm9yWyRuXT1MKCRuKS5MKCIgaW52YWxpZCBkYXRlISIpO2Vsc2Ukby0+JGU9JF9SWyRDXT0kcztyZXR1cm4kcjt9CmZ1bmN0aW9uIHZhbGlkX2RhdGUoJGEsJG4sJHYsJHMsJiRvLCRlKXtyZXR1cm4gdmFsaWRfdGltZSgkYSwkbiwkdiwkcywkbywkZSk7fQpmdW5jdGlvbiBzaG93X2RhdGUoJGEsJG4sJHYsJHMpe2dsb2JhbCRsYW5nO3JldHVybiR2P2RhdGUoJGxhbmdbJ2RhdGVmb3JtYXQnXT8kbGFuZ1snZGF0ZWZvcm1hdCddOiJZLW0tZCIsJHYpOigkcz8iIjoiRXBvY2giKTt9CmZ1bmN0aW9uIHNob3dfdGltZSgkYSwkbiwkdiwkcyl7cmV0dXJuJHY/c2hvd19kYXRlKDAsMCwkdikuZGF0ZSgiIEg6aTpzIiwkdik6KCRzPyIiOiJFcG9jaCIpO30KLyoqKiBEYXRhYmFzZSAqKiovCmZ1bmN0aW9uIF9kYl9jKCRxKXtnbG9iYWwkc3lzOyRycz0wO3doaWxlKCEkcnMmJiFlbXB0eSgkc3lzLT5kYl90YWJsZSkpeyR0PSRzeXMtPmRiX3RhYmxlOyRjPWZpbGVfZ2V0X2NvbnRlbnRzKEUuIi9zcWwvIi4kdC4iLnNxbCIpO2lmKCEkYyl7c3lzX2xvZygiQyIsIk5vIHN1Y2ggdGFibGU6ICciLiR0LiInIik7cmV0dXJuIDA7fSRzPV9lKCI7IiwkYyk7Zm9yZWFjaCgkcyBhcyRlKWRiX3EoJGUpOyRycz1kYl9xKCRxKTtpZigkcnMpIHN5c19sb2coIkkiLCJUYWJsZSAnIi4kdC4iJyBjcmVhdGVkLiIpO31yZXR1cm4kcnM7fQpmdW5jdGlvbiBfZGJfZSgkcSwkbT0iIil7Z2xvYmFsJHN5cztpZighX2YoImRiX3EiKSlyZXR1cm4gMDskcj1kYl9xKCRxLCRtKTtpZighJHIpe2lmKCFlbXB0eSgkc3lzLT5kYl90YWJsZSkpJHI9X2RiX2MoJHEpO2lmKCRyPDApe3N5c19sb2coIkUiLGRiX2Vycm9yKCkpO319cmV0dXJuJHI7fQpmdW5jdGlvbiBkYl9saWtlKCRzKXtyZXR1cm4gcHJlZ19yZXBsYWNlKCIvWyVfXSsvIiwiJSIsIiUiLnByZWdfcmVwbGFjZSgiL1teYS16MC05XCVdL2kiLCJfIixfcygiL1tcIFx0XSsvIiwiJSIsX3MoIiUiLCIiLHRyaW0oJHMpKSkpLiIlIik7fQovL3JldHVybiBhZmZlY3RlZCByb3dzCmZ1bmN0aW9uIGRiX2V4ZWMoJHEsJG09IiIpeyRyPV9kYl9lKCRxLCRtKTtpZigkcjwwKXJldHVybiRyOyRyPWRiX251bV9yb3dzKCRyKTtkYl9mcmVlX3Jlc3VsdCgkcik7cmV0dXJuJHI7fQovL2RiX2FycmF5KGZsZHMsdGJsLHdocmUsZ3JwYnksb3JkYnksb2ZmcyxsbXQpOyByZXR1cm4gb2JqIGFycgpmdW5jdGlvbiBkYl9hcnJheSgkZiwkdCwkdz0iIiwkZz0iIiwkb3I9IiIsJG89MCwkbD0wKXtpZighX2YoImRiX3EiKSlyZXR1cm47Cmdsb2JhbCRzeXM7JHE9IlNFTEVDVCAiLiRmLigkdD8iIEZST00gIi4kdDoiIikuKCR3PyIgV0hFUkUgIi4kdzoiIikuKCRnPyIgR1JPVVAgQlkgIi4kZzoiIikuKCRvcj8iIE9SREVSIEJZICIuJG9yOiIiKS4oJGw/KCIgTElNSVQgIi4oJG8/JG8uIiwiOiIiKS4kbCk6IiIpLiI7Ijskcj1fZGJfZSgkcSk7JGE9YXJyYXkoKTtpZigkcil7d2hpbGUoJGFbXT1kYl9mZXRjaF9vYmplY3QoJHIpKTt1bnNldCgkYVtjb3VudCgkYSktMV0pO2RiX2ZyZWVfcmVzdWx0KCRyKTt9cmV0dXJuJGE7fQovL3JldHVybiBvYmoKZnVuY3Rpb24gZGJfZmV0Y2goJGYsJHQ9IiIsJHc9IiIsJGc9IiIsJG89IiIpe2lmKCFfZigiZGJfcSIpKXJldHVybjtnbG9iYWwkc3lzOyRxPSJTRUxFQ1QgIi4kZi4oJHQ/IiBGUk9NICIuJHQ6IiIpLigkdz8iIFdIRVJFICIuJHc6IiIpLigkZz8iIEdST1VQIEJZICIuJGc6IiIpLigkbz8iIE9SREVSIEJZICIuJG86IiIpLigkdD8iIExJTUlUIDEiOiIiKS4iOyI7JHI9X2RiX2UoJHEpO2lmKCRyPDB8fGRiX251bV9yb3dzKCRyKSE9MSkkUj1uZXcgc3RkQ2xhc3MoKTtlbHNleyRSPWRiX2ZldGNoX29iamVjdCgkcik7ZGJfZnJlZV9yZXN1bHQoJHIpO31yZXR1cm4kUjt9Ci8vcmV0dXJuIHRyZWUgYXJyIChjaGlsZHMgaW4gXykKZnVuY3Rpb24gZGJfdHJlZSgkcSwkcD0iIil7aWYoIV9mKCJkYl9xIikpcmV0dXJuOyRyPV9kYl9lKHN0cl9pcmVwbGFjZSgiOmlkIiwkcCwkcSkpO2lmKCRyPDApcmV0dXJuIGFycmF5KCk7d2hpbGUoJGFbXT1kYl9mZXRjaF9vYmplY3QoJHIpKXskYj1jb3VudCgkYSktMTskYz1kYl90cmVlKCRxLGlzc2V0KCRhWyRiXS0+SWQpPyRhWyRiXS0+SWQ6JGFbJGJdLT5pZCk7aWYoIWVtcHR5KCRjKSkkYVskYl0tPl89JGM7fXVuc2V0KCRhW2NvdW50KCRhKS0xXSk7cmV0dXJuJGE7fQovL3NlbGVjdCBkYXRhIHNvdXJjZQpmdW5jdGlvbiBkYl9kcygkbil7Z2xvYmFsJHN5cztpZighZW1wdHkoJHN5cy0+ZHNbJG5dKSkkc3lzLT5kYl9zb2NrPSRzeXMtPmRzWyRuXTt9CgovKioqIEhUVFAgKioqLwovL2h0dHBfcmVkaXJlY3QodXJsKQpmdW5jdGlvbiBodHRwX3JlZGlyZWN0KCR1PSIiKXtnbG9iYWwkc3lzLCRfU0VTU0lPTjt1bnNldCgkX1NFU1NJT05bInN5c192Il0pO2hlYWRlcigiSFRUUC8xLjAgMzAyIEZvdW5kIik7aGVhZGVyKCJMb2NhdGlvbjogIi4oJHU/KHN0cnBvcygiLy8iLCR1KT8kdToiaHR0cCIuKCRzeXMtPnNlY3VyZT8icyI6IiIpLiI6Ly8iLiRzeXMtPmJhc2UuKCR1WzBdIT0iLyI/Ii8iOiIiKS4kdSk6X3VybCgpKSk7ZXhpdCgpO30KLy9odHRwX2dldChodHRwKHMpIHVybCxwb3N0IGFycmF5LHRpbWVvdXQpCmZ1bmN0aW9uIGh0dHBfZ2V0KCR1LCRwPSIiLCR0bz0zMCwkbD0wKXtnbG9iYWwkc3lzO3N0YXRpYyRDO2lmKCRsPjcpcmV0dXJuO2lmKHByZWdfbWF0Y2goIi9eKFteXDpdKylcOlwvXC8oW15cL1w6XSspXDo/KFswLTldKikoLiopJC8iLCR1LCRtKSl7aWYoJG1bMV0hPSJodHRwIiYmJG1bMV0hPSJodHRwcyIpcmV0dXJuO2lmKCRtWzFdPT0iaHR0cHMiKSRtWzJdPSJzc2w6Ly8iLiRtWzJdO2lmKCRtWzNdPT0iIikkbVszXT0oJG1bMV09PSJodHRwIj84MDo0NDMpO2lmKCRtWzRdPT0iIikkbVs0XT0iLyI7JGY9ZnNvY2tvcGVuKCRtWzJdLCRtWzNdLCRuLCRzLCR0byk7aWYoISRmKXtzeXNfbG9nKCJXIiwiaHR0cCBlcnJvciAjIi4kbi4iICIuJHUuIiAiLiRzKTtyZXR1cm47fSRQPSIiO2lmKCRwKWZvcmVhY2goJHAgYXMkaz0+JHYpJFAuPSgkUD8iJiI6IiIpLiRrLiI9Ii51cmxlbmNvZGUoJHYpOyRvPSgkcD8iUE9TVCI6IkdFVCIpLiIgIi4kbVs0XS4iIEhUVFAvMS4wXHJcbkhvc3Q6ICIuJG1bMl0uIlxyXG5BY2NlcHQtTGFuZ3VhZ2U6ICIuZ2V0ZW52KCJIVFRQX0FDQ0VQVF9MQU5HVUFHRSIpLiJcclxuIi4oJEM/IkNvb2tpZTogIi4kQy4iXHJcbiI6IiIpLigkcD8iQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcclxuQ29udGVudC1MZW5ndGg6ICIuc3RybGVuKCRQKS4iXHJcbiI6IiIpLiJDb25uZWN0aW9uOiBjbG9zZTtcclxuXHJcbiIuJFA7ZndyaXRlKCRmLCRvKTskZD0iIjskaD0iLSI7JHQ9MDtzdHJlYW1fc2V0X3RpbWVvdXQoJGYsJHRvKTt3aGlsZSghZmVvZigkZikmJnRyaW0oJGgpIT0iIil7JGg9dHJpbSgoZmdldHMoJGYsNDA5NikpKTskSD1zdHJ0b2xvd2VyKCRoKTtpZihzdWJzdHIoJEgsMCw4KT09ImxvY2F0aW9uIil7JEg9dHJpbShzdWJzdHIoJGgsOSkpO2lmKCRIIT0kdSlyZXR1cm4gaHR0cF9nZXQoJEgsJHAsJHRvLCRsKzEpO31pZihzdWJzdHIoJEgsMCwxMik9PSJjb250ZW50LXR5cGUiJiZzdHJwb3MoJGgsInRleHQvIikpJHQ9MTtpZihzdWJzdHIoJEgsMCwxMCk9PSJzZXQtY29va2llIil7JEg9X2UoIjsiLHRyaW0oc3Vic3RyKCRoLDExKSkpOyRDLj0oJEM/IjsgIjoiIikuJEhbMF07fX13aGlsZSghZmVvZigkZikpJGQuPWZyZWFkKCRmLDY1NTM1KTtmY2xvc2UoJGYpO3JldHVybiR0P3N0cnRyKCRkLCJcciIsIiIpOiRkO319CgovKioqIEkxOE4gKioqLwpmdW5jdGlvbiBMQU5HX0lOSVQoJG09IiIpe2dsb2JhbCRzeXMsJGxhbmc7aWYoISRzeXMtPmxhbmcpcmV0dXJuO2lmKCEkbSl7JGQ9ZGVidWdfYmFja3RyYWNlKCk7bGlzdCgkbSk9X2UoIl8iLGJhc2VuYW1lKCRkWzBdWydmaWxlJ10pKTt9JEw9RS4iL2xhbmcvIjskRT0iX2VuLnBocCI7Zm9yZWFjaChhcnJheSgkTC4kbS4iXyIuJHN5cy0+bGFuZy4iLnBocCIsJEwuJG0uJEUsJEwuJHN5cy0+bW9kZS4iXyIuJHN5cy0+bGFuZy4iLnBocCIsJEwuJHN5cy0+bW9kZS4kRSlhcyRjKWlmKF9mZSgkYykpe2luY2x1ZGVfb25jZSgkYyk7YnJlYWs7fX0KZnVuY3Rpb24gTCgkcyl7Z2xvYmFsJGxhbmc7cmV0dXJuKGlzc2V0KCRsYW5nWyRzXSk/JGxhbmdbJHNdOl9zKCJfIiwiICIsJHMpKTt9ZnVuY3Rpb24gTEFORygkcyl7cmV0dXJuIEwoJHMpO30KCgovKioqKioqKioqIEJvb3RzdHJhcCBQSFBQRTIgKioqKioqKioqLwpkZWZpbmUoIkUiLCJlbmdpbmUiKTtkZWZpbmUoIkkiLCJpbmRleCIpO2RlZmluZSgiRCIsImRlc2lnbiIpO2RlZmluZSgiVSIsIiBkZXBlbmRzIG9uIHVuaW5zdGFsbGVkIG1vZHVsZShzKS9maWVsZChzKTogIik7JF9fUz0kX1NFUlZFUjskX1I9JF9SRVFVRVNUO2luaV9zZXQoImVycm9yX2xvZyIsRS4iL2xvZy9waHAubG9nIik7aW5pX3NldCgibG9nX2Vycm9ycyIsMSk7ZXJyb3JfcmVwb3J0aW5nKEVfQUxMJn5FX0RFUFJFQ0FURUQmfkVfV0FSTklORyk7bWJfaW50ZXJuYWxfZW5jb2RpbmcoInV0Zi04Iik7c2V0bG9jYWxlKExDX0FMTCwiZW5fVVMuVVRGOCIpO2RhdGVfZGVmYXVsdF90aW1lem9uZV9zZXQoIlVUQyIpO3Vuc2V0KCRzeXMpO3Vuc2V0KCR1c2VyKTt1bnNldCgkbGFuZyk7JHN5cy0+aWQ9MDskc3lzLT5sb2dsZXZlbD0yOyRzeXMtPnN0YXJ0ZWQ9bWljcm90aW1lKHRydWUpOyRzeXMtPmJhc2U9ImxvY2FsaG9zdCI7aGVhZGVyKCJDYWNoZS1Db250cm9sOiBuby1jYWNoZSxuby1zdG9yZSxwcml2YXRlLG11c3QtcmV2YWxpZGF0ZSIpOyRjPSJjb25maWcucGhwIjtpZihfZmUoJGMpKXtpbmNsdWRlKCRjKTskc3lzLT5kaWFnPTA7fWVsc2Ukc3lzLT5kaWFnPTE7JHN5cy0+aWQ9IlBIUFBFIi5QSFBQRV9WRVJTSU9OO2lmKHZlcnNpb25fY29tcGFyZShQSFBfVkVSU0lPTiwiNS4yIik8MClzeXNfbG9nKCJDIiwiUEhQIDUuMi4wIHJlcXVpcmVkLiIpO2RlZmluZSgiRVIiLCI8c3BhbiBzdHlsZT0nYmFja2dyb3VuZDojRjAwMDAwO2NvbG9yOiNGRkEwQTA7cGFkZGluZzozcHg7Jz4iKTskYz1iYXNlbmFtZShfX0ZJTEVfXyk7aWYoZmlsZXNpemUoJGMpIT0zMjc2OHx8JzIxMTQxY2ZmZjE2M2UxOWMyZDQzOGU1YmNiNDk0NmMxYjlhYTFlZWYnIT1zaGExKHByZWdfcmVwbGFjZSgiL1wnKFteXCddKylcJ1whXD1zaGExLyIsIicnIT1zaGExIixmaWxlX2dldF9jb250ZW50cygkYykpKSlzeXNfbG9nKCJDIiwiQ29ycnVwdGVkICIuJGMpOwppZigkc3lzLT5sb2dsZXZlbDwwKSRzeXMtPmxvZ2xldmVsPTA7JGQ9X2UoIi8iLGlzc2V0KCRfX1NbIlBBVEhfSU5GTyJdKT8kX19TWyJQQVRIX0lORk8iXToiLy8iKTskQT0iYXJndiI7JEw9IWlzc2V0KCRfX1NbIlJFUVVFU1RfTUVUSE9EIl0pOyRzeXMtPm1vZGU9KCFlbXB0eSgkZFsxXSk/c3RydG9sb3dlcigkZFsxXSk6KCRMJiYhZW1wdHkoJF9fU1skQV1bMV0pP3RyaW0oc3RydG9sb3dlcigkX19TWyRBXVsxXSkpOkkpKTskc3lzLT5wYWdlPSghZW1wdHkoJGRbMl0pP3N0cnRvbG93ZXIoJGRbMl0pOigkTCYmIWVtcHR5KCRfX1NbJEFdWzJdKT90cmltKHN0cnRvbG93ZXIoJF9fU1skQV1bMl0pKTpJKSk7JHN5cy0+aXRlbT1pc3NldCgkX1JbJ3N5c19pdGVtJ10pP3RyaW0oJF9SWydzeXNfaXRlbSddKTp0cmltKCFlbXB0eSgkZFszXSk/JGRbM10uKCFlbXB0eSgkZFs0XSk/Ii8iLiRkWzRdLighZW1wdHkoJGRbNV0pPyIvIi4kZFs1XToiIik6IiIpOigkTCYmIWVtcHR5KCRfX1NbJEFdWzNdKT90cmltKCRfX1NbJEFdWzNdKToiIikpO2NoZGlyKGRpcm5hbWUoX19GSUxFX18pKTtpZigkc3lzLT5kaWFnKXtmdW5jdGlvbiBfaSgkYywkcil7cmV0dXJuKCFfZmUoJGMpP2ZpbGVfcHV0X2NvbnRlbnRzKCRjLCRyKToxKTt9aW5pX3NldCgiZGlzcGxheV9lcnJvcnMiLDApOyRDPTA3NTA7JGM9YXJyYXkoIi51cGxvYWQiPT4wNzcwLCJkYXRhIj0+MDc3MCxEPT4kQyxFPT4kQyxFLiIvYmluIj0+JEMsRS4iL2luaXQiPT4kQyxFLiIvbGFuZyI9PiRDLEUuIi9saWJzIj0+JEMsRS4iL2xvZyI9PjA3NzAsRS4iL21vZGUiPT4kQyxFLiIvb3V0Ij0+JEMsRS4iL3NxbCI9PiRDLCJpbWFnZXMiPT4kQywianMiPT4kQywic2tpbnMiPT4kQywiY29uZmlnLnBocCI9PjA2NDAsSS4iLnBocCI9PjA2NDApOyRvPXVtYXNrKDAyNyk7JHBlPSIiO2ZvcmVhY2goJGMgYXMkZD0+JHApe2lmKHN1YnN0cigkZCwtNCkhPSIucGhwIiYmIWlzX2RpcigkZCkpe2lmKCFta2RpcigkZCwkcCkpc3lzX2xvZygiQyIsIkVycm9yIGNyZWF0aW5nIHNrZWxldG9uOiAiLiRkKTt9JHAyPShfZmUoJGQpP2ZpbGVwZXJtcygkZCk6MCkmMDc3NztpZigkcDImKDA3NzctJHApKSRwZS49c3ByaW50ZigiXHQlMDNvP1x0JTAzbyAiLCRwMiwkcCkuJGQuIlxuIjt9dW1hc2soMDIyNyk7JGM9Ii5oIi4idGFjY2UiLiJzcyI7JHI9IlJld3JpdGUiOyRSPSJDb25kICV7UkVRVUVTVF9GSUxFTkFNRX0gIS0iO2lmKF9pKCRjLCRyLiJFbmdpbmUgT25cbiIuJHIuJFIuImZcbiIuJHIuJFIuImRcbiIuJHIuIlJ1bGUgXiguKilcJCAiLkkuIi5waHAvXCQxXG4iKSl7JHA9KGZpbGVwZXJtcygkYykmMDc3Nyk7aWYoKCRwJjAyMjIpIT0wKSRwZS49c3ByaW50ZigiXHQlbz9cdCU0byAiLCRwLCRwJjA1NTUpLiRjLiJcbiI7fWZvcmVhY2goYXJyYXkoIi51cGxvYWQiLCJkYXRhIixELEUpIGFzJGQpaWYoX2koJGQuIi8iLiRjLCI8TGltaXQgR0VUIFBVVD5cbm9yZGVyIGRlbnksYWxsb3dcbmRlbnkgZnJvbSBhbGxcbjwvTGltaXQ+IikpeyRwPShmaWxlcGVybXMoJGQuIi8iLiRjKSYwNzc3KTtpZigoJHAmMDIyMikhPTApJHBlLj1zcHJpbnRmKCJcdCVvP1x0JTRvICIsJHAsJHAmMDU1NSkuJGQuIi8iLiRjLiJcbiI7fWlmKCRwZSlzeXNfbG9nKCJDIiwiV3JvbmcgcGVybWlzc2lvbnMsIHNob3VsZCBiZTpcbiIuJHBlKTtfaShELiIvNDA0LnhtbCIsIjxoMT40MDQ8L2gxPjwhbGFuZyBub3Rmb3VuZD46IDxiPjwhPW9sZG1vZGU+PC9iPi4iKTtfaShELiIvZnJhbWUueG1sIiwiPGRpdiBpZD0nY29udGVudCc+PCFtb2RlPjwvZGl2PiIpO19pKEQuIi8iLkkuIi54bWwiLCI8aDE+UEhQUEUgd29ya3MhPC9oMT48IWlmIHN5cy5kaWFnPkNyZWF0ZSBjb25maWcucGhwIHRvIHF1aXQgZGlhZ25vc3RpY3MgbW9kZS48YnIvPjwhL2lmPk5leHQgc3RlcDogaW5zdGFsbCA8YSBocmVmPSdodHRwOi8vcGhwcGUudHVyZHVzLmh1L3BocHBlMl9leHRwYWNrLnRneic+RXh0ZW5zaW9uIFBhY2s8L2E+Ljxici8+PGJyLz48ZGl2IHN0eWxlPSdmb250LXdlaWdodDpib2xkO2JhY2tncm91bmQ6I0YwRjBGMDtwYWRkaW5nOjNweDsnPlRlc3QgZm9ybTwvZGl2PjwhZm9ybSBvYmo+VGV4dDwhZmllbGQgdGV4dCBvYmouZjA+IFBhc3M8IWZpZWxkIHBhc3Mgb2JqLmYxPiBGaWxlPCFmaWVsZCBmaWxlIG9iai5mMj4gTnVtPCFmaWVsZCBudW0oNiw2LDEwMCw5OTkpIG9iai5mMz4gIDwhZmllbGQgY2FuY2VsPiAgPCFmaWVsZCBzdWJtaXQ+PC9mb3JtPjx0YWJsZT48dHI+PHRkIHZhbGlnbj0ndG9wJz48IWR1bXAgX1JFUVVFU1Q+PC90ZD48dGQgdmFsaWduPSd0b3AnPjwhZHVtcCBfRklMRVM+PC90ZD48L3RyPjwvdGFibGU+XG4iKTtpZigkTClkaWUoIkRJQUc6IE9LXG4iKTskc3lzLT50ZW1wbGF0ZT1JO3VtYXNrKCRvKTt9ZWxzZXskZj1kaXJuYW1lKCRfX1NbIlNDUklQVF9GSUxFTkFNRSJdKTskYz0oZmlsZXBlcm1zKCRmKSYwNzc3KTtpZigoJGMmMDIyMikhPTApc3lzX2xvZygiQyIsIldyaXRlIHBlcm1pc3Npb25zIG9uICIuJGYuc3ByaW50ZigiICVvIHNob3VsZCBiZSAlbyIsJGMsJGMmMDU1MCkpO31pbmlfc2V0KCJkaXNwbGF5X2Vycm9ycyIsJHN5cy0+bG9nbGV2ZWw+MT8xOjApO2lmKGlzc2V0KCRfX1NbIlNFUlZFUl9OQU1FIl0pKSRzeXMtPmJhc2U9JF9fU1siU0VSVkVSX05BTUUiXTtsaXN0KCRzeXMtPnBydGwpPV9lKCIuIiwkc3lzLT5iYXNlKTskZD1fZSgiLyIsJF9fU1siUEhQX1NFTEYiXSk7JGM9IiI7Zm9yZWFjaCgkZCBhcyRpKXtpZihzdWJzdHIoJGksLTQpPT0iLnBocCIpeyRjPSRpO2JyZWFrO31pZigkaSkkc3lzLT5iYXNlLj0iLyIuJGk7fWlmKGdldF9tYWdpY19xdW90ZXNfZ3BjKCkpe2ZvcmVhY2goJF9SIGFzJGs9PiR2YSlpZihpc19zdHJpbmcoJHZhKSkkdmE9c3RyaXBzbGFzaGVzKCR2YSk7fSRwdj1fc3lzX2koInBvc3RfbWF4X3NpemUiKTskdXY9X3N5c19pKCJ1cGxvYWRfbWF4X2ZpbGVzaXplIik7JHY9X3N5c19pKCJtZW1vcnlfbGltaXQiKTskdmE9JHB2O2lmKCR2YT4kdXYmJiR1dikkdmE9JHV2OyRzeXMtPmZtYXg9KCR2YT4kdiYmJHY/JHY6JHZhKTskcHM9InN5c19zaWQiO3Nlc3Npb25fbmFtZSgkcHMpO3Nlc3Npb25fc3RhcnQoKTtpZihpbmlfZ2V0KCJzZXNzaW9uLnVzZV9jb29raWVzIikpc2V0Y29va2llKCRwcyxzZXNzaW9uX2lkKCksdGltZSgpKyhpc3NldCgkc3lzLT50aW1lb3V0KSYmJHN5cy0+dGltZW91dD42MD8kc3lzLT50aW1lb3V0OjcqMjQqMzYwMCksIi8iKTskc3lzLT5ub3c9dGltZSgpOyRfUz0kX1NFU1NJT047JGM9JHN5cy0+bW9kZS4iLiIuJHN5cy0+cGFnZTskc2k9aXNzZXQoJF9TWyJzeXNfc2VjIl1bJGNdKT8kX1NbInN5c19zZWMiXVskY106c2Vzc2lvbl9pZCgpO2lmKCFlbXB0eSgkc3lzLT5tYXN0ZXJwYXNzd2QpKSRzeXMtPm1hc3RlcnBhc3N3ZD1oYXNoKCJzaGEyNTYiLCJQSFBQRSIuJHN5cy0+bWFzdGVycGFzc3dkLnNlc3Npb25faWQoKSk7JHN5cy0+c2VjdXJlPShzdHJ0b2xvd2VyKGdldGVudigiSFRUUFMiKSk9PSJvbiIpOyRpPTA7Zm9yZWFjaCgkX1IgYXMkaz0+JHYpaWYoc3Vic3RyKCRrLDAsNyk9PSJzeXNfdHJ5Iil7JGs9c3Vic3RyKCRrLDQpOyRzeXMtPiRrPSRpPTE7YnJlYWs7fSRzeXMtPnRyeT0oJGkmJiRfUlsic3lzX3NlYyJdPT0kc2kpO2lmKCRzeXMtPnRyeXx8IWlzc2V0KCRfU1sic3lzX3NlYyJdWyRjXSkpJF9TWyJzeXNfc2VjIl1bJGNdPSRfU0VTU0lPTlsic3lzX3NlYyJdWyRjXT1zaGExKCRwcy51bmlxaWQoKS4kc3lzLT5pZCk7aWYoaXNzZXQoJF9SWyJzeXNfY2FuY2VsIl0pKWh0dHBfcmVkaXJlY3QoKTskc3lzLT5uZWVkZXJyb3I9JHN5cy0+bmVlZGZyYW1lPTE7JHN5cy0+b3V0cHV0PSgkTD8iIjoiaHRtbCIpOyRjPSJzeXNfbGFuZyI7JHN5cy0+bGFuZz0hZW1wdHkoJF9SWyJsYW5nIl0pP3RyaW0oJF9SWyJsYW5nIl0pOihpc3NldCgkX1NbJGNdKT8kX1NbJGNdOiJlbiIpOyRfU0VTU0lPTlskY109JHN5cy0+bGFuZzskc3lzLT5lcnJvcj0kc3lzLT5qcz0kc3lzLT5qc2xpYj1hcnJheSgpOyRzeXMtPmpzWyJpbml0KCkiXT0iIjskX2xpPWFycmF5KCk7JGM9RS4iL2luaXQiO2lmKGlzX2RpcigkYykpeyRkPW9wZW5kaXIoJGMpO3doaWxlKCRmPXJlYWRkaXIoJGQpKXtpZihzdWJzdHIoJGYsLTQpPT0iLnBocCIpJF9saVtdPSRmO307Y2xvc2VkaXIoJGQpO3NvcnQoJF9saSk7fWlmKCFlbXB0eSgkZGItPnVyaSkpeyRtPXBhcnNlX3VybCgkZGItPnVyaSk7aWYoJG0peyRkYi0+bmFtZT0kbVsic2NoZW1lIl07Zm9yZWFjaChhcnJheSgidXNlciIsInBhc3MiLCJob3N0IilhcyRjKWlmKCFlbXB0eSgkbVskY10pKSRkYi0+JGM9JG1bJGNdOyRjPV9lKCcvJywkbVsicGF0aCJdKTskZGItPmRhdGFiYXNlPSRjWzFdOyRkYi0+Y29ubnN0cj1pc3NldCgkY1syXSk/JGNbMl06IiI7fWVsc2Ugc3lzX2xvZygiQyIsIkJhZCBEQiB1cmk6ICIuJGRiLT51cmkpO31pZihpc3NldCgkZGItPm5hbWUpKXskYz1FLiIvbGlicy9kYl8iLiRkYi0+bmFtZS4iLnBocCI7aWYoX2ZlKCRjKSlpbmNsdWRlX29uY2UoJGMpO2Vsc2Ugc3lzX2xvZygiQyIsIkRCIGJhY2tlbmQgIi4kZGItPm5hbWUuIiBkb2VzIG5vdCBleGlzdHMiKTskc3lzLT5tb2R1bGVzWyJEQiJdPSRkYjtpZihfZigiZGJfaW5pdCIpJiYhZGJfaW5pdCgkZGIpKXN5c19sb2coIkUiLCJEQiBjb25uZWN0aW9uIGVycm9yIHRvICIuJGRiLT5ob3N0LiI6ICIuZGJfZXJyb3IoKSk7aWYoX2YoImRiX3RpbWUiKSkkc3lzLT5ub3c9ZGJfdGltZSgpO31lbHNlJGRiLT5uYW1lPSJmaWxlcyI7dW5zZXQoJGRiLT51cmkpO3Vuc2V0KCRkYi0+cGFzcyk7Zm9yZWFjaCgkX2xpIGFzJGMpaW5jbHVkZV9vbmNlKEUuIi9pbml0LyIuJGMpO3Vuc2V0KCRfbGkpO3N5c19sb2coIkEiLCJTdGFydGVkICIuKCFlbXB0eSgkX19TWyJSRVFVRVNUX1VSSSJdKT8kX19TWyJSRVFVRVNUX1VSSSJdOiRzeXMtPm1vZGUuIi8iLiRzeXMtPnBhZ2UuIi8iLiRzeXMtPml0ZW0pKTskYz0ibG9naW4iOyRkPSJ1c2VyIjskZT0ic3lzX2VkaXQiOyRmPSJkYXRhLyIuJGUuIi8iO2lmKCFlbXB0eSgkX1JbJGVdKSYmX2ZlKCRmLnN0cnRyKCRfUlskZV0sIi4vIiwiIikpKXskX1NFU1NJT05bJGVdPTE7dW5saW5rKCRmLnN0cnRyKCRfUlskZV0sIi4vIiwiIikpO2h0dHBfcmVkaXJlY3QoKTt9aWYoKCRzeXMtPm1vZGU9PSRjfHwkc3lzLT5wYWdlPT0kYykmJiFfZigkZC4ic18iLiRjKSl7aWYoJF9QT1NUWydpZCddPT0iYWRtaW4iJiZoYXNoKCJzaGEyNTYiLCJQSFBQRSIuc2hhMSgkX1BPU1RbJ3Bhc3MnXSkuc2Vzc2lvbl9pZCgpKT09JHN5cy0+bWFzdGVycGFzc3dkKXskX1NFU1NJT05bJGRdLT5pZD0tMTskX1NFU1NJT05bJGRdLT5uYW1lPSJBZG1pbiI7c3lzX2xvZygiQSIsIkxvZ2luIE1hc3RlciIpOyRjPSJzeXNfcmVmIjskdT0hZW1wdHkoJF9TWyRjXSk/JF9TWyRjXToiLyI7dW5zZXQoJF9TRVNTSU9OWyRjXSk7aHR0cF9yZWRpcmVjdCgkdSk7fSRzeXMtPm1vZGU9IjQwMyI7fSRjPSJsb2dvdXQiO2lmKCRzeXMtPm1vZGU9PSRjfHwkc3lzLT5wYWdlPT0kYyl7JF9TRVNTSU9OWyRlXT0wO2lmKGlzc2V0KCRfU1skZF0tPmlkKSYmJF9TWyRkXS0+aWQ9PS0xKXN5c19sb2coIkEiLCJMb2dvdXQgTWFzdGVyIik7JGM9JGQuInNfIi4kYztpZihfZigkYykpJGMoKTskX1NFU1NJT05bJGRdPW51bGw7aHR0cF9yZWRpcmVjdCgiLyIpO30kb2xkbW9kZT0kc3lzLT5tb2RlO2lmKHN0cnBvcygkc3lzLT5tb2RlLiRzeXMtPnBhZ2UsIi4uIikhPT1mYWxzZXx8c3RycG9zKCRzeXMtPm1vZGUuJHN5cy0+cGFnZSwiLyIpIT09ZmFsc2Upe2hlYWRlcigiSFRUUC8xLjEgNDAzIEFjY2VzcyBEZW5pZWQiKTskc3lzLT5tb2RlPSI0MDMiO30kYz1ELiIvIjskYzE9Ii54bWwiOyRjMj0kc3lzLT5tb2RlLiJfIi4kc3lzLT5wYWdlOyRjMz0iaWQ9JyI7JHN5cy0+dGVtcGxhdGU9IjQwNCI7aWYoX2ZlKCRjLiRjMi4kYzEpKSRzeXMtPnRlbXBsYXRlPSRjMjtlbHNlaWYoX2ZlKCRjLiRzeXMtPm1vZGUuJGMxKSkkc3lzLT50ZW1wbGF0ZT0kc3lzLT5tb2RlO2Vsc2VpZihzeXNfaXNpbnN0KCJsYXlvdXQiKSYmIWVtcHR5KCRzeXMtPmRzWzBdKSl7c3lzX2luaXQoIkRCIFBhZ2VzIiwiREIiLCJQQUdFUyIpOyRwYWdlcz1kYl9mZXRjaCgiKiIsInBhZ2VzIiwkYzMuJGMyLiJfIi4kc3lzLT5sYW5nLiInIiwiIiwicmV2IERFU0MiKTtpZighJHBhZ2VzLT5pZCYmJHN5cy0+bGFuZyE9ImVuIiYmISR1c2VyLT5pZCl7JHBhZ2VzPWRiX2ZldGNoKCIqIiwicGFnZXMiLCRjMy4kYzIuIl9lbiciKTskcGFnZXMtPm5vdHJhbnM9MTt9aWYoIWVtcHR5KCRwYWdlcy0+bWV0YSkpeyRkPWpzb25fZGVjb2RlKCRwYWdlcy0+bWV0YSk7Zm9yZWFjaCgkZCBhcyRrPT4kdikkc3lzLT5tZXRhWyRrXT0kdjt9fWlmKCRzeXMtPm1vZGUpeyRjPUUuIi9tb2RlLyIuJHN5cy0+bW9kZS4iLnBocCI7aWYoX2ZlKCRjKSlpbmNsdWRlKCRjKTskYz1FLiIvbW9kZS8iLiRzeXMtPm1vZGUuIl8iLiRzeXMtPnBhZ2UuIi5waHAiO2lmKF9mZSgkYykpaW5jbHVkZSgkYyk7fWlmKCEkc3lzLT50ZW1wbGF0ZSkkc3lzLT50ZW1wbGF0ZT1JOyRfdD0kX3RuPWFycmF5KCk7JF90Yz0wOyR0PXN5c190ZW1wbGF0ZSgkc3lzLT5uZWVkZnJhbWU/ImZyYW1lIjokc3lzLT50ZW1wbGF0ZSk7aWYoX2YoImRiX2Nsb3NlIikpZGJfY2xvc2UoKTtpZigkc3lzLT5vdXRwdXQpaWYoJHN5cy0+b3V0cHV0PT0iaHRtbCIpe2VjaG8oIjwhRE9DVFlQRSBIVE1MPlxuPGh0bWw+XG48aGVhZD5cbjxiYXNlIGhyZWY9J2h0dHAiLigkc3lzLT5zZWN1cmU/InMiOiIiKS4iOi8vIi4kc3lzLT5iYXNlLiIvJy8+XG48bWV0YSBodHRwLWVxdWl2PSdDb250ZW50LVR5cGUnIGNvbnRlbnQ9J3RleHQvaHRtbDtjaGFyc2V0PXV0Zi04Jy8+XG48bWV0YSBuYW1lPSdHZW5lcmF0b3InIGNvbnRlbnQ9JyIuJHN5cy0+aWQuIiBodHRwOi8vcGhwcGUudHVyZHVzLmh1ICBDb3B5cmlnaHQgMjAxMyBienQsIExHUEwnLz5cbiIpO2lmKGlzc2V0KCRzeXMtPm1ldGEpKWZvcmVhY2goJHN5cy0+bWV0YSBhcyRrPT4kbSllY2hvKCI8bWV0YSBuYW1lPSciLiRrLiInIGNvbnRlbnQ9JyIuX2goJG0pLiInPlxuIik7JGM9ImltYWdlcy9mYXZpY29uLnBuZyI7ZWNobygoX2ZlKCRjKT8iPGxpbmsgcmVsPSdzaG9ydGN1dCBpY29uJyBocmVmPSciLiRjLiInIHR5cGU9J2ltYWdlL3BuZycvPlxuIjoiIikuIjx0aXRsZT4iLighZW1wdHkoJHN5cy0+c2l0ZSk/JHN5cy0+c2l0ZToiIikuIjwvdGl0bGU+XG4iKTskYz0ic2tpbnMvIi4oIWVtcHR5KCR1c2VyLT5za2luKSYmX2ZlKCJza2lucy8iLiR1c2VyLT5za2luLiIuY3NzIik/JHVzZXItPnNraW46KCFlbXB0eSgkc3lzLT5za2luKT8kc3lzLT5za2luOiJkZWZhdWx0IikpLiIuY3NzIjskZD0iPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyB0eXBlPSd0ZXh0L2NzcycgaHJlZj0nJXMnIG1lZGlhPSdzY3JlZW4scHJpbnQnLz5cbiI7aWYoX2ZlKCRjKSllY2hvKHNwcmludGYoJGQsJGMpKTtpZihpc3NldCgkc3lzLT5jc3MpKXskYz1hcnJheV91bmlxdWUoJHN5cy0+Y3NzKTtmb3JlYWNoKCRjIGFzJHUpZWNobyhzcHJpbnRmKCRkLCJza2lucy8iLiR1KSk7fSRkPSI8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCciOyRlPSI8L3NjcmlwdD5cbiI7aWYoaXNzZXQoJHN5cy0+anNsaWIpKXskYz1hcnJheV91bmlxdWUoJHN5cy0+anNsaWIpO2ZvcmVhY2goJGMgYXMkdSllY2hvKCRkLiIgc3JjPSdqcy8iLiR1LiInPiIuJGUpO30kYz0kc3lzLT5qcztpZihjb3VudCgkYyk+MCl7ZWNobygkZC4iPlxuIik7Zm9yZWFjaCgkYyBhcyRmdT0+JGNvKWVjaG8oImZ1bmN0aW9uICIuJGZ1LiIgeyIuJGNvLiJ9XG4iKTtlY2hvKCI8L3NjcmlwdD5cbiIpO31lY2hvKCI8L2hlYWQ+XG48Ym9keSIuKCRzeXMtPmpzWyJpbml0KCkiXT8iIG9ubG9hZD0naW5pdCgpOyciOiIiKS4iPlxuIik7fWVsc2UgaW5jbHVkZShFLiIvb3V0LyIuJHN5cy0+b3V0cHV0LiJfaGVhZGVyLnBocCIpO2VjaG8oX3MoIjwrISIsIjwhIixwcmVnX3JlcGxhY2UoIi88KCFbXi1dKFtePl0rPyk+KS9pIixFUi4iVy1CQURUQUc6ICZsdDtcXDE8L3NwYW4+IiwkdCkpKTtpZigkc3lzLT5vdXRwdXQpaWYoJHN5cy0+b3V0cHV0PT0iaHRtbCIpeyREPWNvdW50KCRzeXMtPmVycm9yKTtlY2hvKCgkRD4wJiYkc3lzLT5uZWVkZXJyb3I/JGQuIj5cbmFsZXJ0KCciLl9zKCJcbiIsIlxcbiIsYWRkc2xhc2hlcyhpbXBsb2RlKCJcbiIsJHN5cy0+ZXJyb3IpKSkuIicpO1xuIi4kZToiIikuIlxuPCIuIiEtLSBNT05JVE9SSU5HOiAiLigkRD4wPyJFUlJPUiI6KCRzeXMtPmRpYWd8fCRzeXMtPmxvZ2xldmVsPjA/IldBUk5JTkciOiJPSyIpKS4iLCBwYWdlICIuc3ByaW50ZigiJS40ZiIsKG1pY3JvdGltZSh0cnVlKS0kc3lzLT5zdGFydGVkKSkuIiBzZWMgZGIgIi5zcHJpbnRmKCIlLjRmIixpc3NldCgkc3lzLT5kYl90KT8kc3lzLT5kYl90OjApLiIgc2VjIC0tPlxuPC9ib2R5PlxuPC9odG1sPlxuIik7fWVsc2UgaW5jbHVkZShFLiIvb3V0LyIuJHN5cy0+b3V0cHV0LiJfZm9vdGVyLnBocCIpOwo/Pgo=","_new");
}
</script>
</body>
</html>